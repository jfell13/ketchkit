import{s as sm,k as um,r as S,m as lm,n as Jf,a as Oe,j as ee,_ as F,o as st,p as Ve,u as Ye,q as Ce,v as De,w as X,x as Ze,C as cm,y as dm,f as ev,z as fm,B as vm,A as hm,D as tv,E as rv,F as Ps,H as pm,I as mm,J as gm,K as ym,L as bm,N as Ou,O as xm,Q as Cm,R as wm,S as _u,U as Sm,V as Tu,W as Nu,X as Mm,Y as Am,Z as nv,$ as Jr,a0 as Im,l as wt,a1 as Em,a2 as C,a3 as Pm,T as km,P as Om,a4 as ov,a5 as av,a6 as j,a7 as an,a8 as Nn,a9 as iv,aa as Gt,ab as ye,ac as St,ad as ks,ae as er,af as Be,ag as jn,ah as ge,ai as be,aj as Ft,ak as _m,al as Tm,am as sv,an as Mt,ao as kr,ap as Or,aq as Nm,ar as uv,as as Rn,at as Ji,au as hn,av as pn,aw as _r,ax as Ae,ay as lv,az as cv,aA as jm,aB as rt,h as W,aC as ju,aD as Os,aE as Rm,aF as Lm,aG as Ln,aH as Dm,aI as _s,aJ as Fm,aK as Ru,aL as dv,aM as qm,aN as Bm,aO as mn,aP as nt,aQ as zm,aR as Hm,aS as $m,aT as fv,aU as Dn,aV as vv,i as We,aW as gn,aX as Ot,aY as Lu,aZ as es,a_ as Um,a$ as Du,b0 as Ts,b1 as hv,b2 as pv,b3 as Gm,b4 as yn,b5 as mv,b6 as Wm,b7 as Km,b8 as Vm,b9 as Ym,ba as Zm,bb as Qm,bc as Xm,g as ts,bd as gv,be as yv,bf as bv,bg as fr,bh as bt,bi as Jm,bj as xv,bk as eg,bl as tg,bm as Cv,bn as rg,bo as ng,bp as og,bq as ag,br as ig,bs as sg,bt as ug,bu as lg,bv as cg,bw as dg,bx as fg,by as vg,c as hg,b as pg,d as rs,e as mg,t as Fu}from"./index-1KnkR_ez.js";import{j as f,a as I,F as te}from"./emotion-react-jsx-runtime.browser.esm-JWBVBwgc.js";function wv(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=wv(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function gg(){for(var t,e,r=0,n="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=wv(t))&&(n&&(n+=" "),n+=e);return n}const yg=["className","component"];function bg(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:o}=t,a=sm("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(um);return S.forwardRef(function(u,l){const c=lm(r),d=Jf(u),{className:v,component:p="div"}=d,h=Oe(d,yg);return ee.jsx(a,F({as:p,ref:l,className:gg(v,o?o(n):n),theme:e&&c[e]||c},h))})}function ro(t,e){var r,n;return S.isValidElement(t)&&e.indexOf((r=t.type.muiName)!=null?r:(n=t.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function xg(t){return st("MuiTypography",t)}Ve("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Cg=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],wg=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:o,variant:a,classes:i}=t,s={root:["root",a,t.align!=="inherit"&&`align${X(e)}`,r&&"gutterBottom",n&&"noWrap",o&&"paragraph"]};return Ze(s,xg,i)},Sg=Ce("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${X(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>F({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),qu={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Mg={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ag=t=>Mg[t]||t,mr=S.forwardRef(function(e,r){const n=Ye({props:e,name:"MuiTypography"}),o=Ag(n.color),a=Jf(F({},n,{color:o})),{align:i="inherit",className:s,component:u,gutterBottom:l=!1,noWrap:c=!1,paragraph:d=!1,variant:v="body1",variantMapping:p=qu}=a,h=Oe(a,Cg),m=F({},a,{align:i,color:o,className:s,component:u,gutterBottom:l,noWrap:c,paragraph:d,variant:v,variantMapping:p}),y=u||(d?"p":p[v]||qu[v])||"span",b=wg(m);return ee.jsx(Sg,F({as:y,ref:r,ownerState:m,className:De(b.root,s)},h))}),Ig=Ve("MuiBox",["root"]),Eg=ev(),Sv=bg({themeId:dm,defaultTheme:Eg,defaultClassName:Ig.root,generateClassName:cm.generate});function Pg(t){return st("MuiButtonGroup",t)}const he=Ve("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),kg=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Og=(t,e)=>{const{ownerState:r}=t;return[{[`& .${he.grouped}`]:e.grouped},{[`& .${he.grouped}`]:e[`grouped${X(r.orientation)}`]},{[`& .${he.grouped}`]:e[`grouped${X(r.variant)}`]},{[`& .${he.grouped}`]:e[`grouped${X(r.variant)}${X(r.orientation)}`]},{[`& .${he.grouped}`]:e[`grouped${X(r.variant)}${X(r.color)}`]},{[`& .${he.firstButton}`]:e.firstButton},{[`& .${he.lastButton}`]:e.lastButton},{[`& .${he.middleButton}`]:e.middleButton},e.root,e[r.variant],r.disableElevation===!0&&e.disableElevation,r.fullWidth&&e.fullWidth,r.orientation==="vertical"&&e.vertical]},_g=t=>{const{classes:e,color:r,disabled:n,disableElevation:o,fullWidth:a,orientation:i,variant:s}=t,u={root:["root",s,i==="vertical"&&"vertical",a&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${X(i)}`,`grouped${X(s)}`,`grouped${X(s)}${X(i)}`,`grouped${X(s)}${X(r)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Ze(u,Pg,e)},Tg=Ce("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Og})(({theme:t,ownerState:e})=>F({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[2]},e.disableElevation&&{boxShadow:"none"},e.fullWidth&&{width:"100%"},e.orientation==="vertical"&&{flexDirection:"column"},{[`& .${he.grouped}`]:F({minWidth:40,"&:hover":F({},e.variant==="contained"&&{boxShadow:"none"})},e.variant==="contained"&&{boxShadow:"none"}),[`& .${he.firstButton},& .${he.middleButton}`]:F({},e.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},e.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},e.variant==="text"&&e.orientation==="horizontal"&&{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${he.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="text"&&e.orientation==="vertical"&&{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${he.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="text"&&e.color!=="inherit"&&{borderColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:tv.alpha(t.palette[e.color].main,.5)},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"transparent"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"transparent"},e.variant==="contained"&&e.orientation==="horizontal"&&{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${he.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="contained"&&e.orientation==="vertical"&&{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${he.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="contained"&&e.color!=="inherit"&&{borderColor:(t.vars||t).palette[e.color].dark},{"&:hover":F({},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"currentColor"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${he.lastButton},& .${he.middleButton}`]:F({},e.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},e.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},e.variant==="outlined"&&e.orientation==="horizontal"&&{marginLeft:-1},e.variant==="outlined"&&e.orientation==="vertical"&&{marginTop:-1})})),Ng=S.forwardRef(function(e,r){const n=Ye({props:e,name:"MuiButtonGroup"}),{children:o,className:a,color:i="primary",component:s="div",disabled:u=!1,disableElevation:l=!1,disableFocusRipple:c=!1,disableRipple:d=!1,fullWidth:v=!1,orientation:p="horizontal",size:h="medium",variant:m="outlined"}=n,y=Oe(n,kg),b=F({},n,{color:i,component:s,disabled:u,disableElevation:l,disableFocusRipple:c,disableRipple:d,fullWidth:v,orientation:p,size:h,variant:m}),g=_g(b),w=S.useMemo(()=>({className:g.grouped,color:i,disabled:u,disableElevation:l,disableFocusRipple:c,disableRipple:d,fullWidth:v,size:h,variant:m}),[i,u,l,c,d,v,h,m,g.grouped]),x=fm(o),M=x.length,A=P=>{const O=P===0,k=P===M-1;return O&&k?"":O?g.firstButton:k?g.lastButton:g.middleButton};return ee.jsx(Tg,F({as:s,role:"group",className:De(g.root,a),ref:r,ownerState:b},y,{children:ee.jsx(vm.Provider,{value:w,children:x.map((P,O)=>ee.jsx(hm.Provider,{value:A(O),children:P},O))})}))});function jg(t){return st("MuiDialog",t)}const no=Ve("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Mv=S.createContext({}),Rg=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Lg=Ce(ym,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Dg=t=>{const{classes:e,scroll:r,maxWidth:n,fullWidth:o,fullScreen:a}=t,i={root:["root"],container:["container",`scroll${X(r)}`],paper:["paper",`paperScroll${X(r)}`,`paperWidth${X(String(n))}`,o&&"paperFullWidth",a&&"paperFullScreen"]};return Ze(i,jg,e)},Fg=Ce(gm,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),qg=Ce("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${X(r.scroll)}`]]}})(({ownerState:t})=>F({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Bg=Ce(Ps,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${X(r.scroll)}`],e[`paperWidth${X(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>F({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${no.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${no.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${no.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),zg=S.forwardRef(function(e,r){const n=Ye({props:e,name:"MuiDialog"}),o=rv(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":s,BackdropComponent:u,BackdropProps:l,children:c,className:d,disableEscapeKeyDown:v=!1,fullScreen:p=!1,fullWidth:h=!1,maxWidth:m="sm",onBackdropClick:y,onClick:b,onClose:g,open:w,PaperComponent:x=Ps,PaperProps:M={},scroll:A="paper",TransitionComponent:P=pm,transitionDuration:O=a,TransitionProps:k}=n,_=Oe(n,Rg),E=F({},n,{disableEscapeKeyDown:v,fullScreen:p,fullWidth:h,maxWidth:m,scroll:A}),L=Dg(E),H=S.useRef(),R=N=>{H.current=N.target===N.currentTarget},D=N=>{b&&b(N),H.current&&(H.current=null,y&&y(N),g&&g(N,"backdropClick"))},q=mm(s),$=S.useMemo(()=>({titleId:q}),[q]);return ee.jsx(Fg,F({className:De(L.root,d),closeAfterTransition:!0,components:{Backdrop:Lg},componentsProps:{backdrop:F({transitionDuration:O,as:u},l)},disableEscapeKeyDown:v,onClose:g,open:w,ref:r,onClick:D,ownerState:E},_,{children:ee.jsx(P,F({appear:!0,in:w,timeout:O,role:"presentation"},k,{children:ee.jsx(qg,{className:De(L.container),onMouseDown:R,ownerState:E,children:ee.jsx(Bg,F({as:x,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":q},M,{className:De(L.paper,M.className),ownerState:E,children:ee.jsx(Mv.Provider,{value:$,children:c})}))})}))}))});function Hg(t){return st("MuiDialogActions",t)}Ve("MuiDialogActions",["root","spacing"]);const $g=["className","disableSpacing"],Ug=t=>{const{classes:e,disableSpacing:r}=t;return Ze({root:["root",!r&&"spacing"]},Hg,e)},Gg=Ce("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})(({ownerState:t})=>F({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Wg=S.forwardRef(function(e,r){const n=Ye({props:e,name:"MuiDialogActions"}),{className:o,disableSpacing:a=!1}=n,i=Oe(n,$g),s=F({},n,{disableSpacing:a}),u=Ug(s);return ee.jsx(Gg,F({className:De(u.root,o),ownerState:s,ref:r},i))});function Kg(t){return st("MuiDialogContent",t)}Ve("MuiDialogContent",["root","dividers"]);function Vg(t){return st("MuiDialogTitle",t)}const Yg=Ve("MuiDialogTitle",["root"]),Zg=["className","dividers"],Qg=t=>{const{classes:e,dividers:r}=t;return Ze({root:["root",r&&"dividers"]},Kg,e)},Xg=Ce("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>F({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${Yg.root} + &`]:{paddingTop:0}})),Jg=S.forwardRef(function(e,r){const n=Ye({props:e,name:"MuiDialogContent"}),{className:o,dividers:a=!1}=n,i=Oe(n,Zg),s=F({},n,{dividers:a}),u=Qg(s);return ee.jsx(Xg,F({className:De(u.root,o),ownerState:s,ref:r},i))}),e0=["className","id"],t0=t=>{const{classes:e}=t;return Ze({root:["root"]},Vg,e)},r0=Ce(mr,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),n0=S.forwardRef(function(e,r){const n=Ye({props:e,name:"MuiDialogTitle"}),{className:o,id:a}=n,i=Oe(n,e0),s=n,u=t0(s),{titleId:l=a}=S.useContext(Mv);return ee.jsx(r0,F({component:"h2",className:De(u.root,o),ownerState:s,ref:r,variant:"h6",id:a??l},i))});function o0(t){return st("MuiFormControl",t)}Ve("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const a0=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],i0=t=>{const{classes:e,margin:r,fullWidth:n}=t,o={root:["root",r!=="none"&&`margin${X(r)}`,n&&"fullWidth"]};return Ze(o,o0,e)},s0=Ce("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>F({},e.root,e[`margin${X(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>F({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),u0=S.forwardRef(function(e,r){const n=Ye({props:e,name:"MuiFormControl"}),{children:o,className:a,color:i="primary",component:s="div",disabled:u=!1,error:l=!1,focused:c,fullWidth:d=!1,hiddenLabel:v=!1,margin:p="none",required:h=!1,size:m="medium",variant:y="outlined"}=n,b=Oe(n,a0),g=F({},n,{color:i,component:s,disabled:u,error:l,fullWidth:d,hiddenLabel:v,margin:p,required:h,size:m,variant:y}),w=i0(g),[x,M]=S.useState(()=>{let H=!1;return o&&S.Children.forEach(o,R=>{if(!ro(R,["Input","Select"]))return;const D=ro(R,["Select"])?R.props.input:R;D&&bm(D.props)&&(H=!0)}),H}),[A,P]=S.useState(()=>{let H=!1;return o&&S.Children.forEach(o,R=>{ro(R,["Input","Select"])&&(Ou(R.props,!0)||Ou(R.props.inputProps,!0))&&(H=!0)}),H}),[O,k]=S.useState(!1);u&&O&&k(!1);const _=c!==void 0&&!u?c:O;let E;const L=S.useMemo(()=>({adornedStart:x,setAdornedStart:M,color:i,disabled:u,error:l,filled:A,focused:_,fullWidth:d,hiddenLabel:v,size:m,onBlur:()=>{k(!1)},onEmpty:()=>{P(!1)},onFilled:()=>{P(!0)},onFocus:()=>{k(!0)},registerEffect:E,required:h,variant:y}),[x,i,u,l,A,_,d,v,E,h,m,y]);return ee.jsx(xm.Provider,{value:L,children:ee.jsx(s0,F({as:s,ownerState:g,className:De(w.root,a),ref:r},b,{children:o}))})}),l0=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],c0=t=>{const{classes:e,inset:r,primary:n,secondary:o,dense:a}=t;return Ze({root:["root",r&&"inset",a&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},wm,e)},d0=Ce("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${_u.primary}`]:e.primary},{[`& .${_u.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})(({ownerState:t})=>F({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),f0=S.forwardRef(function(e,r){const n=Ye({props:e,name:"MuiListItemText"}),{children:o,className:a,disableTypography:i=!1,inset:s=!1,primary:u,primaryTypographyProps:l,secondary:c,secondaryTypographyProps:d}=n,v=Oe(n,l0),{dense:p}=S.useContext(Cm);let h=u??o,m=c;const y=F({},n,{disableTypography:i,inset:s,primary:!!h,secondary:!!m,dense:p}),b=c0(y);return h!=null&&h.type!==mr&&!i&&(h=ee.jsx(mr,F({variant:p?"body2":"body1",className:b.primary,component:l!=null&&l.variant?void 0:"span",display:"block"},l,{children:h}))),m!=null&&m.type!==mr&&!i&&(m=ee.jsx(mr,F({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},d,{children:m}))),ee.jsxs(d0,F({className:De(b.root,a),ownerState:y,ref:r},v,{children:[h,m]}))});function v0(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:r=!1,onClose:n,open:o,resumeHideDuration:a}=t,i=Sm();S.useEffect(()=>{if(!o)return;function b(g){g.defaultPrevented||(g.key==="Escape"||g.key==="Esc")&&(n==null||n(g,"escapeKeyDown"))}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[o,n]);const s=Tu((b,g)=>{n==null||n(b,g)}),u=Tu(b=>{!n||b==null||i.start(b,()=>{s(null,"timeout")})});S.useEffect(()=>(o&&u(e),i.clear),[o,e,u,i]);const l=b=>{n==null||n(b,"clickaway")},c=i.clear,d=S.useCallback(()=>{e!=null&&u(a??e*.5)},[e,a,u]),v=b=>g=>{const w=b.onBlur;w==null||w(g),d()},p=b=>g=>{const w=b.onFocus;w==null||w(g),c()},h=b=>g=>{const w=b.onMouseEnter;w==null||w(g),c()},m=b=>g=>{const w=b.onMouseLeave;w==null||w(g),d()};return S.useEffect(()=>{if(!r&&o)return window.addEventListener("focus",d),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",c)}},[r,o,d,c]),{getRootProps:(b={})=>{const g=F({},Nu(t),Nu(b));return F({role:"presentation"},b,g,{onBlur:v(g),onFocus:p(g),onMouseEnter:h(g),onMouseLeave:m(g)})},onClickAway:l}}function h0(t){return st("MuiSnackbarContent",t)}Ve("MuiSnackbarContent",["root","message","action"]);const p0=["action","className","message","role"],m0=t=>{const{classes:e}=t;return Ze({root:["root"],action:["action"],message:["message"]},h0,e)},g0=Ce(Ps,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,r=tv.emphasize(t.palette.background.default,e);return F({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),y0=Ce("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),b0=Ce("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),x0=S.forwardRef(function(e,r){const n=Ye({props:e,name:"MuiSnackbarContent"}),{action:o,className:a,message:i,role:s="alert"}=n,u=Oe(n,p0),l=n,c=m0(l);return ee.jsxs(g0,F({role:s,square:!0,elevation:6,className:De(c.root,a),ownerState:l,ref:r},u,{children:[ee.jsx(y0,{className:c.message,ownerState:l,children:i}),o?ee.jsx(b0,{className:c.action,ownerState:l,children:o}):null]}))});function C0(t){return st("MuiSnackbar",t)}Ve("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const w0=["onEnter","onExited"],S0=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],M0=t=>{const{classes:e,anchorOrigin:r}=t,n={root:["root",`anchorOrigin${X(r.vertical)}${X(r.horizontal)}`]};return Ze(n,C0,e)},Bu=Ce("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`anchorOrigin${X(r.anchorOrigin.vertical)}${X(r.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const r={left:"50%",right:"auto",transform:"translateX(-50%)"};return F({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:F({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&r,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),A0=S.forwardRef(function(e,r){const n=Ye({props:e,name:"MuiSnackbar"}),o=rv(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:i,anchorOrigin:{vertical:s,horizontal:u}={vertical:"bottom",horizontal:"left"},autoHideDuration:l=null,children:c,className:d,ClickAwayListenerProps:v,ContentProps:p,disableWindowBlurListener:h=!1,message:m,open:y,TransitionComponent:b=Mm,transitionDuration:g=a,TransitionProps:{onEnter:w,onExited:x}={}}=n,M=Oe(n.TransitionProps,w0),A=Oe(n,S0),P=F({},n,{anchorOrigin:{vertical:s,horizontal:u},autoHideDuration:l,disableWindowBlurListener:h,TransitionComponent:b,transitionDuration:g}),O=M0(P),{getRootProps:k,onClickAway:_}=v0(F({},P)),[E,L]=S.useState(!0),H=Am({elementType:Bu,getSlotProps:k,externalForwardedProps:A,ownerState:P,additionalProps:{ref:r},className:[O.root,d]}),R=q=>{L(!0),x&&x(q)},D=(q,$)=>{L(!1),w&&w(q,$)};return!y&&E?null:ee.jsx(nv,F({onClickAway:_},v,{children:ee.jsx(Bu,F({},H,{children:ee.jsx(b,F({appear:!0,in:y,timeout:g,direction:s==="top"?"down":"up",onEnter:D,onExited:R},M,{children:c||ee.jsx(x0,F({message:m,action:i},p))}))}))}))});var oo,zu;function Av(){if(zu)return oo;zu=1;function t(e,r){for(var n=-1,o=e==null?0:e.length,a=Array(o);++n<o;)a[n]=r(e[n],n,e);return a}return oo=t,oo}var ao,Hu;function I0(){if(Hu)return ao;Hu=1;function t(){this.__data__=[],this.size=0}return ao=t,ao}var io,$u;function Iv(){if($u)return io;$u=1;function t(e,r){return e===r||e!==e&&r!==r}return io=t,io}var so,Uu;function Fn(){if(Uu)return so;Uu=1;var t=Iv();function e(r,n){for(var o=r.length;o--;)if(t(r[o][0],n))return o;return-1}return so=e,so}var uo,Gu;function E0(){if(Gu)return uo;Gu=1;var t=Fn(),e=Array.prototype,r=e.splice;function n(o){var a=this.__data__,i=t(a,o);if(i<0)return!1;var s=a.length-1;return i==s?a.pop():r.call(a,i,1),--this.size,!0}return uo=n,uo}var lo,Wu;function P0(){if(Wu)return lo;Wu=1;var t=Fn();function e(r){var n=this.__data__,o=t(n,r);return o<0?void 0:n[o][1]}return lo=e,lo}var co,Ku;function k0(){if(Ku)return co;Ku=1;var t=Fn();function e(r){return t(this.__data__,r)>-1}return co=e,co}var fo,Vu;function O0(){if(Vu)return fo;Vu=1;var t=Fn();function e(r,n){var o=this.__data__,a=t(o,r);return a<0?(++this.size,o.push([r,n])):o[a][1]=n,this}return fo=e,fo}var vo,Yu;function qn(){if(Yu)return vo;Yu=1;var t=I0(),e=E0(),r=P0(),n=k0(),o=O0();function a(i){var s=-1,u=i==null?0:i.length;for(this.clear();++s<u;){var l=i[s];this.set(l[0],l[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=o,vo=a,vo}var ho,Zu;function _0(){if(Zu)return ho;Zu=1;var t=qn();function e(){this.__data__=new t,this.size=0}return ho=e,ho}var po,Qu;function T0(){if(Qu)return po;Qu=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return po=t,po}var mo,Xu;function N0(){if(Xu)return mo;Xu=1;function t(e){return this.__data__.get(e)}return mo=t,mo}var go,Ju;function j0(){if(Ju)return go;Ju=1;function t(e){return this.__data__.has(e)}return go=t,go}var yo,el;function Ev(){if(el)return yo;el=1;var t=typeof Jr=="object"&&Jr&&Jr.Object===Object&&Jr;return yo=t,yo}var bo,tl;function Qe(){if(tl)return bo;tl=1;var t=Ev(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return bo=r,bo}var xo,rl;function Hr(){if(rl)return xo;rl=1;var t=Qe(),e=t.Symbol;return xo=e,xo}var Co,nl;function R0(){if(nl)return Co;nl=1;var t=Hr(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,o=t?t.toStringTag:void 0;function a(i){var s=r.call(i,o),u=i[o];try{i[o]=void 0;var l=!0}catch{}var c=n.call(i);return l&&(s?i[o]=u:delete i[o]),c}return Co=a,Co}var wo,ol;function L0(){if(ol)return wo;ol=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return wo=r,wo}var So,al;function sr(){if(al)return So;al=1;var t=Hr(),e=R0(),r=L0(),n="[object Null]",o="[object Undefined]",a=t?t.toStringTag:void 0;function i(s){return s==null?s===void 0?o:n:a&&a in Object(s)?e(s):r(s)}return So=i,So}var Mo,il;function $r(){if(il)return Mo;il=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Mo=t,Mo}var Ao,sl;function Pv(){if(sl)return Ao;sl=1;var t=sr(),e=$r(),r="[object AsyncFunction]",n="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function i(s){if(!e(s))return!1;var u=t(s);return u==n||u==o||u==r||u==a}return Ao=i,Ao}var Io,ul;function D0(){if(ul)return Io;ul=1;var t=Qe(),e=t["__core-js_shared__"];return Io=e,Io}var Eo,ll;function F0(){if(ll)return Eo;ll=1;var t=D0(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Eo=r,Eo}var Po,cl;function kv(){if(cl)return Po;cl=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Po=r,Po}var ko,dl;function q0(){if(dl)return ko;dl=1;var t=Pv(),e=F0(),r=$r(),n=kv(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,i=Function.prototype,s=Object.prototype,u=i.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(v){if(!r(v)||e(v))return!1;var p=t(v)?c:a;return p.test(n(v))}return ko=d,ko}var Oo,fl;function B0(){if(fl)return Oo;fl=1;function t(e,r){return e==null?void 0:e[r]}return Oo=t,Oo}var _o,vl;function qt(){if(vl)return _o;vl=1;var t=q0(),e=B0();function r(n,o){var a=e(n,o);return t(a)?a:void 0}return _o=r,_o}var To,hl;function Ns(){if(hl)return To;hl=1;var t=qt(),e=Qe(),r=t(e,"Map");return To=r,To}var No,pl;function Bn(){if(pl)return No;pl=1;var t=qt(),e=t(Object,"create");return No=e,No}var jo,ml;function z0(){if(ml)return jo;ml=1;var t=Bn();function e(){this.__data__=t?t(null):{},this.size=0}return jo=e,jo}var Ro,gl;function H0(){if(gl)return Ro;gl=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Ro=t,Ro}var Lo,yl;function $0(){if(yl)return Lo;yl=1;var t=Bn(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function o(a){var i=this.__data__;if(t){var s=i[a];return s===e?void 0:s}return n.call(i,a)?i[a]:void 0}return Lo=o,Lo}var Do,bl;function U0(){if(bl)return Do;bl=1;var t=Bn(),e=Object.prototype,r=e.hasOwnProperty;function n(o){var a=this.__data__;return t?a[o]!==void 0:r.call(a,o)}return Do=n,Do}var Fo,xl;function G0(){if(xl)return Fo;xl=1;var t=Bn(),e="__lodash_hash_undefined__";function r(n,o){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&o===void 0?e:o,this}return Fo=r,Fo}var qo,Cl;function W0(){if(Cl)return qo;Cl=1;var t=z0(),e=H0(),r=$0(),n=U0(),o=G0();function a(i){var s=-1,u=i==null?0:i.length;for(this.clear();++s<u;){var l=i[s];this.set(l[0],l[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=o,qo=a,qo}var Bo,wl;function K0(){if(wl)return Bo;wl=1;var t=W0(),e=qn(),r=Ns();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Bo=n,Bo}var zo,Sl;function V0(){if(Sl)return zo;Sl=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return zo=t,zo}var Ho,Ml;function zn(){if(Ml)return Ho;Ml=1;var t=V0();function e(r,n){var o=r.__data__;return t(n)?o[typeof n=="string"?"string":"hash"]:o.map}return Ho=e,Ho}var $o,Al;function Y0(){if(Al)return $o;Al=1;var t=zn();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return $o=e,$o}var Uo,Il;function Z0(){if(Il)return Uo;Il=1;var t=zn();function e(r){return t(this,r).get(r)}return Uo=e,Uo}var Go,El;function Q0(){if(El)return Go;El=1;var t=zn();function e(r){return t(this,r).has(r)}return Go=e,Go}var Wo,Pl;function X0(){if(Pl)return Wo;Pl=1;var t=zn();function e(r,n){var o=t(this,r),a=o.size;return o.set(r,n),this.size+=o.size==a?0:1,this}return Wo=e,Wo}var Ko,kl;function Ov(){if(kl)return Ko;kl=1;var t=K0(),e=Y0(),r=Z0(),n=Q0(),o=X0();function a(i){var s=-1,u=i==null?0:i.length;for(this.clear();++s<u;){var l=i[s];this.set(l[0],l[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=o,Ko=a,Ko}var Vo,Ol;function J0(){if(Ol)return Vo;Ol=1;var t=qn(),e=Ns(),r=Ov(),n=200;function o(a,i){var s=this.__data__;if(s instanceof t){var u=s.__data__;if(!e||u.length<n-1)return u.push([a,i]),this.size=++s.size,this;s=this.__data__=new r(u)}return s.set(a,i),this.size=s.size,this}return Vo=o,Vo}var Yo,_l;function e1(){if(_l)return Yo;_l=1;var t=qn(),e=_0(),r=T0(),n=N0(),o=j0(),a=J0();function i(s){var u=this.__data__=new t(s);this.size=u.size}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=o,i.prototype.set=a,Yo=i,Yo}var Zo,Tl;function t1(){if(Tl)return Zo;Tl=1;function t(e,r){for(var n=-1,o=e==null?0:e.length;++n<o&&r(e[n],n,e)!==!1;);return e}return Zo=t,Zo}var Qo,Nl;function _v(){if(Nl)return Qo;Nl=1;var t=qt(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Qo=e,Qo}var Xo,jl;function Tv(){if(jl)return Xo;jl=1;var t=_v();function e(r,n,o){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):r[n]=o}return Xo=e,Xo}var Jo,Rl;function Nv(){if(Rl)return Jo;Rl=1;var t=Tv(),e=Iv(),r=Object.prototype,n=r.hasOwnProperty;function o(a,i,s){var u=a[i];(!(n.call(a,i)&&e(u,s))||s===void 0&&!(i in a))&&t(a,i,s)}return Jo=o,Jo}var ea,Ll;function Ur(){if(Ll)return ea;Ll=1;var t=Nv(),e=Tv();function r(n,o,a,i){var s=!a;a||(a={});for(var u=-1,l=o.length;++u<l;){var c=o[u],d=i?i(a[c],n[c],c,a,n):void 0;d===void 0&&(d=n[c]),s?e(a,c,d):t(a,c,d)}return a}return ea=r,ea}var ta,Dl;function r1(){if(Dl)return ta;Dl=1;function t(e,r){for(var n=-1,o=Array(e);++n<e;)o[n]=r(n);return o}return ta=t,ta}var ra,Fl;function Bt(){if(Fl)return ra;Fl=1;function t(e){return e!=null&&typeof e=="object"}return ra=t,ra}var na,ql;function n1(){if(ql)return na;ql=1;var t=sr(),e=Bt(),r="[object Arguments]";function n(o){return e(o)&&t(o)==r}return na=n,na}var oa,Bl;function jv(){if(Bl)return oa;Bl=1;var t=n1(),e=Bt(),r=Object.prototype,n=r.hasOwnProperty,o=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(i){return e(i)&&n.call(i,"callee")&&!o.call(i,"callee")};return oa=a,oa}var aa,zl;function zt(){if(zl)return aa;zl=1;var t=Array.isArray;return aa=t,aa}var gr={exports:{}},ia,Hl;function o1(){if(Hl)return ia;Hl=1;function t(){return!1}return ia=t,ia}gr.exports;var $l;function Rv(){return $l||($l=1,function(t,e){var r=Qe(),n=o1(),o=e&&!e.nodeType&&e,a=o&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===o,s=i?r.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||n;t.exports=l}(gr,gr.exports)),gr.exports}var sa,Ul;function a1(){if(Ul)return sa;Ul=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,o){var a=typeof n;return o=o??t,!!o&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<o}return sa=r,sa}var ua,Gl;function Lv(){if(Gl)return ua;Gl=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return ua=e,ua}var la,Wl;function i1(){if(Wl)return la;Wl=1;var t=sr(),e=Lv(),r=Bt(),n="[object Arguments]",o="[object Array]",a="[object Boolean]",i="[object Date]",s="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",d="[object Object]",v="[object RegExp]",p="[object Set]",h="[object String]",m="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",g="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",M="[object Int16Array]",A="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",k="[object Uint16Array]",_="[object Uint32Array]",E={};E[g]=E[w]=E[x]=E[M]=E[A]=E[P]=E[O]=E[k]=E[_]=!0,E[n]=E[o]=E[y]=E[a]=E[b]=E[i]=E[s]=E[u]=E[l]=E[c]=E[d]=E[v]=E[p]=E[h]=E[m]=!1;function L(H){return r(H)&&e(H.length)&&!!E[t(H)]}return la=L,la}var ca,Kl;function js(){if(Kl)return ca;Kl=1;function t(e){return function(r){return e(r)}}return ca=t,ca}var yr={exports:{}};yr.exports;var Vl;function Rs(){return Vl||(Vl=1,function(t,e){var r=Ev(),n=e&&!e.nodeType&&e,o=n&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===n,i=a&&r.process,s=function(){try{var u=o&&o.require&&o.require("util").types;return u||i&&i.binding&&i.binding("util")}catch{}}();t.exports=s}(yr,yr.exports)),yr.exports}var da,Yl;function s1(){if(Yl)return da;Yl=1;var t=i1(),e=js(),r=Rs(),n=r&&r.isTypedArray,o=n?e(n):t;return da=o,da}var fa,Zl;function Dv(){if(Zl)return fa;Zl=1;var t=r1(),e=jv(),r=zt(),n=Rv(),o=a1(),a=s1(),i=Object.prototype,s=i.hasOwnProperty;function u(l,c){var d=r(l),v=!d&&e(l),p=!d&&!v&&n(l),h=!d&&!v&&!p&&a(l),m=d||v||p||h,y=m?t(l.length,String):[],b=y.length;for(var g in l)(c||s.call(l,g))&&!(m&&(g=="length"||p&&(g=="offset"||g=="parent")||h&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||o(g,b)))&&y.push(g);return y}return fa=u,fa}var va,Ql;function Ls(){if(Ql)return va;Ql=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,o=typeof n=="function"&&n.prototype||t;return r===o}return va=e,va}var ha,Xl;function Fv(){if(Xl)return ha;Xl=1;function t(e,r){return function(n){return e(r(n))}}return ha=t,ha}var pa,Jl;function u1(){if(Jl)return pa;Jl=1;var t=Fv(),e=t(Object.keys,Object);return pa=e,pa}var ma,ec;function l1(){if(ec)return ma;ec=1;var t=Ls(),e=u1(),r=Object.prototype,n=r.hasOwnProperty;function o(a){if(!t(a))return e(a);var i=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&i.push(s);return i}return ma=o,ma}var ga,tc;function qv(){if(tc)return ga;tc=1;var t=Pv(),e=Lv();function r(n){return n!=null&&e(n.length)&&!t(n)}return ga=r,ga}var ya,rc;function Ds(){if(rc)return ya;rc=1;var t=Dv(),e=l1(),r=qv();function n(o){return r(o)?t(o):e(o)}return ya=n,ya}var ba,nc;function c1(){if(nc)return ba;nc=1;var t=Ur(),e=Ds();function r(n,o){return n&&t(o,e(o),n)}return ba=r,ba}var xa,oc;function d1(){if(oc)return xa;oc=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return xa=t,xa}var Ca,ac;function f1(){if(ac)return Ca;ac=1;var t=$r(),e=Ls(),r=d1(),n=Object.prototype,o=n.hasOwnProperty;function a(i){if(!t(i))return r(i);var s=e(i),u=[];for(var l in i)l=="constructor"&&(s||!o.call(i,l))||u.push(l);return u}return Ca=a,Ca}var wa,ic;function Fs(){if(ic)return wa;ic=1;var t=Dv(),e=f1(),r=qv();function n(o){return r(o)?t(o,!0):e(o)}return wa=n,wa}var Sa,sc;function v1(){if(sc)return Sa;sc=1;var t=Ur(),e=Fs();function r(n,o){return n&&t(o,e(o),n)}return Sa=r,Sa}var br={exports:{}};br.exports;var uc;function h1(){return uc||(uc=1,function(t,e){var r=Qe(),n=e&&!e.nodeType&&e,o=n&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===n,i=a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var d=l.length,v=s?s(d):new l.constructor(d);return l.copy(v),v}t.exports=u}(br,br.exports)),br.exports}var Ma,lc;function p1(){if(lc)return Ma;lc=1;function t(e,r){var n=-1,o=e.length;for(r||(r=Array(o));++n<o;)r[n]=e[n];return r}return Ma=t,Ma}var Aa,cc;function m1(){if(cc)return Aa;cc=1;function t(e,r){for(var n=-1,o=e==null?0:e.length,a=0,i=[];++n<o;){var s=e[n];r(s,n,e)&&(i[a++]=s)}return i}return Aa=t,Aa}var Ia,dc;function Bv(){if(dc)return Ia;dc=1;function t(){return[]}return Ia=t,Ia}var Ea,fc;function qs(){if(fc)return Ea;fc=1;var t=m1(),e=Bv(),r=Object.prototype,n=r.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(i){return i==null?[]:(i=Object(i),t(o(i),function(s){return n.call(i,s)}))}:e;return Ea=a,Ea}var Pa,vc;function g1(){if(vc)return Pa;vc=1;var t=Ur(),e=qs();function r(n,o){return t(n,e(n),o)}return Pa=r,Pa}var ka,hc;function Bs(){if(hc)return ka;hc=1;function t(e,r){for(var n=-1,o=r.length,a=e.length;++n<o;)e[a+n]=r[n];return e}return ka=t,ka}var Oa,pc;function zs(){if(pc)return Oa;pc=1;var t=Fv(),e=t(Object.getPrototypeOf,Object);return Oa=e,Oa}var _a,mc;function zv(){if(mc)return _a;mc=1;var t=Bs(),e=zs(),r=qs(),n=Bv(),o=Object.getOwnPropertySymbols,a=o?function(i){for(var s=[];i;)t(s,r(i)),i=e(i);return s}:n;return _a=a,_a}var Ta,gc;function y1(){if(gc)return Ta;gc=1;var t=Ur(),e=zv();function r(n,o){return t(n,e(n),o)}return Ta=r,Ta}var Na,yc;function Hv(){if(yc)return Na;yc=1;var t=Bs(),e=zt();function r(n,o,a){var i=o(n);return e(n)?i:t(i,a(n))}return Na=r,Na}var ja,bc;function b1(){if(bc)return ja;bc=1;var t=Hv(),e=qs(),r=Ds();function n(o){return t(o,r,e)}return ja=n,ja}var Ra,xc;function $v(){if(xc)return Ra;xc=1;var t=Hv(),e=zv(),r=Fs();function n(o){return t(o,r,e)}return Ra=n,Ra}var La,Cc;function x1(){if(Cc)return La;Cc=1;var t=qt(),e=Qe(),r=t(e,"DataView");return La=r,La}var Da,wc;function C1(){if(wc)return Da;wc=1;var t=qt(),e=Qe(),r=t(e,"Promise");return Da=r,Da}var Fa,Sc;function w1(){if(Sc)return Fa;Sc=1;var t=qt(),e=Qe(),r=t(e,"Set");return Fa=r,Fa}var qa,Mc;function S1(){if(Mc)return qa;Mc=1;var t=qt(),e=Qe(),r=t(e,"WeakMap");return qa=r,qa}var Ba,Ac;function Hs(){if(Ac)return Ba;Ac=1;var t=x1(),e=Ns(),r=C1(),n=w1(),o=S1(),a=sr(),i=kv(),s="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",d="[object WeakMap]",v="[object DataView]",p=i(t),h=i(e),m=i(r),y=i(n),b=i(o),g=a;return(t&&g(new t(new ArrayBuffer(1)))!=v||e&&g(new e)!=s||r&&g(r.resolve())!=l||n&&g(new n)!=c||o&&g(new o)!=d)&&(g=function(w){var x=a(w),M=x==u?w.constructor:void 0,A=M?i(M):"";if(A)switch(A){case p:return v;case h:return s;case m:return l;case y:return c;case b:return d}return x}),Ba=g,Ba}var za,Ic;function M1(){if(Ic)return za;Ic=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var o=n.length,a=new n.constructor(o);return o&&typeof n[0]=="string"&&e.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return za=r,za}var Ha,Ec;function A1(){if(Ec)return Ha;Ec=1;var t=Qe(),e=t.Uint8Array;return Ha=e,Ha}var $a,Pc;function $s(){if(Pc)return $a;Pc=1;var t=A1();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return $a=e,$a}var Ua,kc;function I1(){if(kc)return Ua;kc=1;var t=$s();function e(r,n){var o=n?t(r.buffer):r.buffer;return new r.constructor(o,r.byteOffset,r.byteLength)}return Ua=e,Ua}var Ga,Oc;function E1(){if(Oc)return Ga;Oc=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return Ga=e,Ga}var Wa,_c;function P1(){if(_c)return Wa;_c=1;var t=Hr(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(o){return r?Object(r.call(o)):{}}return Wa=n,Wa}var Ka,Tc;function k1(){if(Tc)return Ka;Tc=1;var t=$s();function e(r,n){var o=n?t(r.buffer):r.buffer;return new r.constructor(o,r.byteOffset,r.length)}return Ka=e,Ka}var Va,Nc;function O1(){if(Nc)return Va;Nc=1;var t=$s(),e=I1(),r=E1(),n=P1(),o=k1(),a="[object Boolean]",i="[object Date]",s="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",d="[object String]",v="[object Symbol]",p="[object ArrayBuffer]",h="[object DataView]",m="[object Float32Array]",y="[object Float64Array]",b="[object Int8Array]",g="[object Int16Array]",w="[object Int32Array]",x="[object Uint8Array]",M="[object Uint8ClampedArray]",A="[object Uint16Array]",P="[object Uint32Array]";function O(k,_,E){var L=k.constructor;switch(_){case p:return t(k);case a:case i:return new L(+k);case h:return e(k,E);case m:case y:case b:case g:case w:case x:case M:case A:case P:return o(k,E);case s:return new L;case u:case d:return new L(k);case l:return r(k);case c:return new L;case v:return n(k)}}return Va=O,Va}var Ya,jc;function _1(){if(jc)return Ya;jc=1;var t=$r(),e=Object.create,r=function(){function n(){}return function(o){if(!t(o))return{};if(e)return e(o);n.prototype=o;var a=new n;return n.prototype=void 0,a}}();return Ya=r,Ya}var Za,Rc;function T1(){if(Rc)return Za;Rc=1;var t=_1(),e=zs(),r=Ls();function n(o){return typeof o.constructor=="function"&&!r(o)?t(e(o)):{}}return Za=n,Za}var Qa,Lc;function N1(){if(Lc)return Qa;Lc=1;var t=Hs(),e=Bt(),r="[object Map]";function n(o){return e(o)&&t(o)==r}return Qa=n,Qa}var Xa,Dc;function j1(){if(Dc)return Xa;Dc=1;var t=N1(),e=js(),r=Rs(),n=r&&r.isMap,o=n?e(n):t;return Xa=o,Xa}var Ja,Fc;function R1(){if(Fc)return Ja;Fc=1;var t=Hs(),e=Bt(),r="[object Set]";function n(o){return e(o)&&t(o)==r}return Ja=n,Ja}var ei,qc;function L1(){if(qc)return ei;qc=1;var t=R1(),e=js(),r=Rs(),n=r&&r.isSet,o=n?e(n):t;return ei=o,ei}var ti,Bc;function D1(){if(Bc)return ti;Bc=1;var t=e1(),e=t1(),r=Nv(),n=c1(),o=v1(),a=h1(),i=p1(),s=g1(),u=y1(),l=b1(),c=$v(),d=Hs(),v=M1(),p=O1(),h=T1(),m=zt(),y=Rv(),b=j1(),g=$r(),w=L1(),x=Ds(),M=Fs(),A=1,P=2,O=4,k="[object Arguments]",_="[object Array]",E="[object Boolean]",L="[object Date]",H="[object Error]",R="[object Function]",D="[object GeneratorFunction]",q="[object Map]",$="[object Number]",N="[object Object]",G="[object RegExp]",ae="[object Set]",de="[object String]",Z="[object Symbol]",V="[object WeakMap]",U="[object ArrayBuffer]",z="[object DataView]",B="[object Float32Array]",se="[object Float64Array]",me="[object Int8Array]",we="[object Int16Array]",Pt="[object Int32Array]",to="[object Uint8Array]",tm="[object Uint8ClampedArray]",rm="[object Uint16Array]",nm="[object Uint32Array]",Q={};Q[k]=Q[_]=Q[U]=Q[z]=Q[E]=Q[L]=Q[B]=Q[se]=Q[me]=Q[we]=Q[Pt]=Q[q]=Q[$]=Q[N]=Q[G]=Q[ae]=Q[de]=Q[Z]=Q[to]=Q[tm]=Q[rm]=Q[nm]=!0,Q[H]=Q[R]=Q[V]=!1;function Yr(Y,Ht,$t,om,Zr,ut){var Se,Qr=Ht&A,Xr=Ht&P,am=Ht&O;if($t&&(Se=Zr?$t(Y,om,Zr,ut):$t(Y)),Se!==void 0)return Se;if(!g(Y))return Y;var Iu=m(Y);if(Iu){if(Se=v(Y),!Qr)return i(Y,Se)}else{var Ut=d(Y),Eu=Ut==R||Ut==D;if(y(Y))return a(Y,Qr);if(Ut==N||Ut==k||Eu&&!Zr){if(Se=Xr||Eu?{}:h(Y),!Qr)return Xr?u(Y,o(Se,Y)):s(Y,n(Se,Y))}else{if(!Q[Ut])return Zr?Y:{};Se=p(Y,Ut,Qr)}}ut||(ut=new t);var Pu=ut.get(Y);if(Pu)return Pu;ut.set(Y,Se),w(Y)?Y.forEach(function(lt){Se.add(Yr(lt,Ht,$t,lt,Y,ut))}):b(Y)&&Y.forEach(function(lt,kt){Se.set(kt,Yr(lt,Ht,$t,kt,Y,ut))});var im=am?Xr?c:l:Xr?M:x,ku=Iu?void 0:im(Y);return e(ku||Y,function(lt,kt){ku&&(kt=lt,lt=Y[kt]),r(Se,kt,Yr(lt,Ht,$t,kt,Y,ut))}),Se}return ti=Yr,ti}var ri,zc;function Us(){if(zc)return ri;zc=1;var t=sr(),e=Bt(),r="[object Symbol]";function n(o){return typeof o=="symbol"||e(o)&&t(o)==r}return ri=n,ri}var ni,Hc;function F1(){if(Hc)return ni;Hc=1;var t=zt(),e=Us(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function o(a,i){if(t(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||i!=null&&a in Object(i)}return ni=o,ni}var oi,$c;function q1(){if($c)return oi;$c=1;var t=Ov(),e="Expected a function";function r(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new TypeError(e);var a=function(){var i=arguments,s=o?o.apply(this,i):i[0],u=a.cache;if(u.has(s))return u.get(s);var l=n.apply(this,i);return a.cache=u.set(s,l)||u,l};return a.cache=new(r.Cache||t),a}return r.Cache=t,oi=r,oi}var ai,Uc;function B1(){if(Uc)return ai;Uc=1;var t=q1(),e=500;function r(n){var o=t(n,function(i){return a.size===e&&a.clear(),i}),a=o.cache;return o}return ai=r,ai}var ii,Gc;function z1(){if(Gc)return ii;Gc=1;var t=B1(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace(e,function(i,s,u,l){a.push(u?l.replace(r,"$1"):s||i)}),a});return ii=n,ii}var si,Wc;function H1(){if(Wc)return si;Wc=1;var t=Hr(),e=Av(),r=zt(),n=Us(),o=t?t.prototype:void 0,a=o?o.toString:void 0;function i(s){if(typeof s=="string")return s;if(r(s))return e(s,i)+"";if(n(s))return a?a.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return si=i,si}var ui,Kc;function $1(){if(Kc)return ui;Kc=1;var t=H1();function e(r){return r==null?"":t(r)}return ui=e,ui}var li,Vc;function Gs(){if(Vc)return li;Vc=1;var t=zt(),e=F1(),r=z1(),n=$1();function o(a,i){return t(a)?a:e(a,i)?[a]:r(n(a))}return li=o,li}var ci,Yc;function U1(){if(Yc)return ci;Yc=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return ci=t,ci}var di,Zc;function Uv(){if(Zc)return di;Zc=1;var t=Us();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return di=e,di}var fi,Qc;function G1(){if(Qc)return fi;Qc=1;var t=Gs(),e=Uv();function r(n,o){o=t(o,n);for(var a=0,i=o.length;n!=null&&a<i;)n=n[e(o[a++])];return a&&a==i?n:void 0}return fi=r,fi}var vi,Xc;function W1(){if(Xc)return vi;Xc=1;function t(e,r,n){var o=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var i=Array(a);++o<a;)i[o]=e[o+r];return i}return vi=t,vi}var hi,Jc;function K1(){if(Jc)return hi;Jc=1;var t=G1(),e=W1();function r(n,o){return o.length<2?n:t(n,e(o,0,-1))}return hi=r,hi}var pi,ed;function V1(){if(ed)return pi;ed=1;var t=Gs(),e=U1(),r=K1(),n=Uv();function o(a,i){return i=t(i,a),a=r(a,i),a==null||delete a[n(e(i))]}return pi=o,pi}var mi,td;function Y1(){if(td)return mi;td=1;var t=sr(),e=zs(),r=Bt(),n="[object Object]",o=Function.prototype,a=Object.prototype,i=o.toString,s=a.hasOwnProperty,u=i.call(Object);function l(c){if(!r(c)||t(c)!=n)return!1;var d=e(c);if(d===null)return!0;var v=s.call(d,"constructor")&&d.constructor;return typeof v=="function"&&v instanceof v&&i.call(v)==u}return mi=l,mi}var gi,rd;function Z1(){if(rd)return gi;rd=1;var t=Y1();function e(r){return t(r)?void 0:r}return gi=e,gi}var yi,nd;function Q1(){if(nd)return yi;nd=1;var t=Hr(),e=jv(),r=zt(),n=t?t.isConcatSpreadable:void 0;function o(a){return r(a)||e(a)||!!(n&&a&&a[n])}return yi=o,yi}var bi,od;function X1(){if(od)return bi;od=1;var t=Bs(),e=Q1();function r(n,o,a,i,s){var u=-1,l=n.length;for(a||(a=e),s||(s=[]);++u<l;){var c=n[u];o>0&&a(c)?o>1?r(c,o-1,a,i,s):t(s,c):i||(s[s.length]=c)}return s}return bi=r,bi}var xi,ad;function J1(){if(ad)return xi;ad=1;var t=X1();function e(r){var n=r==null?0:r.length;return n?t(r,1):[]}return xi=e,xi}var Ci,id;function ey(){if(id)return Ci;id=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Ci=t,Ci}var wi,sd;function ty(){if(sd)return wi;sd=1;var t=ey(),e=Math.max;function r(n,o,a){return o=e(o===void 0?n.length-1:o,0),function(){for(var i=arguments,s=-1,u=e(i.length-o,0),l=Array(u);++s<u;)l[s]=i[o+s];s=-1;for(var c=Array(o+1);++s<o;)c[s]=i[s];return c[o]=a(l),t(n,this,c)}}return wi=r,wi}var Si,ud;function ry(){if(ud)return Si;ud=1;function t(e){return function(){return e}}return Si=t,Si}var Mi,ld;function ny(){if(ld)return Mi;ld=1;function t(e){return e}return Mi=t,Mi}var Ai,cd;function oy(){if(cd)return Ai;cd=1;var t=ry(),e=_v(),r=ny(),n=e?function(o,a){return e(o,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return Ai=n,Ai}var Ii,dd;function ay(){if(dd)return Ii;dd=1;var t=800,e=16,r=Date.now;function n(o){var a=0,i=0;return function(){var s=r(),u=e-(s-i);if(i=s,u>0){if(++a>=t)return arguments[0]}else a=0;return o.apply(void 0,arguments)}}return Ii=n,Ii}var Ei,fd;function iy(){if(fd)return Ei;fd=1;var t=oy(),e=ay(),r=e(t);return Ei=r,Ei}var Pi,vd;function sy(){if(vd)return Pi;vd=1;var t=J1(),e=ty(),r=iy();function n(o){return r(e(o,void 0,t),o+"")}return Pi=n,Pi}var ki,hd;function uy(){if(hd)return ki;hd=1;var t=Av(),e=D1(),r=V1(),n=Gs(),o=Ur(),a=Z1(),i=sy(),s=$v(),u=1,l=2,c=4,d=i(function(v,p){var h={};if(v==null)return h;var m=!1;p=t(p,function(b){return b=n(b,v),m||(m=b.length>1),b}),o(v,s(v),h),m&&(h=e(h,u|l|c,a));for(var y=p.length;y--;)r(h,p[y]);return h});return ki=d,ki}var ly=uy();const cy=Im(ly);function Re(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function At(t){return!!t&&!!t[ne]}function ot(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var o=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===by}(t)||Array.isArray(t)||!!t[Cd]||!!(!((e=t.constructor)===null||e===void 0)&&e[Cd])||Ws(t)||Ks(t))}function Lt(t,e,r){r===void 0&&(r=!1),ur(t)===0?(r?Object.keys:Vt)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,o){return e(o,n,t)})}function ur(t){var e=t[ne];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Ws(t)?2:Ks(t)?3:0}function Kt(t,e){return ur(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function dy(t,e){return ur(t)===2?t.get(e):t[e]}function Gv(t,e,r){var n=ur(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Wv(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Ws(t){return gy&&t instanceof Map}function Ks(t){return yy&&t instanceof Set}function _t(t){return t.o||t.t}function Vs(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Vv(t);delete e[ne];for(var r=Vt(e),n=0;n<r.length;n++){var o=r[n],a=e[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function Ys(t,e){return e===void 0&&(e=!1),Zs(t)||At(t)||!ot(t)||(ur(t)>1&&(t.set=t.add=t.clear=t.delete=fy),Object.freeze(t),e&&Lt(t,function(r,n){return Ys(n,!0)},!0)),t}function fy(){Re(2)}function Zs(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function $e(t){var e=is[t];return e||Re(18,t),e}function vy(t,e){is[t]||(is[t]=e)}function ns(){return Tr}function Oi(t,e){e&&($e("Patches"),t.u=[],t.s=[],t.v=e)}function bn(t){os(t),t.p.forEach(hy),t.p=null}function os(t){t===Tr&&(Tr=t.l)}function pd(t){return Tr={p:[],l:Tr,h:t,m:!0,_:0}}function hy(t){var e=t[ne];e.i===0||e.i===1?e.j():e.g=!0}function _i(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||$e("ES5").S(e,t,n),n?(r[ne].P&&(bn(e),Re(4)),ot(t)&&(t=xn(e,t),e.l||Cn(e,t)),e.u&&$e("Patches").M(r[ne].t,t,e.u,e.s)):t=xn(e,r,[]),bn(e),e.u&&e.v(e.u,e.s),t!==Kv?t:void 0}function xn(t,e,r){if(Zs(e))return e;var n=e[ne];if(!n)return Lt(e,function(s,u){return md(t,n,e,s,u,r)},!0),e;if(n.A!==t)return e;if(!n.P)return Cn(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=n.i===4||n.i===5?n.o=Vs(n.k):n.o,a=o,i=!1;n.i===3&&(a=new Set(o),o.clear(),i=!0),Lt(a,function(s,u){return md(t,n,o,s,u,r,i)}),Cn(t,o,!1),r&&t.u&&$e("Patches").N(n,r,t.u,t.s)}return n.o}function md(t,e,r,n,o,a,i){if(At(o)){var s=xn(t,o,a&&e&&e.i!==3&&!Kt(e.R,n)?a.concat(n):void 0);if(Gv(r,n,s),!At(s))return;t.m=!1}else i&&r.add(o);if(ot(o)&&!Zs(o)){if(!t.h.D&&t._<1)return;xn(t,o),e&&e.A.l||Cn(t,o)}}function Cn(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&Ys(e,r)}function Ti(t,e){var r=t[ne];return(r?_t(r):t)[e]}function gd(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function mt(t){t.P||(t.P=!0,t.l&&mt(t.l))}function Ni(t){t.o||(t.o=Vs(t.t))}function as(t,e,r){var n=Ws(e)?$e("MapSet").F(e,r):Ks(e)?$e("MapSet").T(e,r):t.O?function(o,a){var i=Array.isArray(o),s={i:i?1:0,A:a?a.A:ns(),P:!1,I:!1,R:{},l:a,t:o,k:null,o:null,j:null,C:!1},u=s,l=Nr;i&&(u=[s],l=xr);var c=Proxy.revocable(u,l),d=c.revoke,v=c.proxy;return s.k=v,s.j=d,v}(e,r):$e("ES5").J(e,r);return(r?r.A:ns()).p.push(n),n}function py(t){return At(t)||Re(22,t),function e(r){if(!ot(r))return r;var n,o=r[ne],a=ur(r);if(o){if(!o.P&&(o.i<4||!$e("ES5").K(o)))return o.t;o.I=!0,n=yd(r,a),o.I=!1}else n=yd(r,a);return Lt(n,function(i,s){o&&dy(o.t,i)===s||Gv(n,i,e(s))}),a===3?new Set(n):n}(t)}function yd(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Vs(t)}function my(){function t(a,i){var s=o[a];return s?s.enumerable=i:o[a]=s={configurable:!0,enumerable:i,get:function(){var u=this[ne];return Nr.get(u,a)},set:function(u){var l=this[ne];Nr.set(l,a,u)}},s}function e(a){for(var i=a.length-1;i>=0;i--){var s=a[i][ne];if(!s.P)switch(s.i){case 5:n(s)&&mt(s);break;case 4:r(s)&&mt(s)}}}function r(a){for(var i=a.t,s=a.k,u=Vt(s),l=u.length-1;l>=0;l--){var c=u[l];if(c!==ne){var d=i[c];if(d===void 0&&!Kt(i,c))return!0;var v=s[c],p=v&&v[ne];if(p?p.t!==d:!Wv(v,d))return!0}}var h=!!i[ne];return u.length!==Vt(i).length+(h?0:1)}function n(a){var i=a.k;if(i.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(i,i.length-1);if(s&&!s.get)return!0;for(var u=0;u<i.length;u++)if(!i.hasOwnProperty(u))return!0;return!1}var o={};vy("ES5",{J:function(a,i){var s=Array.isArray(a),u=function(c,d){if(c){for(var v=Array(d.length),p=0;p<d.length;p++)Object.defineProperty(v,""+p,t(p,!0));return v}var h=Vv(d);delete h[ne];for(var m=Vt(h),y=0;y<m.length;y++){var b=m[y];h[b]=t(b,c||!!h[b].enumerable)}return Object.create(Object.getPrototypeOf(d),h)}(s,a),l={i:s?5:4,A:i?i.A:ns(),P:!1,I:!1,R:{},l:i,t:a,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,ne,{value:l,writable:!0}),u},S:function(a,i,s){s?At(i)&&i[ne].A===a&&e(a.p):(a.u&&function u(l){if(l&&typeof l=="object"){var c=l[ne];if(c){var d=c.t,v=c.k,p=c.R,h=c.i;if(h===4)Lt(v,function(w){w!==ne&&(d[w]!==void 0||Kt(d,w)?p[w]||u(v[w]):(p[w]=!0,mt(c)))}),Lt(d,function(w){v[w]!==void 0||Kt(v,w)||(p[w]=!1,mt(c))});else if(h===5){if(n(c)&&(mt(c),p.length=!0),v.length<d.length)for(var m=v.length;m<d.length;m++)p[m]=!1;else for(var y=d.length;y<v.length;y++)p[y]=!0;for(var b=Math.min(v.length,d.length),g=0;g<b;g++)v.hasOwnProperty(g)||(p[g]=!0),p[g]===void 0&&u(v[g])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var bd,Tr,Qs=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",gy=typeof Map<"u",yy=typeof Set<"u",xd=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Kv=Qs?Symbol.for("immer-nothing"):((bd={})["immer-nothing"]=!0,bd),Cd=Qs?Symbol.for("immer-draftable"):"__$immer_draftable",ne=Qs?Symbol.for("immer-state"):"__$immer_state",by=""+Object.prototype.constructor,Vt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Vv=Object.getOwnPropertyDescriptors||function(t){var e={};return Vt(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},is={},Nr={get:function(t,e){if(e===ne)return t;var r=_t(t);if(!Kt(r,e))return function(o,a,i){var s,u=gd(a,i);return u?"value"in u?u.value:(s=u.get)===null||s===void 0?void 0:s.call(o.k):void 0}(t,r,e);var n=r[e];return t.I||!ot(n)?n:n===Ti(t.t,e)?(Ni(t),t.o[e]=as(t.A.h,n,t)):n},has:function(t,e){return e in _t(t)},ownKeys:function(t){return Reflect.ownKeys(_t(t))},set:function(t,e,r){var n=gd(_t(t),e);if(n!=null&&n.set)return n.set.call(t.k,r),!0;if(!t.P){var o=Ti(_t(t),e),a=o==null?void 0:o[ne];if(a&&a.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(Wv(r,o)&&(r!==void 0||Kt(t.t,e)))return!0;Ni(t),mt(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return Ti(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Ni(t),mt(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=_t(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Re(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Re(12)}},xr={};Lt(Nr,function(t,e){xr[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),xr.deleteProperty=function(t,e){return xr.set.call(this,t,e,void 0)},xr.set=function(t,e,r){return Nr.set.call(this,t[0],e,r,t[0])};var xy=function(){function t(r){var n=this;this.O=xd,this.D=!0,this.produce=function(o,a,i){if(typeof o=="function"&&typeof a!="function"){var s=a;a=o;var u=n;return function(m){var y=this;m===void 0&&(m=s);for(var b=arguments.length,g=Array(b>1?b-1:0),w=1;w<b;w++)g[w-1]=arguments[w];return u.produce(m,function(x){var M;return(M=a).call.apply(M,[y,x].concat(g))})}}var l;if(typeof a!="function"&&Re(6),i!==void 0&&typeof i!="function"&&Re(7),ot(o)){var c=pd(n),d=as(n,o,void 0),v=!0;try{l=a(d),v=!1}finally{v?bn(c):os(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return Oi(c,i),_i(m,c)},function(m){throw bn(c),m}):(Oi(c,i),_i(l,c))}if(!o||typeof o!="object"){if((l=a(o))===void 0&&(l=o),l===Kv&&(l=void 0),n.D&&Ys(l,!0),i){var p=[],h=[];$e("Patches").M(o,l,p,h),i(p,h)}return l}Re(21,o)},this.produceWithPatches=function(o,a){if(typeof o=="function")return function(l){for(var c=arguments.length,d=Array(c>1?c-1:0),v=1;v<c;v++)d[v-1]=arguments[v];return n.produceWithPatches(l,function(p){return o.apply(void 0,[p].concat(d))})};var i,s,u=n.produce(o,a,function(l,c){i=l,s=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,i,s]}):[u,i,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){ot(r)||Re(8),At(r)&&(r=py(r));var n=pd(this),o=as(this,r,void 0);return o[ne].C=!0,os(n),o},e.finishDraft=function(r,n){var o=r&&r[ne],a=o.A;return Oi(a,n),_i(void 0,a)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!xd&&Re(20),this.O=r},e.applyPatches=function(r,n){var o;for(o=n.length-1;o>=0;o--){var a=n[o];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}o>-1&&(n=n.slice(o+1));var i=$e("Patches").$;return At(r)?i(r,n):this.produce(r,function(s){return i(s,n)})},t}(),_e=new xy,Yv=_e.produce;_e.produceWithPatches.bind(_e);_e.setAutoFreeze.bind(_e);_e.setUseProxies.bind(_e);_e.applyPatches.bind(_e);_e.createDraft.bind(_e);_e.finishDraft.bind(_e);var Zv=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cy=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=l[0]&2?o.return:l[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,l[1])).done)return a;switch(o=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],o=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},tr=function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t},wy=Object.defineProperty,Sy=Object.defineProperties,My=Object.getOwnPropertyDescriptors,wd=Object.getOwnPropertySymbols,Ay=Object.prototype.hasOwnProperty,Iy=Object.prototype.propertyIsEnumerable,Sd=function(t,e,r){return e in t?wy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},xt=function(t,e){for(var r in e||(e={}))Ay.call(e,r)&&Sd(t,r,e[r]);if(wd)for(var n=0,o=wd(e);n<o.length;n++){var r=o[n];Iy.call(e,r)&&Sd(t,r,e[r])}return t},ji=function(t,e){return Sy(t,My(e))},Ey=function(t,e,r){return new Promise(function(n,o){var a=function(u){try{s(r.next(u))}catch(l){o(l)}},i=function(u){try{s(r.throw(u))}catch(l){o(l)}},s=function(u){return u.done?n(u.value):Promise.resolve(u.value).then(a,i)};s((r=r.apply(t,e)).next())})},Py=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rs:rs.apply(null,arguments)};function ky(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function Ct(t,e){function r(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(e){var a=e.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return xt(xt({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var Oy=function(t){Zv(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=t.apply(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,tr([void 0],r[0].concat(this)))):new(e.bind.apply(e,tr([void 0],r.concat(this))))},e}(Array),_y=function(t){Zv(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=t.apply(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,tr([void 0],r[0].concat(this)))):new(e.bind.apply(e,tr([void 0],r.concat(this))))},e}(Array);function ss(t){return ot(t)?Yv(t,function(){}):t}function Ty(t){return typeof t=="boolean"}function Ny(){return function(e){return jy(e)}}function jy(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new Oy;return r&&(Ty(r)?n.push(Fu):n.push(Fu.withExtraArgument(r.extraArgument))),n}function Ry(t){var e=Ny(),r=t||{},n=r.reducer,o=n===void 0?void 0:n,a=r.middleware,i=a===void 0?e():a,s=r.devTools,u=s===void 0?!0:s,l=r.preloadedState,c=l===void 0?void 0:l,d=r.enhancers,v=d===void 0?void 0:d,p;if(typeof o=="function")p=o;else if(ky(o))p=hg(o);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var h=i;typeof h=="function"&&(h=h(e));var m=pg.apply(void 0,h),y=rs;u&&(y=Py(xt({trace:!1},typeof u=="object"&&u)));var b=new _y(m),g=b;Array.isArray(v)?g=tr([m],v):typeof v=="function"&&(g=v(b));var w=y.apply(void 0,g);return mg(p,c,w)}function Qv(t){var e={},r=[],n,o={addCase:function(a,i){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=i,o},addMatcher:function(a,i){return r.push({matcher:a,reducer:i}),o},addDefaultCase:function(a){return n=a,o}};return t(o),[e,r,n]}function Ly(t){return typeof t=="function"}function Dy(t,e,r,n){r===void 0&&(r=[]);var o=typeof e=="function"?Qv(e):[e,r,n],a=o[0],i=o[1],s=o[2],u;if(Ly(t))u=function(){return ss(t())};else{var l=ss(t);u=function(){return l}}function c(d,v){d===void 0&&(d=u());var p=tr([a[v.type]],i.filter(function(h){var m=h.matcher;return m(v)}).map(function(h){var m=h.reducer;return m}));return p.filter(function(h){return!!h}).length===0&&(p=[s]),p.reduce(function(h,m){if(m)if(At(h)){var y=h,b=m(y,v);return b===void 0?h:b}else{if(ot(h))return Yv(h,function(g){return m(g,v)});var b=m(h,v);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}return h},d)}return c.getInitialState=u,c}function Fy(t,e){return t+"/"+e}function Hn(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var r=typeof t.initialState=="function"?t.initialState:ss(t.initialState),n=t.reducers||{},o=Object.keys(n),a={},i={},s={};o.forEach(function(c){var d=n[c],v=Fy(e,c),p,h;"reducer"in d?(p=d.reducer,h=d.prepare):p=d,a[c]=p,i[v]=p,s[c]=h?Ct(v,h):Ct(v)});function u(){var c=typeof t.extraReducers=="function"?Qv(t.extraReducers):[t.extraReducers],d=c[0],v=d===void 0?{}:d,p=c[1],h=p===void 0?[]:p,m=c[2],y=m===void 0?void 0:m,b=xt(xt({},v),i);return Dy(r,function(g){for(var w in b)g.addCase(w,b[w]);for(var x=0,M=h;x<M.length;x++){var A=M[x];g.addMatcher(A.matcher,A.reducer)}y&&g.addDefaultCase(y)})}var l;return{name:e,reducer:function(c,d){return l||(l=u()),l(c,d)},actions:s,caseReducers:a,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var qy="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",By=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=qy[Math.random()*64|0];return e},zy=["name","message","stack","code"],Ri=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),Md=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),Hy=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=zy;r<n.length;r++){var o=n[r];typeof t[o]=="string"&&(e[o]=t[o])}return e}return{message:String(t)}};(function(){function t(e,r,n){var o=Ct(e+"/fulfilled",function(l,c,d,v){return{payload:l,meta:ji(xt({},v||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),a=Ct(e+"/pending",function(l,c,d){return{payload:void 0,meta:ji(xt({},d||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),i=Ct(e+"/rejected",function(l,c,d,v,p){return{payload:v,error:(n&&n.serializeError||Hy)(l||"Rejected"),meta:ji(xt({},p||{}),{arg:d,requestId:c,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,d,v){var p=n!=null&&n.idGenerator?n.idGenerator(l):By(),h=new s,m;function y(g){m=g,h.abort()}var b=function(){return Ey(this,null,function(){var g,w,x,M,A,P,O;return Cy(this,function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),M=(g=n==null?void 0:n.condition)==null?void 0:g.call(n,l,{getState:d,extra:v}),Uy(M)?[4,M]:[3,2];case 1:M=k.sent(),k.label=2;case 2:if(M===!1||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return A=new Promise(function(_,E){return h.signal.addEventListener("abort",function(){return E({name:"AbortError",message:m||"Aborted"})})}),c(a(p,l,(w=n==null?void 0:n.getPendingMeta)==null?void 0:w.call(n,{requestId:p,arg:l},{getState:d,extra:v}))),[4,Promise.race([A,Promise.resolve(r(l,{dispatch:c,getState:d,extra:v,requestId:p,signal:h.signal,abort:y,rejectWithValue:function(_,E){return new Ri(_,E)},fulfillWithValue:function(_,E){return new Md(_,E)}})).then(function(_){if(_ instanceof Ri)throw _;return _ instanceof Md?o(_.payload,p,l,_.meta):o(_,p,l)})])];case 3:return x=k.sent(),[3,5];case 4:return P=k.sent(),x=P instanceof Ri?i(null,p,l,P.payload,P.meta):i(P,p,l),[3,5];case 5:return O=n&&!n.dispatchConditionRejection&&i.match(x)&&x.meta.condition,O||c(x),[2,x]}})})}();return Object.assign(b,{abort:y,requestId:p,arg:l,unwrap:function(){return b.then($y)}})}}return Object.assign(u,{pending:a,rejected:i,fulfilled:o,typePrefix:e})}return t.withTypes=function(){return t},t})();function $y(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Uy(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Xs="listenerMiddleware";Ct(Xs+"/add");Ct(Xs+"/removeAll");Ct(Xs+"/remove");var Ad;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof ts<"u"?ts:globalThis);my();var Fe=function(e){return"@@redux-saga/"+e},Gy=Fe("CANCEL_PROMISE"),Xv=Fe("CHANNEL_END"),Jv=Fe("IO"),Id=Fe("MATCH"),eh=Fe("MULTICAST"),th=Fe("SAGA_ACTION"),Wy=Fe("SELF_CANCELLATION"),Ky=Fe("TASK"),Yt=Fe("TASK_CANCEL"),rh=Fe("TERMINATE"),Vy=Fe("LOCATION"),nh=function(e){return e==null},sn=function(e){return e!=null},Pe=function(e){return typeof e=="function"},Js=function(e){return typeof e=="string"},It=Array.isArray,$n=function(e){return e&&Pe(e.then)},eu=function(e){return e&&Pe(e.next)&&Pe(e.throw)},Ed=function t(e){return e&&(Js(e)||ah(e)||Pe(e)||It(e)&&e.every(t))},tu=function(e){return e&&Pe(e.take)&&Pe(e.close)},oh=function(e){return Pe(e)&&e.hasOwnProperty("toString")},ah=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},Yy=function(e){return tu(e)&&e[eh]},Zy=function(e){return function(){return e}},Qy=Zy(!0),xe=function(){},Xy=function(e){return e},ru=function(e,r){F(e,r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(function(n){e[n]=r[n]})},Jy=function(e,r){var n;return(n=[]).concat.apply(n,r.map(e))};function Un(t,e){var r=t.indexOf(e);r>=0&&t.splice(r,1)}function eb(t){var e=!1;return function(){e||(e=!0,t())}}var tb=function(e){throw e},rb=function(e){return{value:e,done:!0}};function us(t,e,r){e===void 0&&(e=tb),r===void 0&&(r="iterator");var n={meta:{name:r},next:t,throw:e,return:rb,isSagaIterator:!0};return typeof Symbol<"u"&&(n[Symbol.iterator]=function(){return n}),n}function nb(t,e){var r=e.sagaStack;console.error(t),console.error(r)}var ih=function(e){return Array.apply(null,new Array(e))},ob=function(e){return function(r){return e(Object.defineProperty(r,th,{value:!0}))}},sh=function(e){return e===rh},uh=function(e){return e===Yt},lh=function(e){return sh(e)||uh(e)};function ch(t,e){var r=Object.keys(t),n=r.length,o=0,a,i=It(t)?ih(n):{},s={};function u(){o===n&&(a=!0,e(i))}return r.forEach(function(l){var c=function(v,p){a||(p||lh(v)?(e.cancel(),e(v,p)):(i[l]=v,o++,u()))};c.cancel=xe,s[l]=c}),e.cancel=function(){a||(a=!0,r.forEach(function(l){return s[l].cancel()}))},s}function nu(t){return{name:t.name||"anonymous",location:dh(t)}}function dh(t){return t[Vy]}function ab(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,o){return function(){return n(o.apply(void 0,arguments))}})}var ib="Channel's Buffer overflow!",sb=1,ub=3,fh=4;function lb(t,e){t===void 0&&(t=10);var r=new Array(t),n=0,o=0,a=0,i=function(c){r[o]=c,o=(o+1)%t,n++},s=function(){if(n!=0){var c=r[a];return r[a]=null,n--,a=(a+1)%t,c}},u=function(){for(var c=[];n;)c.push(s());return c};return{isEmpty:function(){return n==0},put:function(c){if(n<t)i(c);else{var d;switch(e){case sb:throw new Error(ib);case ub:r[o]=c,o=(o+1)%t,a=o;break;case fh:d=2*t,r=u(),n=r.length,o=r.length,a=0,r.length=d,t=d,i(c);break}}},take:s,flush:u}}var cb=function(e){return lb(e,fh)},un="TAKE",vh="PUT",db="ALL",fb="RACE",hh="CALL",vb="CPS",ou="FORK",hb="JOIN",pb="CANCEL",mb="SELECT",gb="ACTION_CHANNEL",yb="CANCELLED",bb="FLUSH",xb="GET_CONTEXT",Cb="SET_CONTEXT",jt=function(e,r){var n;return n={},n[Jv]=!0,n.combinator=!1,n.type=e,n.payload=r,n},wb=function(e){return jt(ou,F({},e.payload,{detached:!0}))};function Sb(t,e){if(t===void 0&&(t="*"),Ed(t))return sn(e)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),jt(un,{pattern:t});if(Yy(t)&&sn(e)&&Ed(e))return jt(un,{channel:t,pattern:e});if(tu(t))return sn(e)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),jt(un,{channel:t})}function Li(t,e){return nh(e)&&(e=t,t=void 0),jt(vh,{channel:t,action:e})}function ph(t,e){var r=null,n;return Pe(t)?n=t:(It(t)?(r=t[0],n=t[1]):(r=t.context,n=t.fn),r&&Js(n)&&Pe(r[n])&&(n=r[n])),{context:r,fn:n,args:e}}function Mb(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return jt(hh,ph(t,r))}function au(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return jt(ou,ph(t,r))}function Ab(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return wb(au.apply(void 0,[t].concat(r)))}var Pd=function(e){return{done:!0,value:e}},Di={};function Ib(t){return tu(t)?"channel":oh(t)?String(t):Pe(t)?t.name:String(t)}function Eb(t,e,r){var n,o,a,i=e;function s(u,l){if(i===Di)return Pd(u);if(l&&!o)throw i=Di,l;n&&n(u);var c=l?t[o](l):t[i]();return i=c.nextState,a=c.effect,n=c.stateUpdater,o=c.errorState,i===Di?Pd(u):a}return us(s,function(u){return s(null,u)},r)}function Pb(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var a={done:!1,value:Sb(t)},i=function(c){return{done:!1,value:au.apply(void 0,[e].concat(n,[c]))}},s,u=function(c){return s=c};return Eb({q1:function(){return{nextState:"q2",effect:a,stateUpdater:u}},q2:function(){return{nextState:"q1",effect:i(s)}}},"q1","takeEvery("+Ib(t)+", "+e.name+")")}function kb(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return au.apply(void 0,[Pb,t,e].concat(n))}function Ob(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t}var mh=[],Gn=0;function _b(t){try{iu(),t()}finally{bh()}}function gh(t){mh.push(t),Gn||(iu(),xh())}function yh(t){try{return iu(),t()}finally{xh()}}function iu(){Gn++}function bh(){Gn--}function xh(){bh();for(var t;!Gn&&(t=mh.shift())!==void 0;)_b(t)}var Tb=function(e){return function(r){return e.some(function(n){return su(n)(r)})}},Nb=function(e){return function(r){return e(r)}},kd=function(e){return function(r){return r.type===String(e)}},jb=function(e){return function(r){return r.type===e}},Ch=function(){return Qy};function su(t){var e=t==="*"?Ch:Js(t)?kd:It(t)?Tb:oh(t)?kd:Pe(t)?Nb:ah(t)?jb:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var Mr={type:Xv},uu=function(e){return e&&e.type===Xv};function Rb(t){t===void 0&&(t=cb());var e=!1,r=[];function n(s){if(!e){if(r.length===0)return t.put(s);var u=r.shift();u(s)}}function o(s){e&&t.isEmpty()?s(Mr):t.isEmpty()?(r.push(s),s.cancel=function(){Un(r,s)}):s(t.take())}function a(s){if(e&&t.isEmpty()){s(Mr);return}s(t.flush())}function i(){if(!e){e=!0;var s=r;r=[];for(var u=0,l=s.length;u<l;u++){var c=s[u];c(Mr)}}}return{take:o,put:n,flush:a,close:i}}function Lb(){var t,e=!1,r=[],n=r,o=function(){n===r&&(n=r.slice())},a=function(){e=!0;var s=r=n;n=[],s.forEach(function(u){u(Mr)})};return t={},t[eh]=!0,t.put=function(s){if(!e){if(uu(s)){a();return}for(var u=r=n,l=0,c=u.length;l<c;l++){var d=u[l];d[Id](s)&&(d.cancel(),d(s))}}},t.take=function(s,u){if(u===void 0&&(u=Ch),e){s(Mr);return}s[Id]=u,o(),n.push(s),s.cancel=eb(function(){o(),Un(n,s)})},t.close=a,t}function wh(){var t=Lb(),e=t.put;return t.put=function(r){if(r[th]){e(r);return}gh(function(){e(r)})},t}var Tt=0,tt=1,ln=2,Sh=3;function lu(t,e){var r=t[Gy];Pe(r)&&(e.cancel=r),t.then(e,function(n){e(n,!0)})}var Gr=0,Mh=function(){return++Gr},fe;function Db(t,e){return t.isSagaIterator?{name:t.meta.name}:nu(e)}function Fb(t){var e=t.context,r=t.fn,n=t.args;try{var o=r.apply(e,n);if(eu(o))return o;var a=!1,i=function(u){return a?{value:u,done:!0}:(a=!0,{value:o,done:!$n(o)})};return us(i)}catch(s){return us(function(){throw s})}}function qb(t,e,r){var n=e.channel,o=e.action,a=e.resolve;gh(function(){var i;try{i=(n?n.put:t.dispatch)(o)}catch(s){r(s,!0);return}a&&$n(i)?lu(i,r):r(i)})}function Bb(t,e,r){var n=e.channel,o=n===void 0?t.channel:n,a=e.pattern,i=e.maybe,s=function(l){if(l instanceof Error){r(l,!0);return}if(uu(l)&&!i){r(rh);return}r(l)};try{o.take(s,sn(a)?su(a):null)}catch(u){r(u,!0);return}r.cancel=s.cancel}function zb(t,e,r,n){var o=e.context,a=e.fn,i=e.args,s=n.task;try{var u=a.apply(o,i);if($n(u)){lu(u,r);return}if(eu(u)){Wn(t,u,s.context,Gr,nu(a),!1,r);return}r(u)}catch(l){r(l,!0)}}function Hb(t,e,r){var n=e.context,o=e.fn,a=e.args;try{var i=function(u,l){nh(u)?r(l):r(u,!0)};o.apply(n,a.concat(i)),i.cancel&&(r.cancel=i.cancel)}catch(s){r(s,!0)}}function $b(t,e,r,n){var o=e.context,a=e.fn,i=e.args,s=e.detached,u=n.task,l=Fb({context:o,fn:a,args:i}),c=Db(l,a);yh(function(){var d=Wn(t,l,u.context,Gr,c,s,void 0);s?r(d):d.isRunning()?(u.queue.addTask(d),r(d)):d.isAborted()?u.queue.abort(d.error()):r(d)})}function Ub(t,e,r,n){var o=n.task,a=function(u,l){if(u.isRunning()){var c={task:o,cb:l};l.cancel=function(){u.isRunning()&&Un(u.joiners,c)},u.joiners.push(c)}else u.isAborted()?l(u.error(),!0):l(u.result())};if(It(e)){if(e.length===0){r([]);return}var i=ch(e,r);e.forEach(function(s,u){a(s,i[u])})}else a(e,r)}function Fi(t){t.isRunning()&&t.cancel()}function Gb(t,e,r,n){var o=n.task;e===Wy?Fi(o):It(e)?e.forEach(Fi):Fi(e),r()}function Wb(t,e,r,n){var o=n.digestEffect,a=Gr,i=Object.keys(e);if(i.length===0){r(It(e)?[]:{});return}var s=ch(e,r);i.forEach(function(u){o(e[u],a,s[u],u)})}function Kb(t,e,r,n){var o=n.digestEffect,a=Gr,i=Object.keys(e),s=It(e)?ih(i.length):{},u={},l=!1;i.forEach(function(c){var d=function(p,h){l||(h||lh(p)?(r.cancel(),r(p,h)):(r.cancel(),l=!0,s[c]=p,r(s)))};d.cancel=xe,u[c]=d}),r.cancel=function(){l||(l=!0,i.forEach(function(c){return u[c].cancel()}))},i.forEach(function(c){l||o(e[c],a,u[c],c)})}function Vb(t,e,r){var n=e.selector,o=e.args;try{var a=n.apply(void 0,[t.getState()].concat(o));r(a)}catch(i){r(i,!0)}}function Yb(t,e,r){var n=e.pattern,o=e.buffer,a=Rb(o),i=su(n),s=function l(c){uu(c)||t.channel.take(l,i),a.put(c)},u=a.close;a.close=function(){s.cancel(),u()},t.channel.take(s,i),r(a)}function Zb(t,e,r,n){var o=n.task;r(o.isCancelled())}function Qb(t,e,r){e.flush(r)}function Xb(t,e,r,n){var o=n.task;r(o.context[e])}function Jb(t,e,r,n){var o=n.task;ru(o.context,e),r()}var ex=(fe={},fe[un]=Bb,fe[vh]=qb,fe[db]=Wb,fe[fb]=Kb,fe[hh]=zb,fe[vb]=Hb,fe[ou]=$b,fe[hb]=Ub,fe[pb]=Gb,fe[mb]=Vb,fe[gb]=Yb,fe[yb]=Zb,fe[bb]=Qb,fe[xb]=Xb,fe[Cb]=Jb,fe);function tx(t,e,r){var n=[],o,a=!1;u(t);var i=function(){return n};function s(c){e(),l(),r(c,!0)}function u(c){n.push(c),c.cont=function(d,v){a||(Un(n,c),c.cont=xe,v?s(d):(c===t&&(o=d),n.length||(a=!0,r(o))))}}function l(){a||(a=!0,n.forEach(function(c){c.cont=xe,c.cancel()}),n=[])}return{addTask:u,cancelAll:l,abort:s,getTasks:i}}function Ah(t,e){return t+"?"+e}function rx(t){var e=dh(t);if(e){var r=e.code,n=e.fileName,o=e.lineNumber,a=r+"  "+Ah(n,o);return a}return""}function Od(t){var e=t.name,r=t.location;return r?e+"  "+Ah(r.fileName,r.lineNumber):e}function nx(t){var e=Jy(function(r){return r.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var cu=null,Ar=[],ox=function(e){e.crashedEffect=cu,Ar.push(e)},Ih=function(){cu=null,Ar.length=0},ax=function(e){cu=e},ix=function(){var e=Ar[0],r=Ar.slice(1),n=e.crashedEffect?rx(e.crashedEffect):null,o="The above error occurred in task "+Od(e.meta)+(n?` 
 when executing effect `+n:"");return[o].concat(r.map(function(a){return"    created by "+Od(a.meta)}),[nx(Ar)]).join(`
`)};function sx(t,e,r,n,o,a,i){var s;i===void 0&&(i=xe);var u=Tt,l,c,d=null,v=[],p=Object.create(r),h=tx(e,function(){v.push.apply(v,h.getTasks().map(function(M){return M.meta.name}))},y);function m(){u===Tt&&(u=tt,h.cancelAll(),y(Yt,!1))}function y(x,M){if(!M)x===Yt?u=tt:u!==tt&&(u=Sh),l=x,d&&d.resolve(x);else{if(u=ln,ox({meta:o,cancelledTasks:v}),w.isRoot){var A=ix();Ih(),t.onError(x,{sagaStack:A})}c=x,d&&d.reject(x)}w.cont(x,M),w.joiners.forEach(function(P){P.cb(x,M)}),w.joiners=null}function b(x){ru(p,x)}function g(){return d||(d=Ob(),u===ln?d.reject(c):u!==Tt&&d.resolve(l)),d.promise}var w=(s={},s[Ky]=!0,s.id=n,s.meta=o,s.isRoot=a,s.context=p,s.joiners=[],s.queue=h,s.cancel=m,s.cont=i,s.end=y,s.setContext=b,s.toPromise=g,s.isRunning=function(){return u===Tt},s.isCancelled=function(){return u===tt||u===Tt&&e.status===tt},s.isAborted=function(){return u===ln},s.result=function(){return l},s.error=function(){return c},s);return w}function Wn(t,e,r,n,o,a,i){var s=t.finalizeRunEffect(p);v.cancel=xe;var u={meta:o,cancel:d,status:Tt},l=sx(t,u,r,n,o,a,i),c={task:l,digestEffect:h};function d(){u.status===Tt&&(u.status=tt,v(Yt))}return i&&(i.cancel=l.cancel),v(),l;function v(m,y){try{var b;y?(b=e.throw(m),Ih()):uh(m)?(u.status=tt,v.cancel(),b=Pe(e.return)?e.return(Yt):{done:!0,value:Yt}):sh(m)?b=Pe(e.return)?e.return():{done:!0}:b=e.next(m),b.done?(u.status!==tt&&(u.status=Sh),u.cont(b.value)):h(b.value,n,v)}catch(g){if(u.status===tt)throw g;u.status=ln,u.cont(g,!0)}}function p(m,y,b){if($n(m))lu(m,b);else if(eu(m))Wn(t,m,l.context,y,o,!1,b);else if(m&&m[Jv]){var g=ex[m.type];g(t,m.payload,b,c)}else b(m)}function h(m,y,b,g){g===void 0&&(g="");var w=Mh();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:w,parentEffectId:y,label:g,effect:m});var x;function M(A,P){x||(x=!0,b.cancel=xe,t.sagaMonitor&&(P?t.sagaMonitor.effectRejected(w,A):t.sagaMonitor.effectResolved(w,A)),P&&ax(m),b(A,P))}M.cancel=xe,b.cancel=function(){x||(x=!0,M.cancel(),M.cancel=xe,t.sagaMonitor&&t.sagaMonitor.effectCancelled(w))},s(m,w,M)}}function ux(t,e){for(var r=t.channel,n=r===void 0?wh():r,o=t.dispatch,a=t.getState,i=t.context,s=i===void 0?{}:i,u=t.sagaMonitor,l=t.effectMiddlewares,c=t.onError,d=c===void 0?nb:c,v=arguments.length,p=new Array(v>2?v-2:0),h=2;h<v;h++)p[h-2]=arguments[h];var m=e.apply(void 0,p),y=Mh();u&&(u.rootSagaStarted=u.rootSagaStarted||xe,u.effectTriggered=u.effectTriggered||xe,u.effectResolved=u.effectResolved||xe,u.effectRejected=u.effectRejected||xe,u.effectCancelled=u.effectCancelled||xe,u.actionDispatched=u.actionDispatched||xe,u.rootSagaStarted({effectId:y,saga:e,args:p}));var b;if(l){var g=ab.apply(void 0,l);b=function(M){return function(A,P,O){var k=function(E){return M(E,P,O)};return g(k)(A)}}}else b=Xy;var w={channel:n,dispatch:ob(o),getState:a,sagaMonitor:u,onError:d,finalizeRunEffect:b};return yh(function(){var x=Wn(w,m,s,y,nu(e),!0,void 0);return u&&u.effectResolved(y,x),x})}function lx(t){var e={},r=e.context,n=r===void 0?{}:r,o=e.channel,a=o===void 0?wh():o,i=e.sagaMonitor,s=Oe(e,["context","channel","sagaMonitor"]),u;function l(c){var d=c.getState,v=c.dispatch;return u=ux.bind(null,F({},s,{context:n,channel:a,dispatch:v,getState:d,sagaMonitor:i})),function(p){return function(h){i&&i.actionDispatched&&i.actionDispatched(h);var m=p(h);return a.put(h),m}}}return l.run=function(){return u.apply(void 0,arguments)},l.setContext=function(c){ru(n,c)},l}var pe;(function(t){t.Monomer="monomer",t.Preset="preset",t.Bond="bond",t.AmbiguousMonomer="ambiguousMonomer"})(pe||(pe={}));var He;(function(t){t.Library="library",t.ChainStart="chainStart",t.ChainMiddle="chainMiddle",t.ChainEnd="chainEnd"})(He||(He={}));var cx={isReady:null,activeTool:"select",editor:void 0,editorLayoutMode:void 0,preview:{type:pe.Monomer,monomer:void 0,style:{}},position:void 0},Ir=Hn({name:"editor",initialState:cx,reducers:{init:function(e){e.isReady=!1},initSuccess:function(e){e.isReady=!0},initFailure:function(e){e.isReady=!1},selectTool:function(e,r){e.activeTool=r.payload},setPosition:function(e,r){e.position=r.payload},createEditor:function(e,r){e.editor=new Dn({theme:r.payload.theme,canvas:r.payload.canvas,mode:e.editorLayoutMode?new vg[e.editorLayoutMode]:void 0,monomersLibraryUpdate:r.payload.monomersLibraryUpdate})},destroyEditor:function(e){e.editorLayoutMode=e.editor.mode.modeName,e.editor.switchToMicromolecules(),e.editor=void 0},showPreview:function(e,r){e.preview=r.payload||{monomer:void 0,style:""}}}}),Et=Ir.actions,dx=Et.init,fx=Et.initSuccess,vx=Et.initFailure,ht=Et.selectTool,hx=Et.createEditor,rr=Et.showPreview,px=Et.destroyEditor;Et.setPosition;var Wr=function(e){return e.editor.preview},Kn=function(e){return e.editor.activeTool},mx=function(e){return e.editor.position},ue=function(e){return e.editor.editor},Xe=function(e){var r;return(r=e.editor.editor)===null||r===void 0?void 0:r.isSequenceEditInRNABuilderMode},gx=function(e){return e.editor.editorLayoutMode},yx=function(e){var r;return(r=e.editor.editor)===null||r===void 0?void 0:r.isHandToolSelected},Eh=function(e){var r;return(r=e.editor.editor)===null||r===void 0||(r=r.drawingEntitiesManager)===null||r===void 0?void 0:r.hasAntisenseChains},bx=Ir.reducer,xx=We.mark(Ph),Cx=We.mark(kh),wx="editor/fetchData",Sx=function(){return new Promise(function(e){setTimeout(function(){return e("some data")},1e3)})};function Ph(){return We.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(dx(Ir));case 2:return e.prev=2,e.next=5,Mb(Sx);case 5:return e.next=7,Li(fx(Ir));case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(2),gn.error("editorSaga.ts::fetchData",e.t0),e.next=14,Li(vx(Ir));case 14:case"end":return e.stop()}},xx,null,[[2,9]])}function kh(){return We.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kb(wx,Ph);case 2:case"end":return e.stop()}},Cx)}var Oh="FAVORITES",Mx="PEPTIDE",Er={PEPTIDE:"PEPTIDE",CHEM:"CHEM",RNA:"RNA"},K;(function(t){t.SUGARS="Sugars",t.BASES="Bases",t.PHOSPHATES="Phosphates",t.PEPTIDES="Amino acids",t.NUCLEOTIDES="Nucleotides"})(K||(K={}));var _d;(function(t){t.R="R",t.A="A",t.C="C",t.G="G",t.T="T",t.U="U",t.X="X",t.P="P"})(_d||(_d={}));var qi={R:K.SUGARS,A:K.BASES,C:K.BASES,G:K.BASES,T:K.BASES,U:K.BASES,X:K.BASES,P:K.PHOSPHATES},gt="favoriteItemsUniqueKeys",nr="ketcher_custom_presets",Td="Z",Ax="No natural analogue",Nd="thymine",jd="uracil",jr={PEPTIDES:1,RNA:2},Ix=function(){function t(){bv(this,t),this.localStorage=window.localStorage}return hv(t,[{key:"getItem",value:function(r){var n=this.localStorage.getItem(r);return n?JSON.parse(n):null}},{key:"setItem",value:function(r,n){this.localStorage.setItem(r,JSON.stringify(n))}},{key:"removeItem",value:function(r){this.localStorage.removeItem(r)}}]),t}(),Ie=new Ix;function Rd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rd(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ex=W(W({},bt.PEPTIDES,rt.AminoAcid),bt.BASES,rt.Base),Px={monomers:[],favorites:{},searchFilter:"",selectedTabIndex:jr.RNA};function Ke(t){var e;return Ae(t)?t.id||t.label:"".concat(t.props.MonomerName,"___").concat((e=t.props)===null||e===void 0?void 0:e.Name)}function kx(t){var e,r,n;return"".concat(t.name,"_").concat(((e=t.base)===null||e===void 0?void 0:e.label)||".","_").concat(((r=t.sugar)===null||r===void 0?void 0:r.label)||".","_").concat(((n=t.phosphate)===null||n===void 0?void 0:n.label)||".")}var _h=Hn({name:"library",initialState:Px,reducers:{loadMonomerLibrary:function(e,r){var n=r.payload.map(function(o){return Me(Me({},o),{},{props:Me({},o.props)})});e.monomers=n},setFavoriteMonomersFromLocalStorage:function(e){var r={},n=Ie.getItem(gt);!n||!Array.isArray(n)||(e.monomers.forEach(function(o){var a=Ke(o),i=n.find(function(s){return s===a});i&&(r[a]=Me(Me({},o),{},{favorite:!0}))}),e.favorites=r)},clearFavorites:function(e){e.favorites={}},toggleMonomerFavorites:function(e,r){var n=Ke(r.payload),o=Ie.getItem(gt)||[];e.favorites[n]?(delete e.favorites[n],Ie.setItem(gt,o.filter(function(a){return a!==n}))):(e.favorites[n]=Me(Me({},r.payload),{},{favorite:!0}),o.push(n),Ie.setItem(gt,o))},setSearchFilter:function(e,r){e.searchFilter=r.payload},setSelectedTabIndex:function(e,r){e.selectedTabIndex=r.payload}}}),Th=function(e,r){return e.filter(function(n){var o;return!n.isAmbiguous&&((o=n.props)===null||o===void 0?void 0:o.MonomerType)===r})},du=function(e,r){var n=e.filter(function(i){if(!Ae(i))return!1;var s=new Mt(i,void 0,!1);return Ex[r]===s.monomerClass});if(n.length===0)return[];var o=[];r===bt.BASES?o=[{groupTitle:"Ambiguous DNA Bases",groupItems:n.filter(function(i){return Ae(i)&&i.options.find(function(s){return s.templateId.toLowerCase().includes(Nd)})})},{groupTitle:"Ambiguous RNA Bases",groupItems:n.filter(function(i){return Ae(i)&&i.options.find(function(s){return s.templateId.toLowerCase().includes(jd)})})},{groupTitle:"Ambiguous Bases",groupItems:n.filter(function(i){return Ae(i)&&i.options.every(function(s){return!s.templateId.toLowerCase().includes(Nd)&&!s.templateId.toLowerCase().includes(jd)})})}]:o.push({groupTitle:"Ambiguous ".concat(r),groupItems:n});var a=["X","N"];return o.forEach(function(i){i.groupItems.sort(function(s,u){return s.label.localeCompare(u.label)}),i.groupItems.sort(function(s){return a.includes(s.label)?-1:1})}),o},Ox=function(e){return e.filter(function(r){var n,o;return!r.isAmbiguous&&(((n=r.props)===null||n===void 0?void 0:n.MonomerClass)===rt.RNA||((o=r.props)===null||o===void 0?void 0:o.MonomerClass)===rt.DNA)})},_x=function(e){return e.filter(function(r){return r.favorite&&!r.isAmbiguous})},Tx=function(e){var r=[];for(var n in bt){var o=du(e,bt[n]);r=[].concat(ye(r),ye(o))}return r.forEach(function(a){a.groupItems=a.groupItems.filter(function(i){return i.favorite})}),r.filter(function(a){return a.groupItems.length})},Nh=Gm(function(t){return t.library},function(t){var e=t.searchFilter,r=t.monomers,n=t.favorites,o=e.toLowerCase(),a=function(){var s,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,v=u.toLowerCase(),p=l.toLowerCase(),h=c==null||(s=c.base)===null||s===void 0?void 0:s.toLowerCase(),m=c!=null&&c.modifications?Object.values(c.modifications).map(function(R){return R.toLowerCase()}).join(" "):"";if(d==="/")return!!(h||m);if(d.includes("/")){var y=d.split("/");if(y.length>3||y.length===3&&y[2]!=="")return!1;if(y.length===3&&y[1]!==""){var b=y[1],g=h&&h.length===b.length&&Array.from(h).every(function(R,D){return R===b[D]}),w=m?m.split(" ").some(function(R){return R.length===b.length&&Array.from(R).every(function(D,q){return D===b[q]})}):!1;return g||w}var x=y[0],M=y[1];if(d.startsWith("/")&&d.length>1){var A=d.slice(1);return h&&h.startsWith(A)||m&&m.split(" ").some(function(R){return R.startsWith(A)})}if(d.endsWith("/")&&d.length>1){var P=d.slice(0,-1),O=d[d.length-2];return h&&h.endsWith(P)&&h[h.length-1]===O||m&&m.split(" ").some(function(R){return R.endsWith(P)&&R[R.length-1]===O})}var k=h&&h.startsWith(M)&&h.endsWith(x),_=m?m.split(" ").some(function(R){return R.startsWith(M)&&R.endsWith(x)}):!1;return k||_}var E=h?h.includes(d):!1,L=m?m.includes(d):!1,H=v.includes(d)||p.includes(d)||E||L;return H};return r.filter(function(i){if(i.isAmbiguous){var s=i.label,u=i.id,l=i.idtAliases,c=i.monomers,d=a(s,u,l,o);return d||c.some(function(y){var b=y.monomerItem.props,g=b.Name,w=b.MonomerName,x=b.idtAliases;return a(g,w,x,o)})}else{var v=i.props,p=v.Name,h=v.MonomerName,m=v.idtAliases;return a(p,h,m,o)}}).map(function(i){return Me(Me({},i),{},{favorite:!!n[Ke(i)]})})}),ls=function(e){var r=e.reduce(function(a,i){var s=i.props.MonomerNaturalAnalogCode||Td;return a[s]||(a[s]=[]),a[s].push(Me(Me({},i),{},{label:i.props.MonomerName})),a},{}),n=Object.entries(r).reduce(function(a,i){var s=j(i,2),u=s[0],l=s[1],c=l.sort(function(p,h){return p.label.localeCompare(h.label)}),d=c.findIndex(function(p){return p.label===u});if(d!==-1){var v=c.splice(d,1);c.unshift(v[0])}return a[u]=c,a},{}),o=[];return Object.keys(n).sort(function(a,i){return a.localeCompare(i)}).reduce(function(a,i){var s={groupTitle:i===Td?Ax:i,groupItems:[]};return n[i].forEach(function(u){s.groupItems.push(Me(Me({},u),{},{props:Me({},u.props)}))}),s.groupItems.length&&a.push(s),a},o)},jh=function(e){return e.library.selectedTabIndex},lr=_h.actions,cs=lr.loadMonomerLibrary,Nx=lr.setFavoriteMonomersFromLocalStorage;lr.clearFavorites;var jx=lr.toggleMonomerFavorites,Ld=lr.setSearchFilter,Rr=lr.setSelectedTabIndex,Rx=_h.reducer,Lx=We.mark(Rh);function Rh(){return We.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ab(kh);case 2:case"end":return e.stop()}},Lx)}var Dx={name:null,isOpen:!1,additionalProps:null,errorTooltipText:"",errorModalText:"",errorModalTitle:""},Lh=Hn({name:"modal",initialState:Dx,reducers:{openModal:function(e,r){typeof r.payload=="string"?e.name=r.payload:(e.name=r.payload.name,e.additionalProps=r.payload.additionalProps),e.isOpen=!0},closeModal:function(e){e.name=null,e.isOpen=!1,e.additionalProps=null},openErrorTooltip:function(e,r){e.errorTooltipText=r.payload},closeErrorTooltip:function(e){e.errorTooltipText=""},openErrorModal:function(e,r){if(typeof r.payload=="string")e.errorModalText=r.payload;else{var n=r.payload,o=n.errorMessage,a=n.errorTitle;e.errorModalText=o,e.errorModalTitle=a}},closeErrorModal:function(e){e.errorModalText=""}}}),cr=Lh.actions,Zt=cr.openModal,Fx=cr.closeModal,Dd=cr.openErrorTooltip,qx=cr.closeErrorTooltip,Lr=cr.openErrorModal,Bx=cr.closeErrorModal,zx=function(e){return e.modal.name},Hx=function(e){return e.modal.isOpen},$x=function(e){return e.modal.additionalProps},Ux=function(e){return e.modal.errorTooltipText},Gx=function(e){return e.modal.errorModalText},Wx=function(e){return e.modal.errorModalTitle},Kx=Lh.reducer;function Fd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Vx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fd(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var or=function(){return Ie.getItem(nr)},fu=function(e){var r,n=or();return(r=n==null?void 0:n.findIndex(function(o){return o.name===e}))!==null&&r!==void 0?r:-1},Dh=function(e){var r=Vx({},e),n=or()||[],o=fu(r.nameInList);r.nameInList=r.name,o>-1?(n.splice(o,1,r),Ie.setItem(nr,n)):Ie.setItem(nr,[].concat(ye(n),[r]))},Yx=function(e){if(e){var r=or(),n=fu(e);r&&(r.splice(n,1),r.length?Ie.setItem(nr,r):Ie.removeItem(nr))}},Zx=function(e){if(e){var r=or(),n=fu(e);r&&n>-1&&(r[n].favorite=!r[n].favorite,Ie.setItem(nr,r))}},Qx=function(e){var r=["sugar","base","phosphate"],n=cy(e,r);n.templates=[];for(var o=0,a=r;o<a.length;o++){var i,s=a[o],u=e[s],l=(u==null||(i=u.props)===null||i===void 0?void 0:i.id)||(u==null?void 0:u.id);l&&n.templates.push({$ref:u.isAmbiguous?lv(l):cv(l)})}return n},Xx=function(e,r){var n,o,a=[],i=[],s=[];return!r||!(e!=null&&e.sugar)&&!(e!=null&&e.phosphate)&&!(e!=null&&e.base)?{sugarValidations:a,phosphateValidations:i,baseValidations:s}:(e!=null&&e.phosphate&&a.push("R2"),e!=null&&e.base&&a.push("R3"),s.push("R1"),e!=null&&(n=e.sugar)!==null&&n!==void 0&&(n=n.props)!==null&&n!==void 0&&n.MonomerCaps&&!("R3"in e.sugar.props.MonomerCaps)&&s.push("DISABLED"),i.push("R1"),e!=null&&(o=e.sugar)!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.MonomerCaps&&!("R2"in e.sugar.props.MonomerCaps)&&i.push("DISABLED"),{sugarValidations:a,phosphateValidations:i,baseValidations:s})};function qd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qd(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ke;(function(t){t.Presets="Presets"})(ke||(ke={}));var Jx={activePreset:null,sequenceSelection:void 0,sequenceSelectionName:void 0,isSequenceFirstsOnlyNucleoelementsSelected:void 0,activePresetMonomerGroup:null,groupItemValidations:W(W(W({},K.BASES,[]),K.SUGARS,[]),K.PHOSPHATES,[]),presetsDefault:[],presetsCustom:[],activeRnaBuilderItem:null,isEditMode:!1,uniqueNameError:"",invalidPresetError:"",activePresetForContextMenu:null},Pr=W(W(W({},K.BASES,"base"),K.SUGARS,"sugar"),K.PHOSPHATES,"phosphate"),Fh=Hn({name:"rna-builder",initialState:Jx,reducers:{createNewPreset:function(e){e.activePreset={base:void 0,sugar:void 0,phosphate:void 0,name:"",nameInList:""}},setActivePreset:function(e,r){e.activePreset=vr(vr({},r.payload),{},{nameInList:r.payload.name})},setSequenceSelection:function(e,r){e.sequenceSelection=ye(r.payload)},setSequenceSelectionName:function(e,r){e.sequenceSelectionName=r.payload},setIsSequenceFirstsOnlyNucleoelementsSelected:function(e,r){e.isSequenceFirstsOnlyNucleoelementsSelected=r.payload},setActivePresetForContextMenu:function(e,r){e.activePresetForContextMenu=r.payload},setActivePresetName:function(e,r){e.activePreset.name=r.payload},setActiveRnaBuilderItem:function(e,r){e.activeRnaBuilderItem=r.payload},recalculateRnaBuilderValidations:function(e,r){var n=Xx(r.payload.rnaPreset,r.payload.isEditMode),o=n.sugarValidations,a=n.phosphateValidations,i=n.baseValidations;e.groupItemValidations[K.SUGARS]=o,e.groupItemValidations[K.BASES]=i,e.groupItemValidations[K.PHOSPHATES]=a},setActivePresetMonomerGroup:function(e,r){e.activePresetMonomerGroup=r.payload},savePreset:function(e,r){var n=r.payload,o=vr({},n);if(Dh(Qx(o)),o.nameInList){var a=e.presetsCustom.findIndex(function(i){return i.name===o.nameInList});o.nameInList=o.name,a===-1?e.presetsCustom.push(o):e.presetsCustom.splice(a,1,o)}else e.presetsCustom.push(o);e.activePreset&&(e.activePreset.nameInList=o.name)},deletePreset:function(e,r){var n=r.payload;Yx(n.name);var o=e.presetsCustom.findIndex(function(a){return a.name===n.name});e.presetsCustom.splice(o,1),n.nameInList&&(e.activePreset=null)},setIsEditMode:function(e,r){e.isEditMode=r.payload},setUniqueNameError:function(e,r){e.uniqueNameError=r.payload},setInvalidPresetError:function(e,r){e.invalidPresetError=r.payload},setDefaultPresets:function(e,r){var n=r.payload[0];if(n){var o=e.presetsDefault.find(function(a){return a.name===n.name});o||(e.presetsDefault=r.payload)}},setCustomPresets:function(e,r){e.presetsCustom=r.payload},setFavoritePresetsFromLocalStorage:function(e){var r=Ie.getItem(gt);!r||!Array.isArray(r)||(e.presetsDefault=e.presetsDefault.map(function(n){var o="".concat(n.name,"_").concat(ju.RNA),a=r.find(function(i){return i===o});return a?vr(vr({},n),{},{favorite:!0}):n}))},clearFavorites:function(e){e.presetsDefault=[]},togglePresetFavorites:function(e,r){var n=e.presetsDefault.findIndex(function(c){return c.name===r.payload.name}),o=e.presetsCustom.findIndex(function(c){return c.name===r.payload.name});if(n>=0){var a=e.presetsDefault[n].favorite;e.presetsDefault[n].favorite=!a}else if(o>=0){Zx(e.presetsCustom[o].name);var i=e.presetsCustom[o].favorite;e.presetsCustom[o].favorite=!i;return}var s="".concat(r.payload.name,"_").concat(ju.RNA),u=Ie.getItem(gt)||[],l=u.some(function(c){return c===s});l?Ie.setItem(gt,u.filter(function(c){return c!==s})):(u.push(s),Ie.setItem(gt,u))}}}),qh=function(e){return e.rnaBuilder.activeRnaBuilderItem},eC=function(e){return e.rnaBuilder.groupItemValidations},Vn=function(e){return e.rnaBuilder.activePreset},Bh=function(e){return e.rnaBuilder.sequenceSelection},tC=function(e){return e.rnaBuilder.sequenceSelectionName},rC=function(e){return e.rnaBuilder.isSequenceFirstsOnlyNucleoelementsSelected},Bi=function(e,r){if(!(!Pr[r]||!e))return e[Pr[r]]},nC=function(e){return e.rnaBuilder.activePresetMonomerGroup},Bd=function(e){return!!(e.name&&e.sugar&&(e.base||e.phosphate))},vu=function(e){return e.rnaBuilder.isEditMode},zh=function(e){var r,n,o,a,i,s;if(!e)return"";var u=((r=e.sugar)===null||r===void 0?void 0:r.label)||((n=e.sugar)===null||n===void 0?void 0:n.props.MonomerName)||"",l=((o=e.base)===null||o===void 0?void 0:o.label)||((a=e.base)===null||a===void 0?void 0:a.props.MonomerName)||"",c=((i=e.phosphate)===null||i===void 0?void 0:i.label)||((s=e.phosphate)===null||s===void 0?void 0:s.props.MonomerName)||"",d=u;return u&&c||(u||c)&&l?d+="(".concat(l,")"):d+=l,d+=c,d},oC=function(e){return e.rnaBuilder.uniqueNameError},aC=function(e){return e.rnaBuilder.invalidPresetError},Hh=function(e){var r=e.rnaBuilder.activePreset;return r&&!r.nameInList&&!r.name&&!r.sugar&&!r.base&&!r.phosphate},$h=function(e){return e.rnaBuilder.activePresetForContextMenu},iC=function(e){return e.filter(function(r){return r.favorite})},Yn=function(e){var r=e.rnaBuilder,n=r.presetsDefault,o=n===void 0?[]:n,a=r.presetsCustom,i=a===void 0?[]:a;return[].concat(ye(o),ye(i))},Uh=function(e){var r,n=e.library.searchFilter,o=Yn(e),a=(r=mx(e))!==null&&r!==void 0?r:fr.Library,i=n.toLowerCase();return o.filter(function(s){var u,l,c,d,v,p,h,m,y=(u=s.name)===null||u===void 0?void 0:u.toLowerCase(),b=(l=s.sugar)===null||l===void 0||(l=l.label)===null||l===void 0?void 0:l.toLowerCase(),g=(c=s.phosphate)===null||c===void 0||(c=c.label)===null||c===void 0?void 0:c.toLowerCase(),w=(d=s.base)===null||d===void 0||(d=d.label)===null||d===void 0?void 0:d.toLowerCase(),x=(v=s.idtAliases)===null||v===void 0||(v=v.base)===null||v===void 0?void 0:v.toLowerCase(),M=(p=s.idtAliases)===null||p===void 0?void 0:p.modifications,A=x;if((h=s.name)!==null&&h!==void 0&&h.includes("MOE")&&x){var P,O,k,_=x,E=(P=M==null?void 0:M.endpoint5)!==null&&P!==void 0?P:"5".concat(_),L=(O=M==null?void 0:M.internal)!==null&&O!==void 0?O:"i".concat(_),H=(k=M==null?void 0:M.endpoint3)!==null&&k!==void 0?k:"3".concat(_);switch(a){case fr.Library:A="".concat(E,", ").concat(L);break;case fr.ChainStart:A=E;break;case fr.ChainMiddle:A=L;break;case fr.ChainEnd:A=H;break}}var R=(i.match(/\//g)||[]).length,D=i.split("/");if(R>=2&&D[2]!==void 0&&D[2]!=="")return!1;if(i.startsWith("/")&&i.length>1){var q,$=i.slice(1);return((q=A)===null||q===void 0?void 0:q.toLowerCase().startsWith($))||(x==null?void 0:x.startsWith($))||M&&Object.values(M).some(function(Z){return Z==null?void 0:Z.toLowerCase().startsWith($)})}if(i.endsWith("/")&&i.length>1){var N,G=i.slice(0,-1),ae=i[i.length-2];return((N=A)===null||N===void 0?void 0:N.toLowerCase().endsWith(G))&&A[A.length-1]===ae||(x==null?void 0:x.endsWith(G))&&x[x.length-1]===ae||M&&Object.values(M).some(function(Z){return(Z==null?void 0:Z.toLowerCase().endsWith(G))&&Z[Z.length-1]===ae})}if(i==="/")return!!s.idtAliases;var de=(y==null?void 0:y.includes(i))||(b==null?void 0:b.includes(i))||(g==null?void 0:g.includes(i))||(w==null?void 0:w.includes(i))||((m=A)===null||m===void 0?void 0:m.toLowerCase().includes(i));return de})},le=Fh.actions,Dr=le.setActivePreset,hu=le.setSequenceSelection,Gh=le.setSequenceSelectionName,sC=le.setIsSequenceFirstsOnlyNucleoelementsSelected;le.setActivePresetName;var Qt=le.setActiveRnaBuilderItem,pu=le.recalculateRnaBuilderValidations,Wh=le.setActivePresetMonomerGroup,uC=le.savePreset,lC=le.deletePreset,mu=le.createNewPreset,at=le.setIsEditMode,gu=le.setUniqueNameError,Kh=le.setInvalidPresetError,cC=le.setDefaultPresets,dC=le.setCustomPresets,fC=le.setActivePresetForContextMenu,vC=le.togglePresetFavorites,hC=le.setFavoritePresetsFromLocalStorage,pC=le.clearFavorites,mC=Fh.reducer;function gC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=lx(),r=Ry({reducer:{editor:bx,modal:Kx,library:Rx,rnaBuilder:mC},middleware:function(o){return o({thunk:!1,serializableCheck:!1}).concat(e)},preloadedState:t});return e.run(Rh),r}var yC=gC(),re={colorA:{regular:"#CCCBD6",hover:"#B8BBCC"},colorCM:{regular:"#FFE34C",hover:"#FFD700"},colorDQ:{regular:"#AD4551",hover:"#AB0014"},colorEN:{regular:"#93F5F5",hover:"#00F0F0"},colorFY:{regular:"#5656BF",hover:"#2626BF"},colorGX:{regular:"#E1E6ED",hover:"#CAD3E0"},colorH:{regular:"#BFC9FF",hover:"#99AAFF"},colorILV:{regular:"#50E576",hover:"#00D936"},colorKR:{regular:"#365CFF",hover:"#002CEB"},colorP:{regular:"#F2C5B6",hover:"#FFA98C"},colorST:{regular:"#FFC44C",hover:"#FFAA00"},colorW:{regular:"#99458B",hover:"#7F006B"},colorU:{regular:"#99458B",hover:"#7F006B"},chem:{regular:"#333333",hover:"#555555"},default:{regular:"#CCCBD6",hover:"#B8BBCC"}},ie={D:{regular:"#FF8C69",hover:"#0097A8"},E:{regular:"#DC143C",hover:"#0097A8"},K:{regular:"#B0E0E6",hover:"#0097A8"},H:{regular:"#007FFF",hover:"#0097A8"},O:{regular:"#2A52BE",hover:"#0097A8"},R:{regular:"#0A12FF",hover:"#0097A8"},Q:{regular:"#EDB4ED",hover:"#0097A8"},Y:{regular:"#D65CBC",hover:"#0097A8"},U:{regular:"#CA7DE3",hover:"#0097A8"},S:{regular:"#9966CC",hover:"#0097A8"},C:{regular:"#BF00FF",hover:"#0097A8"},N:{regular:"#800080",hover:"#0097A8"},T:{regular:"#FF00FF",hover:"#0097A8"},L:{regular:"#7FFF00",hover:"#0097A8"},I:{regular:"#4CBB17",hover:"#0097A8"},F:{regular:"#008A00",hover:"#0097A8"},A:{regular:"#008080",hover:"#0097A8"},P:{regular:"#D2D900",hover:"#0097A8"},G:{regular:"#BDB76B",hover:"#0097A8"},M:{regular:"#FFF600",hover:"#0097A8"},V:{regular:"#FFD700",hover:"#0097A8"}},zd={color:{background:{canvas:"#F5F5F5",primary:"#FFFFFF",secondary:"#F8FEFF",overlay:"rgba(94,94,94,.8)"},border:{primary:"#CAD3DD",secondary:"#7C7C7F"},text:{primary:"#333333",secondary:"#167782",light:"#585858",dark:"#000000",error:"#FF4A4A",lightgrey:"#7C7C7F"},tab:{regular:"#FFFFFF",active:"#EFF2F5",hover:"#00838F",content:"#EFF2F5"},scroll:{regular:"#717171",inactive:"#DDDDDD"},button:{primary:{active:"#167782",hover:"#00838F",clicked:"#4FB3BF",disabled:"rgba(113, 113, 113, 0.4)"},secondary:{active:"#585858",hover:"#333333",clicked:"#AEAEAE",disabled:"rgba(113, 113, 113, 0.4)"},group:{active:"#167782",hover:"#2E858F"},transparent:{active:"transparent"},text:{primary:"#FFFFFF",secondary:"#005662",disabled:"#7A7A7A"}},dropdown:{primary:"#333333",secondary:"#FFFFFF",hover:"#DDDDDD",disabled:"#7A7A7A"},tooltip:{background:"#FFFFFF",text:"#333333"},link:{active:"#00838F",hover:"#005662"},divider:"#AEAEAE",spinner:"#005662",error:"#FF4A4A",input:{text:{default:"#585858",active:"#333333",disabled:"#585858",error:"#FF4A4A"},background:{primary:"#FFFFFF",default:"#EFF2F5",hover:"#DDDDDD",disabled:"#eff2f5"},border:{regular:"#cad3dd",active:"#FFFFFF",hover:"#43b5c0",focus:"#EFF2F5",error:"#FF4A4A"}},icon:{grey:"#B4B9D6",hover:"#005662",active:"#525252",activeMenu:"#005662",clicked:"#FFFFFF",disabled:"rgba(82, 82, 82, 0.4)"},monomer:{default:"#C8C8C8"},editMode:{sequenceInRNABuilder:"#99d7dc"}},font:{size:{small:"10px",regular:"12px",medium:"14px",xsmall:"6px"},family:{montserrat:"Montserrat, sans-serif",inter:`Inter, FreeSans, Arimo, 'Droid Sans', Helvetica, 'Helvetica Neue',
Arial, sans-serif`,roboto:"Roboto, FreeSans, Arimo, Droid Sans, Helvetica, Helvetica Neue, Arial, sans-serif"},weight:{light:300,regular:400,bold:600}},monomer:{color:{A:re.colorA,C:re.colorCM,M:re.colorCM,D:re.colorDQ,Q:re.colorDQ,E:re.colorEN,N:re.colorEN,F:re.colorFY,Y:re.colorFY,G:re.colorGX,X:re.colorGX,H:re.colorH,I:re.colorILV,L:re.colorILV,V:re.colorILV,K:re.colorKR,R:re.colorKR,P:re.colorP,S:re.colorST,T:re.colorST,W:re.colorW,U:re.colorU,CHEM:re.chem,default:re.default}},peptide:{color:{D:ie.D,E:ie.E,K:ie.K,H:ie.H,O:ie.O,R:ie.R,Q:ie.Q,Y:ie.Y,U:ie.U,S:ie.S,C:ie.C,N:ie.N,T:ie.T,L:ie.L,I:ie.I,F:ie.F,A:ie.A,P:ie.P,G:ie.G,M:ie.M,V:ie.V}},border:{regular:"1px solid #CAD3DD",small:"1px solid #E1E5EA",radius:{regular:"4px"}},shadow:{regular:"0px 1px 1px rgba(197, 203, 207, 0.7)"},outline:{small:"1px solid #B4B9D6",medium:"2px solid #B4B9D6",color:"#B4B9D6",selected:{color:"#167782",small:"1px solid #167782",medium:"2px solid #167782"},grey:{small:"1px solid #585858"}},transition:{regular:"all .3s"}},bC={},xC=function(e){return ov({all:"unset",".Ketcher-polymer-editor-root":{all:"unset",fontSize:e.ketcher.font.size.medium,fontFamily:e.ketcher.font.family.inter,fontWeight:e.ketcher.font.weight.regular,backgroundColor:e.ketcher.color.background.primary,color:e.ketcher.color.text.primary,boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) div":{boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) input":{fontFamily:e.ketcher.font.family.inter,fontWeight:e.ketcher.font.weight.regular,fontSize:e.ketcher.font.size.regular,boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) h1":{fontSize:96},":where(.Ketcher-polymer-editor-root) h2":{fontSize:60},":where(.Ketcher-polymer-editor-root) h3":{fontSize:48},":where(.Ketcher-polymer-editor-root) h4":{fontSize:34},":where(.Ketcher-polymer-editor-root) h5":{fontSize:24},":where(.Ketcher-polymer-editor-root) h6":{fontSize:20,fontWeight:e.ketcher.font.weight.bold},":where(.Ketcher-polymer-editor-root) p":{fontSize:e.ketcher.font.size.regular},":where(.Ketcher-polymer-editor-root) button":{textTransform:"uppercase",fontWeight:e.ketcher.font.weight.bold}},"","")},Vh="254px",CC=C(dv,{target:"e1vkl5kv4"})({name:"4b23tt",styles:"outline:0;:hover{outline:none;}"}),wC=C("div",{target:"e1vkl5kv3"})(function(t){var e=t.theme;return{width:Vh,height:"calc(100% - 16px)",backgroundColor:e.ketcher.color.background.primary,boxShadow:"0px 2px 5px rgba(103, 104, 132, 0.15)",display:"flex",flexDirection:"column",borderRadius:"4px"}},""),SC=C("h3",{target:"e1vkl5kv2"})(function(t){var e=t.theme;return{margin:0,padding:0,fontSize:e.ketcher.font.size.regular,fontWeight:e.ketcher.font.weight.regular}},""),MC=C("div",{target:"e1vkl5kv1"})(function(){return{padding:"12px",position:"relative"}},""),AC=C("div",{target:"e1vkl5kv0"})(function(t){var e=t.theme;return{padding:"12px 0","& > div":{background:e.ketcher.color.input.background.default,display:"flex",height:"24px",flexDirection:"row",border:"1px solid transparent",borderRadius:"4px",padding:"0 4px","& > span":{display:"flex",alignItems:"center",justifyContent:"center"},"&:has(input:focus)":{outline:"1px solid ".concat(e.ketcher.color.input.border.focus)},"& > input":{background:"transparent",border:"none",padding:"0 0 0 8px",margin:0,flex:1,"&:focus":{outline:"none"}}}}},""),Hd=C("div",{target:"e1pv9pa9"})(function(t){var e=t.fullWidth,r=t.withPaddingRight;return{width:e?"100%":"fit-content",display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:r?"12px":0}},""),IC=C("div",{target:"e1pv9pa8"})(function(t){var e=t.theme;return{height:"100%",width:"100%",position:"relative",padding:"12px",paddingBottom:0,backgroundColor:e.ketcher.color.background.canvas,display:"flex",justifyContent:"space-between",containerType:"size",overflow:"hidden"}},""),EC=C("div",{target:"e1pv9pa7"})(function(t){var e=t.theme;return{height:"100%",width:"100%",position:"relative",paddingBottom:0,backgroundColor:e.ketcher.color.background.canvas,display:"flex",justifyContent:"space-between",columnGap:"3px"}},""),Yh=C("div",{target:"e1pv9pa6"})(function(t){var e=t.hide,r=e===void 0?!1:e;return{height:"100%",width:"fit-content",display:r?"none":"flex",flexDirection:"column"}},""),Zh=C(Yh,{target:"e1pv9pa5"})(""),Qh=C(Yh,{target:"e1pv9pa4"})(""),Xh=C("div",{target:"e1pv9pa3"})(function(t){var e=t.shortened,r=e===void 0?!1:e;return{height:"36px",width:r?"calc(100% - ".concat(Vh,")"):"100%",marginBottom:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#FFFFFF",boxShadow:"0px 2px 5px rgba(103, 104, 132, 0.15)",borderRadius:"4px"}},""),Jh=C("div",{target:"e1pv9pa2"})({name:"149k9u4",styles:"height:100%;width:100%;position:relative"}),ep=C("div",{target:"e1pv9pa1"})({name:"0",styles:""}),PC=C("div",{target:"e1pv9pa0"})({name:"1k18kha",styles:"height:40px"}),je=function(e){var r=e.children,n={Left:null,Main:null,Right:null,Top:null,InsideRoot:null};return St.Children.forEach(r,function(o){o.type===Zh?n.Left=o:o.type===Qh?n.Right=o:o.type===Xh?n.Top=o:o.type===Jh?n.Main=o:o.type===ep&&(n.InsideRoot=o)}),I(IC,{children:[I(Hd,{fullWidth:!0,withPaddingRight:!0,children:[n.Top,I(EC,{children:[n.Left,f(PC,{}),n.Main]})]}),f(Hd,{children:n.Right}),n.InsideRoot]})};je.Left=Zh;je.Top=Xh;je.Right=Qh;je.Main=Jh;je.InsideRoot=ep;var ce=function(){return Nn()},T=av;function dr(){var t,e=iv.getKetcher(),r=e==null||(t=e.editor)===null||t===void 0?void 0:t.struct().isBlank(),n=r?Rm:Lm,o=T(ue),a=T(gx),i=S.useState(a||n),s=j(i,2),u=s[0],l=s[1],c=S.useCallback(function(d){l(d)},[l]);return S.useEffect(function(){return o==null||o.events.layoutModeChange.add(c),function(){o==null||o.events.layoutModeChange.remove(c)}},[c,o==null?void 0:o.events.layoutModeChange]),u}function kC(){var t=T(ue),e=T(Xe),r=S.useState(e),n=j(r,2),o=n[0],a=n[1],i=function(u){a(u)};return S.useEffect(function(){return t==null||t.events.toggleSequenceEditInRNABuilderMode.add(i),function(){t==null||t.events.toggleSequenceEditInRNABuilderMode.remove(i)}},[i,t==null?void 0:t.events.toggleSequenceEditInRNABuilderMode]),o}function $d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Ud(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$d(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$d(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var OC=C("div",{target:"e1fsnjs54"})(function(){return{backgroundColor:"#eef2f5",flexGrow:1,overflowY:"auto"}},""),_C=C(Sv,{target:"e1fsnjs53"})({name:"jwg7h4",styles:"height:100%;width:100%;align-items:start"});function TC(t){var e=t.children,r=t.value,n=t.index;return f(OC,{role:"tabpanel",hidden:r!==n,id:n.toString(),children:r===n&&f(_C,{children:e})})}function NC(t){return{id:"simple-tab-".concat(t),"aria-controls":"simple-tabpanel-".concat(t)}}function jC(t){var e=ce(),r=T(jh),n=t.tabs,o=n[r],a=o==null?void 0:o.component,i=o==null?void 0:o.props,s=function(v,p){e(Rr(p))},u=C(qm,{target:"e1fsnjs52"})({name:"1oug8xv",styles:"height:24px;min-height:24px;list-style-type:none;margin:0;padding:0;& .MuiTabs-indicator{display:none;}"}),l=C(Bm,{target:"e1fsnjs51"})(function(d){var v=d.theme;return{minHeight:24,minWidth:0,height:1,padding:0,fontSize:v.ketcher.font.size.regular,textTransform:"none",cursor:"pointer",textAlign:"center",backgroundColor:v.ketcher.color.tab.regular,color:v.ketcher.color.text.light,listStyleType:"none",margin:0,flex:"1 1 auto",border:"1px solid transparent",borderBottom:"1px solid ".concat(v.ketcher.color.border.primary),borderRadius:"4px 4px 0 0","&:first-of-type":{borderLeftColor:"transparent !important",borderRadius:"0 4px 0 0 "},"&:last-of-type":{borderRightColor:"transparent !important",borderRadius:"4px 0 0 0"},"&:hover":{backgroundColor:v.ketcher.color.tab.regular,color:v.ketcher.color.text.primary,border:"1px solid ".concat(v.ketcher.color.border.primary)},"&.Mui-selected":{backgroundColor:v.ketcher.color.tab.active,color:v.ketcher.color.text.primary,border:"1px solid ".concat(v.ketcher.color.border.primary),borderBottom:"1px solid transparent"}}},""),c=C("div",{target:"e1fsnjs50"})({name:"2r6rpv",styles:"display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;width:100%;height:100%"});return I(te,{children:[f(u,{value:r,onChange:s,children:n.map(function(d,v){return f(l,Ud({label:d.caption,"data-testid":d.testId},NC(v)),v)})}),o&&f(TC,{value:r,index:r,children:f(c,{children:f(a,Ud({},i))})})]})}var yt=function(){};function Gd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gd(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Wd=function(e,r,n){var o=new Map(e.map(function(a){var i=Ae(a)?lv(a.id):cv(Ke(a));return[i,a]}));return r.filter(function(a){return a.templates.every(function(i){return!!o.get(i.$ref)})}).map(function(a){var i=new Map(a.templates.map(function(d){var v=o.get(d.$ref),p=jm(v),h=j(p,3),m=h[2];return[m,v]})),s=i.get(rt.Sugar),u=i.get(rt.Base),l=i.get(rt.Phosphate),c={base:u?ct(ct({},u),{},{label:u.label}):void 0,name:a.name,phosphate:l?ct(ct({},l),{},{label:l.label}):void 0,sugar:s?ct(ct({},s),{},{label:s.label}):void 0,favorite:a.favorite,default:n||a.default};return a.idtAliases?ct(ct({},c),{},{idtAliases:a.idtAliases}):c})},zi=function(e){return Object.entries(e).filter(function(r){var n=j(r,2);n[0];var o=n[1];return!!o}).map(function(r){var n=j(r,1),o=n[0];return o})},tp=C("div",{target:"e719szw2"})("background:white;height:48px;text-align:center;cursor:",function(t){var e=t.disabled;return e?"default":"pointer"},";opacity:",function(t){var e=t.disabled;return e?"0.4":"1"},";display:flex;justify-content:space-between;align-items:center;padding:0 5px;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.small},";color:",function(t){var e=t.theme;return e.ketcher.color.text.primary},";position:relative;overflow:hidden;border-radius:4px;box-shadow:0 2px 4px rgba(0, 0, 0, 0.15);margin:0;user-select:none;border-color:#167782;border-width:",function(t){var e=t.selected;return e?"2px 2px 2px":"0px"},";border-style:solid;box-sizing:border-box;z-index:",function(t){var e=t.selected;return e?2:void 0},";.hidden & .star{visibility:hidden!important;}&:hover{outline:1px solid #b4b9d6;>.star{visibility:visible;opacity:1;}}&::after{content:'';display:block;position:absolute;top:0;left:0;width:100%;height:8px;border-bottom:",function(t){var e=t.isVariantMonomer;return e?"1px solid #CAD3DD":"none"},";background:",function(t){var e,r,n,o,a,i=t.code,s=t.theme,u=t.item;if(!u)return(e=s.ketcher.monomer.color.default)===null||e===void 0?void 0:e.regular;var l=u,c=((r=l.props)===null||r===void 0?void 0:r.MonomerType)==="PEPTIDE";if(c&&(n=s.ketcher.peptide.color[i])!==null&&n!==void 0&&n.regular){var d;return(d=s.ketcher.peptide.color[i])===null||d===void 0?void 0:d.regular}var v=((o=s.ketcher.monomer.color[i])===null||o===void 0?void 0:o.regular)||((a=s.ketcher.monomer.color.default)===null||a===void 0?void 0:a.regular);return v},";},>span{position:absolute;bottom:",function(t){var e=t.selected;return e?"4px":"6px"},";left:",function(t){var e=t.selected;return e?"4px":"6px"},";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:85%;}>.star{color:#e1e5ea;position:absolute;top:12px;right:3px;font-size:15px;opacity:0;transition:0.2s ease;flex-shrink:0;&.visible{visibility:visible;opacity:1;}&:active{transform:scale(1.4);}&:hover,&.visible{color:#faa500;}}"),RC=C("div",{target:"e719szw1"})("display:flex;justify-content:center;align-items:center;height:15px;width:",function(t){var e=t.monomersAmount;return e>=10?"20px":"15px"},";border-radius:",function(t){var e=t.monomersAmount;return e>=10?"20px":"50%"},";border:1px solid #cceaee;position:absolute;bottom:",function(t){var e=t.selected;return e?"4px":"6px"},";left:",function(t){var e=t.selected;return e?"18px":"20px"},";font-size:12px;line-height:12px;"),LC=C("span",{target:"e719szw0"})({name:"rnnx2x",styles:"font-size:12px"}),DC=function(e,r){var n,o,a,i=T(Xe),s=av(rC),u=S.useState(!1),l=j(u,2),c=l[0],d=l[1];return S.useEffect(function(){if(!i)return d(!1);if(r===bt.BASES){var v;d(!(e!=null&&(v=e.props)!==null&&v!==void 0&&(v=v.MonomerCaps)!==null&&v!==void 0&&v.R1))}else if(r===bt.PHOSPHATES){var p,h;d(!(e!=null&&(p=e.props)!==null&&p!==void 0&&(p=p.MonomerCaps)!==null&&p!==void 0&&p.R1&&e!==null&&e!==void 0&&(h=e.props)!==null&&h!==void 0&&(h=h.MonomerCaps)!==null&&h!==void 0&&h.R2))}else if(r===bt.SUGARS)if(s){var m,y;d(!(e!=null&&(m=e.props)!==null&&m!==void 0&&(m=m.MonomerCaps)!==null&&m!==void 0&&m.R3&&e!==null&&e!==void 0&&(y=e.props)!==null&&y!==void 0&&(y=y.MonomerCaps)!==null&&y!==void 0&&y.R2))}else{var b,g,w;d(!(e!=null&&(b=e.props)!==null&&b!==void 0&&(b=b.MonomerCaps)!==null&&b!==void 0&&b.R3&&e!==null&&e!==void 0&&(g=e.props)!==null&&g!==void 0&&(g=g.MonomerCaps)!==null&&g!==void 0&&g.R2&&e!==null&&e!==void 0&&(w=e.props)!==null&&w!==void 0&&(w=w.MonomerCaps)!==null&&w!==void 0&&w.R1))}},[r,i,s,e==null||(n=e.props)===null||n===void 0||(n=n.MonomerCaps)===null||n===void 0?void 0:n.R1,e==null||(o=e.props)===null||o===void 0||(o=o.MonomerCaps)===null||o===void 0?void 0:o.R2,e==null||(a=e.props)===null||a===void 0||(a=a.MonomerCaps)===null||a===void 0?void 0:a.R3,d]),c};function Kd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Vd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kd(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var FC=function(e){var r=e.item,n=e.groupName,o=e.onMouseLeave,a=e.onMouseMove,i=e.isSelected,s=e.disabled,u=e.onClick,l=u===void 0?yt:u,c=S.useState(r.favorite),d=j(c,2),v=d[0],p=d[1],h=ce(),m=DC(r,n)||s,y=Ae(r)?"":r.props.MonomerType===Er.CHEM?r.props.MonomerType:r.props.MonomerNaturalAnalogCode,b=Ke(r),g=Ae(r)?void 0:r;return I(tp,Vd(Vd({selected:i,disabled:m,"data-testid":b,"data-monomer-item-id":b,item:g,isVariantMonomer:r.isAmbiguous,code:y,onMouseLeave:o,onMouseMove:a},m?{}:{onClick:l}),{},{children:[f(LC,{children:r.label}),!m&&f("div",{onClick:function(x){x.stopPropagation(),p(!v),h(jx(r))},className:"star ".concat(v?"visible":""),children:""}),Ae(r)&&f(RC,{selected:i,monomersAmount:r.monomers.length,children:r.monomers.length})]}))},rp=C("div",{target:"e10tnh3n3"})({name:"183ulj8",styles:"display:grid;grid-template-columns:repeat(3, 1fr);grid-template-rows:auto;flex:1;gap:8px;&::after{content:'';flex:auto;}"}),np=C("div",{target:"e10tnh3n2"})("position:relative;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.small},";font-family:",function(t){var e=t.theme;return e.ketcher.font.family.roboto},";color:",function(t){var e=t.theme;return e.ketcher.color.divider},";margin:0;gap:8px;"),qC=C(np,{target:"e10tnh3n1"})({name:"qdeacm",styles:"flex-direction:column"}),BC=C("div",{target:"e10tnh3n0"})("height:100%;display:flex;flex-grow:0;flex-basis:14px;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.medium},";font-family:",function(t){var e=t.theme;return e.ketcher.font.family.roboto},";color:",function(t){var e=t.theme;return e.ketcher.color.text.primary},";margin:0;"),wn=function(e){var r=e.items,n=e.title,o=e.groupName,a=e.selectedMonomerUniqueKey,i=e.libraryName,s=e.disabled,u=e.onItemClick,l=u===void 0?yt:u,c=ce(),d=T(ue),v=T(eC),p=function(M){var A=!1;if(Ae(M))return!1;if(s)A=s;else{var P,O,k=v["".concat((P=M.props)===null||P===void 0?void 0:P.MonomerClass,"s")];if((k==null?void 0:k.length)>0&&(O=M.props)!==null&&O!==void 0&&O.MonomerCaps)for(var _=0;_<k.length;_++)k[_]in M.props.MonomerCaps||(A=!0)}return A},h=S.useCallback(function(x){return c(rr(x))},[c]),m=S.useCallback(wt.debounce(function(x){return h(x)},500),[h]),y=function(){m.cancel(),c(rr(void 0))},b=function(M,A){y();var P=A.currentTarget.getBoundingClientRect(),O,k,_;if(Ae(M)){_=M?Cv(M)(P):"";var E="".concat(P.left+P.width/2,"px");k=pe.AmbiguousMonomer,O={left:E,top:_,transform:"translate(-50%, 0)"}}else _=M?rg(P):"",O={right:"-88px",top:_,transform:"translate(-50%, 0)"},k=pe.Monomer;var L={type:k,monomer:M,style:O};m(L)},g=function(M){c(ht("monomer")),["FAVORITES","PEPTIDE","CHEM"].includes(i??"")&&d.events.selectMonomer.dispatch(M),l(M)},w=function(M){return a===Ke(M)};return I(qC,{children:[n&&f(BC,{children:n}),f(rp,{children:r.map(function(x){return f(FC,{disabled:p(x),item:x,groupName:o,isSelected:w(x),onMouseLeave:y,onMouseMove:function(A){return b(x,A)},onClick:function(){return g(x)}},Ke(x))})})]})},zC=C("div",{target:"e1bp6il60"})({name:"jewv9i",styles:"width:100%;display:flex;flex-direction:column;justify-items:center;gap:24px;padding:16px 12px"}),HC=C(tp,{target:"e1txcvj90"})("&::after{content:'';background:",function(t){var e=t.theme,r=t.selected;return r?e.ketcher.color.button.primary.active:"#faa500"},";}.dots{visibility:visible;position:absolute;right:2px;top:10px;}.hidden{visibility:hidden!important;}>.star{right:0;left:4px;top:10px;width:min-content;}"),$C=C("div",{target:"ernj46o2"})(function(t){return{minHeight:"32px",display:"flex",alignItems:"center",padding:"8px 12px",gap:"8px",borderBottom:t.theme.ketcher.border.small}},""),UC=C("span",{target:"ernj46o1"})(function(t){return{flexGrow:1,fontSize:t.theme.ketcher.font.size.regular}},""),ds=C(be,{target:"ernj46o0"})(function(t){return{width:"16px",height:"16px",color:t.theme.ketcher.color.icon.grey,transition:t.theme.ketcher.transition.regular,transform:t.expanded?"rotate(180deg)":"none"}},""),GC=function(e){var r=e.preset,n=e.isSelected,o=e.onClick,a=o===void 0?yt:o,i=e.onContextMenu,s=i===void 0?yt:i,u=e.onMouseLeave,l=u===void 0?yt:u,c=e.onMouseMove,d=c===void 0?yt:c,v=S.useState(!1),p=j(v,2),h=p[0],m=p[1],y=S.useState(r.favorite),b=j(y,2),g=b[0],w=b[1],x=ce(),M=function(){m(!0)},A=function(){m(!1)},P=function(k){k.stopPropagation(),w(!g),x(vC(r))};return I(HC,{"data-testid":kx(r),onClick:a,onContextMenu:s,onMouseLeave:l,onMouseMove:d,onMouseOver:M,onMouseOut:A,selected:n,code:r.name,"data-rna-preset-item-name":r.name,children:[f("span",{children:r.name}),f(ds,{name:"vertical-dots",className:h?"dots":"dots hidden",onClick:s}),f("div",{"aria-hidden":!0,onClick:P,className:"star ".concat(g?"visible":""),children:""})]})},Ue;(function(t){t.FOR_RNA="context-menu-for-RNA",t.FOR_SEQUENCE="context-menu-for-sequence",t.FOR_POLYMER_BOND="context-menu-for-polymer-bond",t.FOR_SELECTED_MONOMERS="context-menu-for-selected-monomers"})(Ue||(Ue={}));var WC=C(Ym,{target:"ekj16lc0"})("--contexify-activeItem-bgColor:rgba(243, 245, 247, 1);--contexify-menu-minWidth:140px;--contexify-activeItem-color:rgba(51, 51, 51, 1);.contexify_itemContent{font-family:",function(t){var e=t.theme;return e.ketcher.font.family.inter},";font-size:",function(t){var e=t.theme;return e.ketcher.font.size.regular},";}.contexify_separator{color:rgba(225, 229, 234, 1);}.contexify_item-title{opacity:1;font-weight:bold;}"),KC=function(e,r){var n=[];return e.forEach(function(o,a){var i=o.name,s=o.title,u=o.hidden,l=o.disabled,c=o.isMenuTitle,d=o.separator,v=f(Km,{id:i,onClick:r,"data-testid":i,hidden:u,disabled:l,className:c?"contexify_item-title":"",children:f("span",{children:s})},i);n.push(v),d&&n.push(f(Vm,{},a))}),n},Zn=function(e){var r=e.id,n=e.handleMenuChange,o=e.menuItems;return f(WC,{id:r,children:KC(o,n)})},VC=function(){var e=jr.RNA,r=ce(),n=T($h),o=T(jh),a=T(Xe),i=[{name:"duplicateandedit",title:"Duplicate and Edit...",disabled:!1},{name:"edit",title:"Edit...",separator:!0,disabled:n==null?void 0:n.default},{name:"deletepreset",title:"Delete Preset",disabled:n==null?void 0:n.default}],s=function(c){var d=c.id,v=c.props;switch(d){case"duplicateandedit":v.duplicatePreset(n),o!==e&&r(Rr(e));break;case"edit":v.editPreset(n),o!==e&&r(Rr(e));break;case"deletepreset":r(Zt("delete"));break}},u=document.querySelector(Ft);return u&&!a?Rn.createPortal(f(Zn,{id:Ue.FOR_RNA,menuItems:i,handleMenuChange:s}),u):null},op=function(e){var r=e.presets,n=e.duplicatePreset,o=e.editPreset,a=T(Vn),i=T(ue),s=an({id:Ue.FOR_RNA}),u=s.show,l=Nn(),c=function(x){var M,A,P,O=!0,k=!0,_=!0;if(x!=null&&(M=x.base)!==null&&M!==void 0&&(M=M.props)!==null&&M!==void 0&&M.MonomerCaps&&(O="R1"in x.base.props.MonomerCaps),x!=null&&(A=x.sugar)!==null&&A!==void 0&&(A=A.props)!==null&&A!==void 0&&A.MonomerCaps){var E;O&&x!==null&&x!==void 0&&(E=x.base)!==null&&E!==void 0&&(E=E.props)!==null&&E!==void 0&&E.MonomerCaps&&(k="R3"in x.sugar.props.MonomerCaps)}if(x!=null&&(P=x.phosphate)!==null&&P!==void 0&&(P=P.props)!==null&&P!==void 0&&P.MonomerCaps){var L;_="R1"in x.phosphate.props.MonomerCaps,k&&x!==null&&x!==void 0&&(L=x.sugar)!==null&&L!==void 0&&(L=L.props)!==null&&L!==void 0&&L.MonomerCaps&&(k="R2"in x.sugar.props.MonomerCaps)}return O&&k&&_},d=function(x){return function(){var M=c(x);if(!M&&x.name){l(Kh(x.name));return}l(Dr(x)),i.events.selectPreset.dispatch(x),x.name!==a.name&&l(at(!1))}},v=function(x){var M,A=x instanceof HTMLDivElement;!A&&x.parentElement&&(x=x.parentElement);var P=x.getBoundingClientRect(),O=(M=x.offsetParent)===null||M===void 0?void 0:M.getBoundingClientRect(),k=140,_=P.right-k,E=P.y+P.height/2;return O!=null&&O.x&&(O==null?void 0:O.x)>_&&(_=P.x),{x:_,y:E}},p=T(Wr),h=S.useCallback(function(w){return l(rr(w))},[l]),m=S.useCallback(wt.debounce(function(w){return h(w)},500),[h]),y=function(){m.cancel(),l(rr(void 0))},b=function(x,M){if(y(),!(p.type===pe.Preset||!M.currentTarget)){var A=[x.sugar,x.base,x.phosphate],P=M.currentTarget.getBoundingClientRect(),O={left:"".concat(P.left+P.width,"px"),top:Ae(x.base)?Cv(x.base)(P):ng(P),transform:"translate(-100%, 0)"},k=Ae(x.base)?{type:pe.AmbiguousMonomer,monomer:x.base,presetMonomers:A,style:O}:{type:pe.Preset,monomers:A,name:x.name,idtAliases:x.idtAliases,position:He.Library,style:O};m(k)}},g=function(x){return function(M){M.stopPropagation(),l(fC(x)),u({event:M,props:{duplicatePreset:n,editPreset:o},position:v(M.currentTarget)})}};return I(np,{"data-testid":"rna-preset-group",children:[f(rp,{children:r.map(function(w,x){return f(GC,{isSelected:(a==null?void 0:a.name)===w.name,preset:w,onClick:d(w),onContextMenu:g(w),onMouseMove:function(A){return b(w,A)},onMouseLeave:y},"".concat(w.name).concat(x))})}),f(VC,{})]})},Hi=function(e){var r=e.onItemClick,n=e.libraryName,o=e.duplicatePreset,a=e.editPreset,i=T(Nh),s=T(Uh),u=T(Kn),l=n===Oh,c=l?{monomers:_x(i),presets:iC(s)}:Th(i,n),d=ls(l?c.monomers:c),v=l?Tx(i):du(i,K.PEPTIDES),p=S.useState(""),h=j(p,2),m=h[0],y=h[1],b=function(w){y(Ke(w))};return S.useEffect(function(){u!=="monomer"&&y("")},[u]),I(zC,{children:[l&&d.length>0&&f("div",{children:"Monomers"}),d.map(function(g,w,x){var M=g.groupItems,A=g.groupTitle;return f(wn,{title:x.length===1?void 0:A,items:M,libraryName:n,onItemClick:r||b,selectedMonomerUniqueKey:m},A)}),l&&c.presets.length>0&&I(te,{children:[f("div",{children:"Presets"}),f(op,{duplicatePreset:o,editPreset:a,presets:c.presets})]}),f(te,{children:(n===Mx||l)&&v.map(function(g){return f(wn,{title:g.groupTitle,items:g.groupItems,libraryName:n,onItemClick:r||b,selectedMonomerUniqueKey:m},g.groupTitle)})})]})},YC=C("div",{target:"e1hdfnag5"})({name:"uawiic",styles:"display:flex;flex-direction:column;justify-content:flex-start;overflow:hidden;height:100%"}),Yd=C(og,{target:"e1hdfnag4"})({name:"u6kpdv",styles:"min-height:32px"}),ZC=C("div",{target:"e1hdfnag3"})({name:"vz8pb8",styles:"flex-grow:2;min-height:32px"}),Zd=C("div",{target:"e1hdfnag2"})({name:"gs2evd",styles:"position:relative;width:100%;display:flex;flex-direction:column;gap:24px;justify-content:start;padding:16px 12px"}),ap=C(Ln,{target:"e1hdfnag1"})(function(t){return{backgroundColor:t.theme.ketcher.color.button.transparent.active,color:t.theme.ketcher.color.text.light,borderColor:t.theme.ketcher.color.text.light}},""),QC=C("div",{target:"e1hdfnag0"})({name:"1q5khk2",styles:"width:100%;height:100%;background-color:#eff2f594;position:absolute;top:0;left:0"}),XC=function(e){var r=e.groupName,n=e.quantity,o=e.expanded,a=e.iconName;return I($C,{"data-testid":"summary-".concat(r),children:[f(ds,{name:a}),I(UC,{children:[r," (",n,")"]}),f(ds,{name:"chevron",expanded:o})]})};function Qd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qd(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var JC=function(e){var r=e.libraryName,n=e.duplicatePreset,o=e.editPreset,a=T(Nh),i=Th(a,r),s=T(qh),u=T(Vn),l=ls(i),c=T(Uh),d=Ox(a),v=ls(d),p=T(vu),h=T(ue),m=T(Hh),y=T(Xe),b=S.useState(s),g=j(b,2),w=g[0],x=g[1],M=S.useState(u),A=j(M,2),P=A[0],O=A[1],k=S.useState(""),_=j(k,2),E=_[0],L=_[1],H=Nn(),R=function(G){w===G?x(null):(x(G),H(pu({rnaPreset:P,isEditMode:p})))},D=[{groupName:ke.Presets,iconName:"preset",groups:[{groupItems:c}]},{groupName:K.SUGARS,iconName:"sugar",groups:l.filter(function(N){return qi[N.groupTitle]===K.SUGARS})},{groupName:K.BASES,iconName:"base",groups:l.filter(function(N){return qi[N.groupTitle]===K.BASES}).map(function(N){return en(en({},N),{},{groupItems:N.groupItems.filter(function(G){var ae;return((ae=G.props)===null||ae===void 0?void 0:ae.MonomerClass)!==rt.RNA})})})},{groupName:K.PHOSPHATES,iconName:"phosphate",groups:l.filter(function(N){return qi[N.groupTitle]===K.PHOSPHATES})},{groupName:K.NUCLEOTIDES,iconName:"nucleotide",groups:v}],q=function(G,ae){var de;if(L(Ke(G)),!y&&!p&&h.events.selectMonomer.dispatch(G),!!p){var Z=Ae(G)?(de=G.monomers[0].monomerItem.props.MonomerClass)===null||de===void 0?void 0:de.toLowerCase():G.props.MonomerClass.toLowerCase(),V=en(en({},P),{},W({},Z,G));O(V),H(Wh({groupName:ae,groupItem:G})),H(Qt(ae))}};S.useEffect(function(){x(s)},[s]),S.useEffect(function(){H(Qt(p&&u?s:ke.Presets))},[p]);var $=function(){H(mu()),H(Qt(ke.Presets)),H(at(!0))};return f(YC,{"data-testid":"rna-accordion",children:D.map(function(N){var G=w===N.groupName,ae=du(a,N.groupName),de=[].concat(ye(N.groups),ye(ae)).reduce(function(z,B){return z+B.groupItems.length||0},0),Z=f(XC,{iconName:N.iconName,groupName:N.groupName,quantity:de,expanded:G}),V=N.groupName===ke.Presets?I(Zd,{children:[f(ap,{onClick:function(){return $()},children:"New Preset"}),f(op,{duplicatePreset:n,editPreset:o,presets:c}),p&&!m&&f(QC,{})]}):f(Zd,{children:I(te,{children:[N.groups.map(function(z){var B=z.groupItems,se=z.groupTitle;return f(wn,{title:N.groups.length>1?se:void 0,groupName:N.groupName,items:B,selectedMonomerUniqueKey:E,onItemClick:function(we){return q(we,N.groupName)}},se)}),ae.map(function(z){return f(wn,{title:z.groupTitle,items:z.groupItems,libraryName:r,selectedMonomerUniqueKey:E,onItemClick:function(se){return q(se,N.groupName)}},z.groupTitle)})]})}),U=N.groupName===ke.Presets&&G;return U?f(ZC,{children:f(Yd,{"data-testid":"styled-accordion",dataTestIdDetails:"rna-accordion-details-".concat(N.groupName),summary:Z,details:V,expanded:G,onSummaryClick:function(){return R(N.groupName)}})},N.groupName):f(Yd,{"data-testid":"styled-accordion",dataTestIdDetails:"rna-accordion-details-".concat(N.groupName),summary:Z,details:V,expanded:G,onSummaryClick:function(){return R(N.groupName)}},N.groupName)})})},ew=C("div",{target:"e1fsx6x2"})({name:"2zz6af",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:10px"}),tw=C("span",{target:"e1fsx6x1"})(function(t){return{fontSize:t.theme.ketcher.font.size.medium,overflow:"hidden",textOverflow:"ellipsis",color:t.grey?t.theme.ketcher.color.text.lightgrey:t.theme.ketcher.color.text.primary}},""),rw=C("div",{target:"e1fsx6x0"})({name:"1x17g94",styles:"display:flex;align-items:center;width:100%"}),nw=function(e){var r=e.name,n=e.fullName;return r||n?f(ew,{children:f(rw,{children:f(tw,{grey:!r&&!n,children:r||n})})}):f(te,{})},ow=C("div",{target:"e1ie5fzr4"})(function(t){return{height:"40px",position:"relative",marginLeft:t.isEditMode?"30px":"28.5px",display:"flex",alignItems:"center",border:t.isEditMode?"none":"1.5px solid ".concat(t.theme.ketcher.outline.color),backgroundColor:t.selected?t.theme.ketcher.color.button.primary.active:t.isEditMode?t.theme.ketcher.color.background.primary:"transparent",borderRadius:t.theme.ketcher.border.radius.regular,boxShadow:t.isEditMode?t.theme.ketcher.shadow.regular:"none",padding:"5px 10px",color:t.selected?"white":"black",gap:"14px",cursor:"pointer",outlineOffset:"1px",boxSizing:"border-box",":hover":{outline:t.theme.ketcher.outline.small},":not(:last-child)":{":after":{content:'""',position:"absolute",right:"100%",bottom:"calc(50% - 1px)",borderLeft:t.theme.ketcher.outline.medium,borderBottom:t.theme.ketcher.outline.medium,height:"2px",width:"17px"}},":last-child":{":after":{content:'""',position:"absolute",right:"100%",bottom:"calc(50% - 1px)",borderLeft:t.theme.ketcher.outline.medium,borderBottom:t.theme.ketcher.outline.medium,borderRadius:"0 0 0 4px",height:"130px",width:"17px"}}}},""),aw=C("div",{target:"e1ie5fzr3"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),iw=C("span",{target:"e1ie5fzr2"})(function(t){return{fontSize:t.theme.ketcher.font.size.small}},""),sw=C("span",{target:"e1ie5fzr1"})(function(t){return{marginTop:"1px",fontSize:t.theme.ketcher.font.size.medium,color:t.selected?"white":t.empty?t.theme.ketcher.color.text.lightgrey:t.theme.ketcher.color.text.primary}},""),uw=C(be,{target:"e1ie5fzr0"})(function(t){return{color:t.empty?"transparent":t.selected?t.theme.ketcher.color.background.primary:t.theme.ketcher.color.icon.grey,stroke:t.selected?t.theme.ketcher.color.background.primary:t.theme.ketcher.color.icon.grey,paddingRight:t.name==="sugar"?"5px":t.name==="phosphate"?"1px":0}},""),lw=W(W(W({},K.SUGARS,"Select sugar"),K.BASES,"Select base"),K.PHOSPHATES,"Select phosphate"),cw=W(W(W({},K.SUGARS,"Sugar"),K.BASES,"Base"),K.PHOSPHATES,"Phosphate"),dw=function(e){var r=e.groupName,n=e.iconName,o=e.monomerName,a=e.selected,i=e.onClick,s=e.testid,u=T(vu);return I(ow,{selected:a,onClick:i,empty:!o,isEditMode:u,"data-testid":s,children:[f(uw,{empty:!o,selected:a,name:n}),I(aw,{children:[f(iw,{children:cw[r]}),f(sw,{empty:!o,selected:a,children:o||(a?lw[r]:"Not selected")})]})]})},fw=C("div",{target:"e18wzlbg7"})(function(t){return{display:"flex",flexDirection:"column",padding:"10px","&.rna-editor-expanded--sequence-edit-mode":{padding:"8px",paddingTop:"10px",border:"2px ".concat(t.theme.ketcher.color.editMode.sequenceInRNABuilder," solid"),borderTop:"none",borderBottomRightRadius:"4px",borderBottomLeftRadius:"4px"}}},""),vw=C("div",{target:"e18wzlbg6"})({name:"1l5e953",styles:"margin-top:16px;width:100%;display:flex;flex-direction:column;gap:8px"}),hw=C("div",{target:"e18wzlbg5"})({name:"zmhcg5",styles:"margin-top:16px;display:flex;justify-content:space-evenly;align-items:center;gap:8px"}),hr=C(Ln,{target:"e18wzlbg4"})(function(t){return{width:"100%",whiteSpace:"nowrap",fontSize:t.theme.ketcher.font.size.regular,backgroundColor:t.primary?t.theme.ketcher.color.button.primary.active:void 0,color:t.primary&&!t.disabled?t.theme.ketcher.color.button.text.primary:t.theme.ketcher.color.text.light,outline:t.primary&&!t.disabled?t.theme.ketcher.outline.selected.small:t.theme.ketcher.outline.grey.small}},""),pw=C("div",{target:"e18wzlbg3"})(function(t){return{position:"relative",borderRadius:t.theme.ketcher.border.radius.regular,backgroundColor:t.theme.ketcher.color.background.primary,boxShadow:t.theme.ketcher.shadow.regular,cursor:"pointer",overflow:"hidden",padding:"0 6px 6px 6px",display:"flex",alignItems:"flex-end",height:"48px",outline:t.selected?t.theme.ketcher.outline.selected.medium:"none",":hover":{outline:t.selected?void 0:t.theme.ketcher.outline.small}}},""),mw=C("span",{target:"e18wzlbg2"})(function(t){return{position:"absolute",top:"0",left:"0",width:"100%",height:"8px",backgroundColor:t.selected?t.theme.ketcher.outline.selected.color:t.theme.ketcher.outline.color}},""),gw=C(dv,{target:"e18wzlbg1"})({name:"1jdipvd",styles:"width:100%;&:disabled{background:none;outline:none;color:inherit;}"}),yw=C("div",{target:"e18wzlbg0"})({name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"}),$i=function(e){return e.size===0?"":e.size===1?ye(e)[0]:"[multiple]"},fs=function(e){if(e!=null&&e.length){for(var r={sugarLabel:new Set,baseLabel:new Set,phosphateLabel:new Set},n=0;n<e.length;n++)for(var o=0,a=["sugarLabel","baseLabel","phosphateLabel"];o<a.length;o++){var i,s,u,l=a[o];((i=e[n])!==null&&i!==void 0&&i[l]||!((s=e[n])!==null&&s!==void 0&&s[l])&&e[n].type===nt.Nucleoside&&!e[n].isNucleosideConnectedAndSelectedWithPhosphate)&&r[l].add((u=e[n])===null||u===void 0?void 0:u[l])}return{Sugars:$i(r.sugarLabel),Bases:$i(r.baseLabel),Phosphates:$i(r.phosphateLabel)}}},bw=function(e){var r=fs(e);return"".concat(r==null?void 0:r.Sugars,"(").concat(r==null?void 0:r.Bases,")").concat((r==null?void 0:r.Phosphates)||"")},ip=function(e){e(Wh(null)),e(at(!1))},Xd=function(e){ip(e)},Sn=function(e,r){ip(e),e(hu([])),r.events.turnOffSequenceEditInRNABuilderMode.dispatch(),r.mode instanceof pv&&r.mode.turnOffEditMode()},Mn=function(e){return e.filter(function(r){return r.type?r.type===nt.Nucleotide||r.type===nt.Nucleoside:r.node?r.node instanceof kr||r.node instanceof Or:!1}).length};function Jd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jd(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var xw=function(e){var r=e.isEditMode,n=e.onDuplicate,o=[{groupName:K.SUGARS,iconName:"sugar",testId:"rna-builder-slot--sugar"},{groupName:K.BASES,iconName:"base",testId:"rna-builder-slot--base"},{groupName:K.PHOSPHATES,iconName:"phosphate",testId:"rna-builder-slot--phosphate"}],a=Nn(),i=T(Vn),s=T(Hh),u=T(qh),l=T(ue),c=T(Yn),d=T(nC),v=S.useState(i),p=j(v,2),h=p[0],m=p[1],y=T(Bh),b=T(tC),g=T(Xe),w=S.useState(!1),x=j(w,2),M=x[0],A=x[1],P=S.useState(fs(y)),O=j(P,2),k=O[0],_=O[1],E=dr()===er.sequence,L=function(){if(d){var U=Pr[d.groupName],z=dt(dt({},h),{},W({},U,d.groupItem));return m(z),z}return h};S.useEffect(function(){m(i)},[i]),S.useEffect(function(){y&&(Mn(y)===1&&a(Gh(bw(y))),_(fs(y)))},[a,y]),S.useEffect(function(){if(u!==ke.Presets&&r)if(g&&d){var V=Pr[d.groupName],U="".concat(V,"Label"),z=y.map(function(me){var we,Pt=U==="baseLabel"&&(we=d.groupItem.props)!==null&&we!==void 0&&we.MonomerNaturalAnalogCode?d.groupItem.props.MonomerNaturalAnalogCode:d.groupItem.label;return me.isNucleosideConnectedAndSelectedWithPhosphate&&U==="phosphateLabel"||me.type===nt.Phosphate&&(U==="sugarLabel"||U==="baseLabel")?me:dt(dt({},me),{},W({},U,Pt))});A(!0),a(hu(z))}else{var B=L(),se=h==null?void 0:h.name;B.editedName||(se=zh(B)),m(dt(dt({},B),{},{name:se}))}},[d==null?void 0:d.groupItem,g]);var H=function(U){if(U===ke.Presets){vs(h==null?void 0:h.name),h&&l.events.selectPreset.dispatch(h);return}var z=h[Pr[U]];z&&Aw(Ke(z))},R=function(U){return function(){var z=Bi(h,U);z&&!E&&l.events.selectMonomer.dispatch(z),H(U),a(Qt(U)),a(pu({rnaPreset:h,isEditMode:r}))}},D=function(U){if(r){var z=U.target.value;m(dt(dt({},h),{},{name:z.trim(),editedName:!0}))}},q=function(){Mn(y)>1?a(Zt("updateSequenceInRNABuilder")):(l.events.modifySequenceInRnaBuilder.dispatch(y),Sn(a,l))},$=function(){if(h!=null&&h.name){var U=c.find(function(z){return z.name===h.name});if(U&&i.nameInList!==U.name){a(gu(h.name));return}a(uC(h)),a(Dr(h)),E||l.events.selectPreset.dispatch(h),setTimeout(function(){vs(h.name)},0),Xd(a)}},N=function(){g?Sn(a,l):(m(i),Xd(a))},G=function(){a(at(!0))},ae=function(U){var z,B;return d&&d.groupName===U?d.groupItem.label:((z=Bi(h,U))===null||z===void 0?void 0:z.label)||((B=Bi(h,U))===null||B===void 0?void 0:B.props.MonomerName)},de=function(U){return k?k[U]:""};S.useEffect(function(){var V=function(z){z.key==="Escape"?(N(),z.preventDefault(),z.stopPropagation()):z.key==="Enter"&&(g?q():$(),z.preventDefault(),z.stopPropagation())};return l==null||l.events.keyDown.add(V),function(){l==null||l.events.keyDown.remove(V)}},[l,y]);var Z;return s&&!g?Z=f(hr,{disabled:!Bd(h),primary:!0,"data-testid":"add-to-presets-btn",onClick:$,children:"Add to Presets"}):r?Z=f(hr,{primary:!0,disabled:g?!M:!1,"data-testid":"save-btn",onClick:g?q:$,children:g?"Update":"Save"}):Z=f(hr,{"data-testid":"edit-btn",onClick:G,disabled:i.default,children:"Edit"}),I(fw,{"data-testid":"rna-editor-expanded",className:g?"rna-editor-expanded--sequence-edit-mode":"",children:[I(pw,{selected:u===ke.Presets,onClick:function(){return R(ke.Presets)},children:[r?f(gw,{value:g?b:h==null?void 0:h.name,placeholder:"Name your structure",disabled:g,onChange:D}):f(yw,{children:h==null?void 0:h.name}),f(mw,{selected:u===ke.Presets})]}),f(vw,{children:o.map(function(V){var U=V.groupName,z=V.iconName,B=V.testId;return f(dw,{selected:u===U,groupName:U,monomerName:g?de(U):ae(U),iconName:z,testid:B,onClick:R(U)},U)})}),I(hw,{children:[r?f(hr,{"data-testid":"cancel-btn",onClick:N,children:"Cancel"}):f(hr,{"data-testid":"duplicate-btn",disabled:!Bd(h),onClick:function(){return n(h)},children:"Duplicate and Edit"}),Z]})]})},Cw=C("div",{target:"e1ms1w5g3"})(function(t){return{borderRadius:t.theme.ketcher.border.radius.regular,backgroundColor:"#F7F9FA",boxShadow:t.theme.ketcher.shadow.regular,overflow:"hidden",margin:"12px",flexShrink:0}},""),ww=C("div",{target:"e1ms1w5g2"})(function(t){return{height:"32px",backgroundColor:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:"10px",fontSize:t.theme.ketcher.font.size.regular,"&.styled-header--sequence-edit-mode":{backgroundColor:t.theme.ketcher.color.editMode.sequenceInRNABuilder}}},""),Sw=C(Ln,{target:"e1ms1w5g1"})({name:"nqk7pj",styles:"background:transparent;width:32px;height:100%;outline:none;border-radius:0;padding:0"}),Mw=C(be,{target:"e1ms1w5g0"})("height:16px;width:16px;",function(t){var e=t.expanded;return{transform:e?"rotate(180deg)":"none"}},""),sp=function(e){var r=document.body.querySelector(e);r==null||r.scrollIntoView({behavior:"smooth"})},vs=function(e){sp('[data-rna-preset-item-name="'.concat(e,'"]'))},Aw=function(e){sp('[data-monomer-item-id="'.concat(e,'"]'))},Iw=function(e){var r=e.duplicatePreset,n=T(Vn),o=T(vu),a=T(Xe),i=zh(n),s=ce(),u=S.useState(!1),l=j(u,2),c=l[0],d=l[1];S.useEffect(function(){if(n){(n.name||o)&&d(!0);return}s(mu()),s(Qt(ke.Presets))},[n]),S.useEffect(function(){s(pu({rnaPreset:n,isEditMode:o}))},[o]);var v=function(){d(!c),n!=null&&n.nameInList||s(at(!0))};return I(Cw,{"data-testid":"rna-editor",children:[I(ww,{className:a?"styled-header--sequence-edit-mode":"",children:["RNA Builder",f(Sw,{onClick:v,"data-testid":"rna-builder-expand-button",children:f(Mw,{expanded:c,name:"chevron"})})]}),n?c?f(xw,{isEditMode:o,onDuplicate:r}):f(nw,{name:n.name,fullName:i}):f(te,{})]})},Ew=C("div",{target:"e1ocltcl0"})({name:"16fpk5u",styles:"height:100%;width:100%;display:flex;flex-direction:column;justify-content:space-between"}),up=function(e){var r=e.ketcher;return ov("scrollbar-width:thin;scrollbar-color:",r.color.scroll.regular," ",r.color.scroll.inactive,";&::-webkit-scrollbar{width:4px;height:4px;background-color:",r.color.scroll.inactive,";border-radius:2px;-webkit-border-radius:2px;}&::-webkit-scrollbar-thumb{background-color:",r.color.scroll.regular,";border-radius:2px;-webkit-border-radius:2px;}&::-webkit-scrollbar-thumb:active{background-color:",r.color.scroll.regular,";}","")},Pw={expandButton:"Modal-module_expandButton__J1QYl"};function ef(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function kw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ef(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ef(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ow=C(zg,{target:"e45wfhi5"})({name:"dzuq2w",styles:".MuiPaper-root{min-width:304px;}"}),_w=C(n0,{target:"e45wfhi4"})(function(t){var e=t.theme;return{padding:"2px 4px 2px 12px;",display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:"".concat(e.ketcher.font.family.inter),fontSize:"".concat(e.ketcher.font.size.medium),fontWeight:500,textTransform:"capitalize",borderBottom:"1px solid rgba(202, 211, 221, 1)"}},""),Tw=C("div",{target:"e45wfhi3"})({name:"10by1a4",styles:"margin-right:10px;font-size:14px"}),tf=C(be,{target:"e45wfhi2"})({name:"4jxctt",styles:"width:16px;height:16px;color:rgba(51, 51, 51, 1)"}),lp=C(Jg,{target:"e45wfhi1"})("padding:0;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.medium},";line-height:17px;color:#000000;",function(t){var e=t.theme;return up(e)},";"),cp=C(Wg,{target:"e45wfhi0"})("height:52px;margin:0;padding:0 12px;border-top:",function(t){var e=t.theme,r=t.withborder;return r==="true"?e.ketcher.border.small:"none"},";justify-content:flex-end;.MuiButtonBase-root{border-radius:4px;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.regular},";}"),J=function(e){var r=e.children,n=e.title,o=e.isOpen,a=e.showCloseButton,i=a===void 0?!0:a,s=e.showExpandButton,u=s===void 0?!1:s,l=e.onClose,c=e.className,d=e.modalWidth,v=e.expanded,p=v===void 0?!1:v,h=e.setExpanded,m=h===void 0?yt:h,y=Um(),b=S.useMemo(function(){return{style:kw({background:y.ketcher.color.background.primary,borderRadius:"8px",color:y.ketcher.color.text.primary},u&&{margin:"auto",width:p?"100%":d,height:p?"100%":void 0,maxWidth:"calc(min(1280px, 100%))",maxHeight:"calc(min(980px, 100%))"})}},[y.ketcher.color.text.primary,y.ketcher.color.background.canvas,p]),g=S.useMemo(function(){return{style:{background:y.ketcher.color.background.overlay,opacity:.4}}},[y.ketcher.color.background.overlay]),w={Content:null,Footer:null};return St.Children.forEach(r,function(x){x.type===lp?w.Content=x:x.type===cp&&(w.Footer=x)}),I(Ow,{BackdropProps:g,PaperProps:b,open:o,onClose:l,container:document.querySelector(Ft),disableEscapeKeyDown:!i,className:c,sx:{padding:"24px"},children:[n||i||u?I(_w,{children:[f(Tw,{children:n}),I("span",{children:[u&&f(Du,{title:"expand window",className:Pw.expandButton,onClick:function(){m(!p)},children:f(tf,{name:p?"minimize-expansion":"expand"})}),i&&f(Du,{title:"Close window",onClick:l,children:f(tf,{name:"close"})})]})]}):"",w.Content,w.Footer]})};J.Content=lp;J.Footer=cp;var Nw=function(e){var r=e.libraryName,n=e.duplicatePreset,o=e.editPreset,a=ce(),i=T(oC),s=T(aC),u=function(){i.length>0&&a(gu("")),s.length>0&&a(Kh(""))};return I(Ew,{children:[f(Iw,{duplicatePreset:n}),f(JC,{libraryName:r,duplicatePreset:n,editPreset:o}),I(J,{isOpen:!!i||!!s,title:"Error Message",onClose:u,children:[f(J.Content,{children:I("div",{style:{padding:"12px"},children:[i&&'Preset with name "'.concat(i,'" already exists. Please choose another name.'),s&&'Preset with name "'.concat(s,`" can't be used. Because it is impossible to establish bonds between monomers. Edit it's structure or choose another one.`)]})}),f(J.Footer,{children:f(ap,{onClick:u,children:"Close"})})]})]})},jw=function(e,r){return[{caption:"Favorites",component:Hi,testId:"FAVORITES-TAB",props:{libraryName:Oh,duplicatePreset:e,editPreset:r}},{caption:"Peptides",component:Hi,testId:"PEPTIDES-TAB",props:{libraryName:Er.PEPTIDE}},{caption:"RNA",testId:"RNA-TAB",component:Nw,props:{libraryName:Er.RNA,duplicatePreset:e,editPreset:r}},{caption:"CHEM",component:Hi,testId:"CHEM-TAB",props:{libraryName:Er.CHEM}}]};function rf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function nf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rf(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rf(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var of="_Copy",Rw=function(){var e=S.useRef([]),r=ce();S.useEffect(function(){r(Ld(""))},[r]),T(Yn,function(i){return e.current=i,!0});var n=function(s){r(Ld(s.target.value))},o=function(s){var u="".concat(s==null?void 0:s.name).concat(of),l;do l=e.current.find(function(v){return v.name===u}),l&&(u+=of);while(l);if(l){r(gu(u));return}var c=l?"".concat(u,"_Copy"):u,d=nf(nf({},s),{},{name:c,nameInList:c,default:!1,favorite:!1});r(Dr(d)),r(at(!0)),vs(s==null?void 0:s.name)},a=function(s){r(Dr(s)),r(at(!0))};return I(wC,{"data-testid":"monomer-library",children:[I(MC,{children:[f(SC,{children:"Library"}),f(AC,{children:I("div",{children:[f("span",{children:f(be,{name:"search"})}),f(CC,{type:"search","data-testid":"monomer-library-input",onChange:n,placeholder:"Search by name..."})]})})]}),f(jC,{tabs:jw(o,a)})]})},Lw=C("div",{target:"emj253a0"})(function(t){var e=t.theme;return{margin:0,fontSize:e.ketcher.font.size.regular,color:e.ketcher.color.text.secondary,position:"absolute",cursor:"pointer",top:"calc(8px + 12px)",right:"calc(4px + 12px)",visibility:"visible",opacity:1,whiteSpace:"nowrap",display:"flex",lineHeight:1,padding:"5px 8px",borderRadius:"4px",userSelect:"none","& > span":{display:"flex",justifyContent:"center",alignItems:"center","&.icon":{marginRight:"2px"}},"&.hidden":{backgroundColor:e.ketcher.color.button.primary.active,color:e.ketcher.color.button.text.primary}}},""),Dw=function(e){var r=e.isHidden,n=e.onClick;return I(Lw,{className:r?"hidden":"",onClick:n,children:[f("span",{className:"icon",children:r?f(be,{name:"arrows-left"}):f(be,{name:"arrows-right"})}),f("span",{children:r?"Show Library":"Hide"})]})},Fw=C("div",{target:"e10ckbgw0"})("display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;width:40px;height:12px;margin-top:10px;& span{display:inline-block;width:8px;height:8px;border:2px solid ",function(t){var e=t.theme;return e.ketcher.color.spinner},";border-radius:100%;box-sizing:border-box;&:nth-of-type(1){animation:bounce 1s ease-in-out infinite;}&:nth-of-type(2){animation:bounce 1s ease-in-out 0.33s infinite;}&:nth-of-type(3){animation:bounce 1s ease-in-out 0.66s infinite;}}@keyframes bounce{0%,75%,100%{-webkit-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0);}25%{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);-o-transform:translateY(-100%);transform:translateY(-100%);}}"),Qn=function(){return I(Fw,{className:"loading-spinner",children:[f("span",{}),f("span",{}),f("span",{})]})},qw="file-thumbnail",Bw=C("div",{target:"ep0evuw1"})({name:"1btsn9l",styles:"width:410px;min-height:23em;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center"}),zw=C("div",{target:"ep0evuw0"})({name:"vbftiw",styles:"display:flex;flex-direction:row;align-items:center;svg{margin-right:13px;}p{color:#585858;font-size:16px;line-height:19px;}"}),Hw=function(e){var r=e.fileName;return I(Bw,{children:[r&&I(zw,{children:[f(be,{name:qw}),f("p",{children:r})]}),f(Qn,{})]})},$w=["textLabel","iconName","disabled","disabledText"];function af(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?af(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):af(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Uw={width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between"},Gw=C(be,{target:"erk2iw51"})("filter:",function(t){var e=t.disabled;return e?"grayscale(1)":""},";opacity:",function(t){var e=t.disabled;return e?"0.6":"1"},";"),Ww={backgroundColor:"#F8FEFFFF"},Kw=C("div",{target:"erk2iw50"})("display:flex;flex-direction:column;align-items:center;&>span{font-size:",function(t){var e=t.theme;return e.ketcher.font.size.small},";color:",function(t){var e=t.theme;return e.ketcher.color.text.primary},";opacity:50%;}&>svg{margin-bottom:8px;}"),sf=function(e){var r=e.textLabel,n=e.iconName,o=e.disabled,a=e.disabledText,i=Ts(e,$w),s=cg(Wt({multiple:!1,noClick:!0,disabled:o},i)),u=s.getRootProps,l=s.getInputProps,c=s.isDragActive,d=s.open,v=S.useMemo(function(){return Wt(Wt({},Uw),c?Ww:{})},[c]);return I("div",Wt(Wt({},u({style:v})),{},{onClick:d,children:[f("input",Wt({},l())),f(Gw,{name:n,disabled:o}),o?f(Vw,{children:a}):I(te,{children:[f(Kw,{children:r&&f("span",{children:r})}),f(dp,{children:"Open from file"})]})]}))},Ui={PASTE:"open-window-paste-icon",FILE:"open-window-upload-icon",IMAGE:"image-frame"},dp=C("p",{target:"e1035cyz3"})("font-size:10px;text-transform:uppercase;color:",function(t){var e=t.theme;return e.ketcher.color.text.light},";margin:0;text-align:center;line-height:12px;"),Vw=C("p",{target:"e1035cyz2"})("font-size:10px;margin:0;text-align:center;color:",function(t){var e=t.theme;return e.ketcher.color.text.primary},";opacity:50%;line-height:12px;"),Yw=C("div",{target:"e1035cyz1"})({name:"h9hj7s",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin-bottom:20px;&>*{margin-right:18px;}& :last-child{margin-right:0;}"}),Gi=C("div",{target:"e1035cyz0"})("width:128px;height:134px;box-shadow:0 4px 12px rgba(103, 104, 132, 0.18);padding:16px;border-radius:12px;flex:1;display:flex;flex-direction:column;justify-content:space-between;align-items:center;box-sizing:border-box;position:relative;cursor:pointer;&>p{margin-top:6px;text-align:center;}svg{fill:",function(t){var e=t.theme;return e.ketcher.color.button.primary.active},";}"),Zw=function(e){var r=e.selectClipboard,n=e.fileLoadHandler,o=e.errorHandler;return I(Yw,{children:[I(Gi,{"data-testid":"paste-from-clipboard-button",onClick:r,children:[f(be,{name:Ui.PASTE}),f(dp,{children:"Paste from clipboard"})]}),f(Gi,{children:f(sf,{onDropAccepted:n,onDropRejected:function(i){return o("Unable to accept file(s). ".concat(i))},buttonLabel:"Open from file",textLabel:"or drag file here",iconName:Ui.FILE})}),f(Gi,{children:f(sf,{accept:"image/*",onDropAccepted:n,onDropRejected:function(i){return o("Unable to accept file(s). ".concat(i))},buttonLabel:"Open from image",textLabel:"or drag file here",iconName:Ui.IMAGE,disabled:!0,disabledText:"Image Recognition service is not available"})})]})},Qw=C("textarea",{target:"e1q335jk0"})("min-width:430px;padding:12px;width:100%;height:100%;overflow:auto;white-space:pre-wrap;resize:none;box-sizing:border-box;outline:transparent;border:none;color:",function(t){var e=t.theme;return e.ketcher.color.input.text.active},";font-size:",function(t){var e=t.theme;return e.ketcher.font.size.regular},";background-color:",function(t){var e=t.theme,r=t.readOnly;return r?e.ketcher.color.input.background.disabled:e.ketcher.color.input.background.primary},";",function(t){var e=t.theme;return up(e)},";"),fp=function(e){var r=e.value,n=e.inputHandler,o=e.readonly,a=o===void 0?!1:o,i=e.selectOnInit,s=i===void 0?!1:i,u=e.className,l=e.testId,c=S.useRef(null);return S.useEffect(function(){if(s){var d;(d=c.current)===null||d===void 0||d.select()}},[c,r,s]),f(Qw,{value:r,readOnly:a,onChange:n&&function(d){return n(d.target.value)},ref:c,className:u,"data-testid":l})};function uf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function lf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uf(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uf(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Xw=C(fp,{target:"e17hogtk0"})({name:"17fmpnb",styles:"width:100%;height:320px"}),Jw=function(e){if(e.isAnalyzingFile)return f(Hw,{fileName:e.fileName});switch(e.currentState){case e.states.openOptions:return f(Zw,lf({},e));case e.states.textEditor:return f(Xw,lf({testId:"open-structure-textarea"},e));default:return null}},eS=["label","clickHandler","children","styleType"];function cf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cf(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cf(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var vp={name:"zlt300",styles:"padding:5px 8px;border-radius:2px;text-transform:none;line-height:14px;font-size:12px;text-align:center;&.MuiButtonBase-root{width:unset;min-width:70px;}"},tS=C(yv,{target:"ejign8b1"})(function(t){var e=t.theme;return{backgroundColor:e.ketcher.color.button.primary.active,border:"1px solid ".concat(e.ketcher.color.button.primary.active),color:"rgb(245, 245, 245)",fontWeight:e.ketcher.font.weight.regular,width:"62px",height:"24px","&:hover":{backgroundColor:e.ketcher.color.button.primary.hover},"&:disabled":{background:e.ketcher.color.button.primary.disabled,border:"1px solid transparent",opacity:.4}}},vp,""),rS=C(yv,{target:"ejign8b0"})(function(t){var e=t.theme;return{backgroundColor:"transparent",border:"1px solid ".concat(e.ketcher.color.button.secondary.active),color:e.ketcher.color.button.secondary.active,fontWeight:e.ketcher.font.weight.regular,width:"72px",height:"24px","&:hover":{border:"1px solid ".concat(e.ketcher.color.button.secondary.hover),color:e.ketcher.color.button.secondary.hover},"&:disabled":{border:"1px solid ".concat(e.ketcher.color.button.secondary.disabled),color:e.ketcher.color.button.secondary.disabled},"&:clicked":{border:"1px solid ".concat(e.ketcher.color.button.secondary.clicked),color:e.ketcher.color.button.secondary.clicked}}},vp,""),Te=function(e){var r=e.label,n=e.clickHandler,o=e.children,a=e.styleType,i=Ts(e,eS);return a==="secondary"?f(rS,tn(tn({onClick:n,title:i.title||r,role:"button"},i),{},{children:o||r})):f(tS,tn(tn({onClick:n,title:i.title||r,role:"button"},i),{},{children:o||r}))};function nS(){return new Promise(function(t,e){ts.FileReader?t(oS):e(new Error("Your browser does not support opening files locally"))})}function oS(t){return new Promise(function(e,r){var n=new FileReader;n.onload=function(){var o=n.result;t.msClose&&t.msClose(),e(o)},n.onerror=function(o){r(o)},n.readAsText(t,"UTF-8")})}var aS=C("div",{target:"efvrr8x1"})("position:relative;padding:",function(t){var e=t.currentState;return e===vt.openOptions?"10px 12px":"0"},";");C(Te,{target:"efvrr8x0"})({name:"1tx1l5v",styles:"margin-right:auto"});C(be,{target:"e23iben1"})({name:"1ux2zfx",styles:"fill:#343434"});var iS=C(be,{target:"e23iben0"})({name:"wpnrak",styles:"user-select:none;width:16px;height:1em;display:inline-block;flex-shrink:0;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;position:absolute;right:7px;top:calc(50% - 0.5em);pointer-events:none;fill:#5b6077"}),sS=function(e){var r=e.className;return f(iS,{name:"chevron",className:r})};function df(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function ff(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?df(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):df(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var uS=C(u0,{target:"e944g1i2"})({name:"1pt8ucq",styles:"width:100%;padding:0 8px;& label{font-size:12px;line-height:unset;}"}),lS={name:"af34ib",styles:"background-color:white;border-bottom-left-radius:0;border-bottom-right-radius:0"},cS=C(lg,{target:"e944g1i1"})("height:24px;border:1px solid #5b6077;border-radius:4px;font-size:14px;",function(t){var e=t.open;return e&&lS}," & .MuiSelect-select{padding:0 24px 0 8px;height:100%;}& span{",function(t){var e=t.theme;return"font-size: ".concat(e.ketcher.font.size.medium)},";}& .MuiOutlinedInput-notchedOutline{border:0;}"),dS={width:"120px",backgroundColor:"white",border:"1px solid #5B6077",borderTopWidth:"0",borderRadius:"0px 0px 2px 2px",boxShadow:"0 6px 10px rgba(103, 104, 132, 0.15)"},fS=C(ug,{target:"e944g1i0"})("display:flex;flex-direction:row;justify-content:space-between;padding:0 8px;height:28px;font-size:14px;&.MuiButtonBase-root:hover{border-left:2px solid #167782;}& .MuiTypography-root{",function(t){var e=t.theme;return"font-size: ".concat(e.ketcher.font.size.medium)},";}"),vS=function(e){var r=e.options,n=e.currentSelection,o=e.selectionHandler,a=e.className,i=e.label,s=e.testId,u=e.customStylesForExpanded,l=u===void 0?{}:u,c=e.disabled,d=c===void 0?!1:c,v=S.useState(!1),p=j(v,2),h=p[0],m=p[1],y=function(M){var A=r.filter(function(P){return P.id===M})[0];return f("span",{children:A.label})},b=function(M){o(M.target.value)},g=function(M){M.type!=="keydown"&&m(!0)},w=function(){m(!1)};return I(uS,{className:a,children:[i&&f("label",{htmlFor:"fileformat",children:"File format:"}),f(cS,{value:n,onChange:b,open:h,onOpen:g,onClose:w,renderValue:y,IconComponent:sS,disabled:d,fullWidth:!0,"data-testid":s||"dropdown-select",MenuProps:{PaperProps:{style:ff(ff({},dS),l)},MenuListProps:{style:{padding:"0"}}},children:r.map(function(x){return f(fS,{value:x.id,children:f(f0,{primary:x.label})},x.id)})})]})},hS=C("form",{target:"el6v3ot5"})({name:"9pd72t",styles:"display:flex;flex-direction:column;height:300px"}),pS=C("div",{target:"el6v3ot4"})({name:"itz7qk",styles:"display:flex;justify-content:space-between;margin-bottom:16px"}),hp=C(vS,{target:"el6v3ot3"})(function(t){var e=t.theme;return{width:"calc(50% - 6px)",height:"28px","& .MuiOutlinedInput-root:hover:not(.Mui-disabled)":{border:"1px solid ".concat(e.ketcher.color.input.border.hover)},"& .MuiOutlinedInput-root":{border:"1px solid ".concat(e.ketcher.color.input.border.regular),backgroundColor:e.ketcher.color.background.primary,color:e.ketcher.color.text.primary,fontFamily:e.ketcher.font.family.inter}}},""),hs={border:"none"},pp=C("div",{target:"el6v3ot2"})({name:"kq43v2",styles:"position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:#fff"}),mS=C("div",{target:"el6v3ot1"})(function(t){var e=t.theme;return{height:"100%",position:"relative",border:"1px solid ".concat(e.ketcher.color.input.border.regular)}},""),gS=C("div",{target:"el6v3ot0"})(function(t){var e=t.theme;return{display:"flex",flexGrow:1,position:"relative","& button":{opacity:0,position:"absolute",right:"12px",top:"12px",borderRadius:"4px",padding:"2px",width:"28px",height:"28px","&:not(:active)":{backgroundColor:e.ketcher.color.background.primary,color:e.ketcher.color.text.primary}},"&:hover button":{opacity:1},"&:focus-within button":{opacity:0},"&:focus-within button:hover":{opacity:1}}},""),yS=C(J,{target:"e1oaegu38"})(function(t){var e=t.modalWidth;return`
    .MuiPaper-root {
      width: `.concat(e,`;
      max-width: `).concat(e,`;
    }`)},""),bS=C("div",{target:"e1oaegu37"})({name:"kj5rtd",styles:"width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center"}),xS=C("div",{target:"e1oaegu36"})({name:"rpuipy",styles:"display:flex;height:24px;font-size:12px"}),yu=C(hp,{target:"e1oaegu35"})({name:"7nflbq",styles:"padding:0;font-size:12px;& .MuiSelect-select{display:flex;align-items:center;padding:0 20px 0 8px;padding-right:20px !important;height:100%;}& span{font-size:12px;}"}),CS=C(yu,{target:"e1oaegu34"})(function(){return{width:"140px"}},""),wS=C(yu,{target:"e1oaegu33"})({name:"16zm0c",styles:"width:76px;margin-left:8px"}),SS=C(yu,{target:"e1oaegu32"})({name:"l4tg7k",styles:"width:105px;margin-left:8px"}),MS=C("div",{target:"e1oaegu31"})({name:"oq6u0f",styles:"display:flex;gap:10px"}),vf=C(Te,{target:"e1oaegu30"})({name:"b9l38d",styles:"width:min-content"}),ps="ket",cn="seq",ms="rna",mp="peptide",gp="fasta",yp="one-letter",gs="three-letter",hf=[{id:"ket",label:"Ket"},{id:"mol",label:"MDL Molfile V3000"},{id:"seq",label:"Sequence"},{id:"fasta",label:"FASTA"},{id:"idt",label:"IDT"},{id:"helm",label:"HELM"}],AS=[{id:ms,label:"RNA"},{id:"dna",label:"DNA"},{id:mp,label:"Peptide"}],IS=[{id:yp,label:"1-letter code"},{id:gs,label:"3-letter code"}],Wi=eg,vt={openOptions:"openOptions",textEditor:"textEditor"},pf=function(e){var r=e.ketSerializer,n=e.editor,o=e.struct,a=!n.drawingEntitiesManager.hasDrawingEntities,i=r.deserializeToDrawingEntities(o);if(!i)throw new Error("Error during parsing file");i.drawingEntitiesManager.centerMacroStructure();var s=i.drawingEntitiesManager.mergeInto(n.drawingEntitiesManager),u=s.command,l=new gv(n),c=n.mode instanceof pv,d=n.mode instanceof dg,v=n.mode instanceof fg;v&&(n.drawingEntitiesManager.recalculateAntisenseChains(),n.drawingEntitiesManager.hasAntisenseChains&&(u.merge(n.drawingEntitiesManager.applySnakeLayout(n.canvas.width.baseVal.value,!0,!0,!0)),u.setUndoOperationsByPriority())),n.drawingEntitiesManager.detectBondsOverlappedByMonomers(),n.renderersContainer.update(u),l.update(u),c&&(u.setUndoOperationReverse(),n.events.selectMode.dispatch({mode:er.sequence,mergeWithLatestHistoryCommand:!0})),d&&(u.setUndoOperationReverse(),n.events.selectMode.dispatch({mode:er.snake,mergeWithLatestHistoryCommand:!0})),a&&n.zoomToStructuresIfNeeded()},mf=function(){var t=vv(We.mark(function e(r){var n,o,a,i,s,u,l,c,d,v,p,h,m,y,b,g,w,x;return We.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(n=r.struct,o=r.formatSelection,a=r.additionalSelection,i=r.peptideLettersFormatSelection,s=r.onCloseCallback,u=r.setIsLoading,l=r.dispatch,c=o===ps,d=o===cn,v=o===gp,p=new es,h=Dn.provideEditorInstance(),y=n,b=function(O){var k="Convert error! "+O;l(Lr({errorMessage:k,errorTitle:d||v?"Unsupported symbols":""}))},!c){A.next=13;break}try{pf({struct:n,ketSerializer:p,editor:h}),s()}catch{b("Error during file parsing.")}return A.abrupt("return");case 13:v||d&&i!==gs?(m=Wi[o][a],y=y.toUpperCase()):d&&i===gs?m=Wi.seq.peptide3Letter:m=Wi[o];case 14:return g=fv.getIndigo(),A.prev=15,u(!0),A.next=19,g.convert({struct:y,output_format:Ot.KET,input_format:m});case 19:w=A.sent,pf({struct:w.struct,ketSerializer:p,editor:h}),s(),A.next=29;break;case 24:A.prev=24,A.t0=A.catch(15),x=typeof A.t0=="string"?A.t0:JSON.stringify(A.t0),b(x),gn.error(A.t0);case 29:return A.prev=29,u(!1),A.finish(29);case 32:case"end":return A.stop()}},e,null,[[15,24,29,32]])}));return function(r){return t.apply(this,arguments)}}(),ES=!1,gf=function(e){},PS=function(e){var r=e.isModalOpen,n=e.onClose,o=ce(),a=S.useState(""),i=j(a,2),s=i[0],u=i[1],l=S.useState(""),c=j(l,2),d=c[0],v=c[1],p=S.useState(!1),h=j(p,2),m=h[0],y=h[1],b=S.useState(),g=j(b,2),w=g[0],x=g[1],M=S.useState(vt.openOptions),A=j(M,2),P=A[0],O=A[1],k=S.useState(ps),_=j(k,2),E=_[0],L=_[1],H=S.useState(ms),R=j(H,2),D=R[0],q=R[1],$=S.useState(yp),N=j($,2),G=N[0],ae=N[1];S.useEffect(function(){var B=d==null?void 0:d.split("."),se=B[B.length-1];if(se){var me=hf.find(function(Pt){return Pt.id===se}),we=me!=null&&me.id?me.id:cn;L(we)}},[d]),S.useEffect(function(){nS().then(function(B){x({chosenOpener:B})})},[]);var de=S.useCallback(function(){O(vt.openOptions),u(""),L(ps),q(ms),n()},[n]),Z=function(se){var me=function(to){u(to),O(vt.textEditor)},we=function(){return gf()};v(se[0].name),w==null||w.chosenOpener(se[0]).then(me,we)},V=function(){mf({struct:s,formatSelection:E,additionalSelection:D,peptideLettersFormatSelection:G,onCloseCallback:de,setIsLoading:y,dispatch:o})},U=function(){var se=Dn.provideEditorInstance(),me=new gv(se),we=se.drawingEntitiesManager.deleteAllEntities();me.update(we),se.renderersContainer.update(we),se.zoomToStructuresIfNeeded(),mf({struct:s,formatSelection:E,additionalSelection:D,peptideLettersFormatSelection:G,onCloseCallback:de,setIsLoading:y,dispatch:o})},z=function(){return I(bS,{children:[I(xS,{children:[f(CS,{options:hf,currentSelection:E,selectionHandler:L,customStylesForExpanded:hs},E),E===cn||E===gp?f(wS,{options:AS,currentSelection:D,selectionHandler:q,customStylesForExpanded:hs,testId:"dropdown-select-type"},D):null,E===cn&&D===mp?f(SS,{options:IS,currentSelection:G,selectionHandler:ae,testId:"dropdown-select-peptide-letters-format"}):null]}),I(MS,{children:[f(vf,{disabled:!s,clickHandler:U,label:"Open as New",styleType:"secondary"},"openButton"),f(vf,{disabled:!s,clickHandler:V,label:"Add to Canvas",title:"Structure will be loaded as fragment and added to Clipboard","data-testid":"add-to-canvas-button"},"copyButton")]})]})};return I(yS,{isOpen:r,title:"Open Structure",onClose:de,modalWidth:P===vt.textEditor?"620px":"",children:[f(J.Content,{children:I(aS,{currentState:P,children:[f(Jw,{isAnalyzingFile:ES,fileName:d,currentState:P,states:vt,selectClipboard:function(){return O(vt.textEditor)},fileLoadHandler:Z,errorHandler:gf,value:s,inputHandler:u}),m&&f(pp,{children:f(Qn,{})})]})}),P===vt.textEditor?f(J.Footer,{withborder:"true",children:z()}):f(te,{})]})},kS=["value","id","onChange","label"];function yf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function OS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yf(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yf(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _S=C("label",{target:"e10m4n7r1"})(function(t){var e=t.theme;return{display:"flex",flexDirection:"column",marginRight:"8px",color:e.ketcher.color.text.primary,fontSize:"12px"}},""),TS=C("input",{target:"e10m4n7r0"})(function(t){var e=t.theme;return{height:"24px",padding:"3px 7px",border:"1px solid ".concat(e.ketcher.color.input.border.regular),fontSize:"14px",borderRadius:"4px",backgroundColor:e.ketcher.color.input.background.primary,color:e.ketcher.color.text.primary,outline:"transparent",width:"164px",letterSpacing:"normal","&:active, &:focus":{color:e.ketcher.color.input.text.active},"&:hover":{border:"1px solid ".concat(e.ketcher.color.input.border.hover)}}},""),NS=function(e){var r=e.value,n=e.id,o=e.onChange,a=e.label,i=Ts(e,kS),s=function(l){o(l.target.value)};return f(te,{children:I(_S,{htmlFor:n,children:[a&&f("span",{children:a}),f(TS,OS({type:"text",id:n,value:r,onChange:s},i))]})})},ze;(function(t){t.Ket="chemical/x-ket",t.Mol="chemical/x-mdl-molfile",t.HELM="chemincal/x-helm",t.Fasta="chemical/x-fasta",t.Sequence="chemical/x-sequence",t.Idt="chemical/x-idt",t.Svg="image/svg+xml"})(ze||(ze={}));var ft=hv(function t(e,r,n,o,a){bv(this,t),this.name=e,this.mime=r,this.extensions=n,this.supportsCoords=o||!1,this.options=a||{}}),jS={ket:new ft("Ket file",ze.Ket,[".ket"],!0,{}),mol:new ft("MDL Molfile V3000",ze.Mol,[".mol"],!0,{"molfile-saving-mode":"3000"}),fasta:new ft("FASTA",ze.Fasta,[".fasta"],!1,{}),sequence:new ft("SEQUENCE",ze.Sequence,[".seq"],!1,{}),"sequence-3-letter":new ft("SEQUENCE (3-letter code)",ze.Sequence,[".seq"],!1,{}),idt:new ft("IDT",ze.Idt,[".idt"],!1,{}),helm:new ft("HELM",ze.HELM,[".helm"]),svg:new ft("SVG Document",ze.Svg,[".svg"])},bf=function(e){return jS[e]},RS=[{id:"ket",label:"Ket"},{id:"mol",label:"MDL Molfile V3000"},{id:"sequence",label:"Sequence (1-letter code)"},{id:"sequence-3-letter",label:"Sequence (3-letter code)"},{id:"fasta",label:"FASTA"},{id:"idt",label:"IDT"},{id:"svg",label:"SVG Document"},{id:"helm",label:"HELM"}],LS={mol:Ot.Mol,fasta:Ot.FASTA,sequence:Ot.SEQUENCE,"sequence-3-letter":Ot.PeptideSequenceThreeLetter,idt:Ot.IDT,helm:Ot.HELM},DS=C(J,{target:"e12csxs60"})({name:"krpfk5",styles:"& div.MuiPaper-root{background:white;min-height:400px;min-width:430px;}& .MuiDialogContent-root{overflow:hidden;height:100%;}"}),FS=function(e){var r=e.onClose,n=e.isModalOpen,o=ce(),a=S.useState("ket"),i=j(a,2),s=i[0],u=i[1],l=S.useState("ketcher"),c=j(l,2),d=c[0],v=c[1],p=S.useState(""),h=j(p,2),m=h[0],y=h[1],b=S.useState(!1),g=j(b,2),w=g[0],x=g[1],M=S.useState(),A=j(M,2),P=A[0],O=A[1],k=fv.getIndigo(),_=Dn.provideEditorInstance(),E=function(){var D=vv(We.mark(function q($){var N,G,ae,de,Z,V,U;return We.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(u($),N=new es,G=N.serialize(_.drawingEntitiesManager.micromoleculesHiddenEntities.clone(),_.drawingEntitiesManager),O(void 0),$!=="ket"){B.next=7;break}return y(G),B.abrupt("return");case 7:if($!=="svg"){B.next=11;break}return ae=Lu(_.canvas,"preview"),O(ae),B.abrupt("return");case 11:if(B.prev=11,x(!0),!($==="fasta"||$==="sequence")){B.next=17;break}if(de=_.drawingEntitiesManager.validateIfApplicableForFasta(),de){B.next=17;break}throw new Error("Error during sequence type recognition(RNA, DNA or Peptide)");case 17:return B.next=19,k.convert({struct:G,output_format:LS[$]});case 19:Z=B.sent,y(Z.struct),B.next=30;break;case 23:B.prev=23,B.t0=B.catch(11),B.t0 instanceof Error?V=B.t0.message:V=typeof B.t0=="string"?B.t0:JSON.stringify(B.t0),U="Convert error! "+V,o(Lr(U)),gn.error(U),u("ket");case 30:return B.prev=30,x(!1),B.finish(30);case 33:case"end":return B.stop()}},q,null,[[11,23,30,33]])}));return function($){return D.apply(this,arguments)}}(),L=function(q){v(q)},H=function(){var q;if(s==="svg"){var $=Lu(_.canvas,"file");if(!$){r();return}q=$}else q=m;var N=new Blob([q],{type:bf(s).mime}),G=bf(s);Zm.saveAs(N,"".concat(d).concat(G.extensions[0])),r()},R=function(q){q.preventDefault();try{Qm()?navigator.clipboard.writeText(m):Xm(q.clipboardData,{"text/plain":m})}catch($){gn.error("copyAs.js::copyAs",$),o(Lr("This feature is not available in your browser"))}};return S.useEffect(function(){if(s==="ket"){var D=new es,q=D.serialize(_.drawingEntitiesManager.micromoleculesHiddenEntities.clone(),_.drawingEntitiesManager);y(q)}},[s]),I(DS,{title:"save structure",isOpen:n,onClose:r,children:[f(J.Content,{children:I(hS,{onSubmit:H,id:"save",children:[I(pS,{style:{padding:"12px 12px 10px"},children:[f("div",{children:f(NS,{value:d,id:"filename",onChange:L,label:"File name:"})}),f(hp,{label:"File format:",options:RS,currentSelection:s,selectionHandler:E,customStylesForExpanded:hs})]}),P?f(mS,{dangerouslySetInnerHTML:{__html:P}}):I(gS,{children:[f(fp,{testId:"preview-area-text",value:m,readonly:!0}),f(jn,{onClick:R,iconName:"copy",title:"Copy to clipboard",testId:"copy-to-clipboard"}),w&&f(pp,{children:f(Qn,{})})]})]})}),I(J.Footer,{children:[f(Te,{label:"Cancel",styleType:"secondary",clickHandler:r}),f(Te,{label:"Save",clickHandler:H,disabled:!d})]})]})},xf=C(Te,{target:"e1kgbmg80"})(function(){return{width:"72px"}},""),qS=C("div",{target:"e11sfr0q0"})({name:"606i4c",styles:"padding:12px"}),BS=function(e){var r=e.isModalOpen,n=e.onClose,o=ce(),a=T($h),i=T(ue),s=S.useCallback(function(){n()},[n]),u=function(){s()},l=function(){s(),o(lC(a)),o(at(!1)),o(mu()),i.events.selectPreset.dispatch(null)};return I(J,{isOpen:r,title:"Delete RNA Preset",onClose:s,children:[f(J.Content,{children:I(qS,{"data-testid":"delete-preset-popup-content",children:[f("div",{children:"You are about to delete"}),I("div",{children:['"',a.name,'" RNA preset.']}),f("div",{children:"This operation cannot be undone."})]})}),I(J.Footer,{children:[f(xf,{clickHandler:u,label:"Cancel",styleType:"secondary"},"cancel"),f(xf,{clickHandler:l,label:"Delete"},"delete")]})]})},zS=C("div",{target:"e1wvbgsi0"})({name:"606i4c",styles:"padding:12px"}),HS=function(e){var r=e.isModalOpen,n=e.onClose,o=ce(),a=T(Bh),i=T(ue),s=Mn(a),u=S.useCallback(function(){n()},[n]),l=function(){Sn(o,i)},c=function(){u()},d=function(){u(),i.events.modifySequenceInRnaBuilder.dispatch(a),l()};return I(J,{isOpen:r,title:"Update sequence",onClose:u,children:[f(J.Content,{children:I(zS,{children:["You are going to modify ",s," nucleotides. Are you sure?"]})}),I(J.Footer,{children:[f(Te,{clickHandler:c,label:"Cancel",styleType:"secondary"},"cancel"),f(Te,{clickHandler:d,label:"Yes"},"update")]})]})},$S=C("div",{target:"e1tvvbc92"})(function(){return{display:"flex",flexDirection:"column",rowGap:"2px",alignItems:"center",marginBottom:"5px"}},""),US=C("span",{target:"e1tvvbc91"})(function(t){return{margin:0,padding:0,textAlign:"center",display:"block",font:t.theme.ketcher.font.family.inter,fontSize:t.theme.ketcher.font.size.small,fontWeight:t.theme.ketcher.font.weight.regular,color:t.disabled?"rgba(180, 185, 214, 1)":t.theme.ketcher.color.text.light}},""),GS=C("div",{target:"e1tvvbc90"})(function(){return{height:"100%"}},""),bp=function(e){return e==="O"?"OH":e},WS=C(xv,{target:"e1huhxto1"})(function(t){var e=t.theme,r=t.isExpanded;return{display:"flex",border:"1.5px solid ".concat(e.ketcher.outline.color),borderRadius:"6px",padding:5,maxHeight:"100%",minHeight:"150px",height:r?"auto":"150px",width:r?"auto":"150px",alignSelf:"stretch","& svg":{maxWidth:"fit-content",margin:"auto"}}},""),KS=C("div",{target:"e1huhxto0"})({name:"wfzm1y",styles:"display:flex;flex-wrap:wrap;justify-content:center;align-self:flex-start;width:100%;gap:7px"}),VS=C("div",{target:"e8i5wzj0"})({name:"2oefzz",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;padding:8px;color:#7c7c7f;border:1px solid #cad3dd;width:100%;height:100%"}),xp=function(){return I(VS,{children:[f(be,{name:"questionMark"}),"Unknown structure"]})},YS={value:()=>{}};function Cp(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new dn(r)}function dn(t){this._=t}function ZS(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}dn.prototype=Cp.prototype={constructor:dn,on:function(t,e){var r=this._,n=ZS(t+"",r),o,a=-1,i=n.length;if(arguments.length<2){for(;++a<i;)if((o=(t=n[a]).type)&&(o=QS(r[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<i;)if(o=(t=n[a]).type)r[o]=Cf(r[o],t.name,e);else if(e==null)for(o in r)r[o]=Cf(r[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new dn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,a;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],n=0,o=a.length;n<o;++n)a[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,a=n.length;o<a;++o)n[o].value.apply(e,r)}};function QS(t,e){for(var r=0,n=t.length,o;r<n;++r)if((o=t[r]).name===e)return o.value}function Cf(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=YS,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var ys="http://www.w3.org/1999/xhtml",wf={svg:"http://www.w3.org/2000/svg",xhtml:ys,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xn(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),wf.hasOwnProperty(e)?{space:wf[e],local:t}:t}function XS(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===ys&&e.documentElement.namespaceURI===ys?e.createElement(t):e.createElementNS(r,t)}}function JS(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function wp(t){var e=Xn(t);return(e.local?JS:XS)(e)}function eM(){}function bu(t){return t==null?eM:function(){return this.querySelector(t)}}function tM(t){typeof t!="function"&&(t=bu(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var a=e[o],i=a.length,s=n[o]=new Array(i),u,l,c=0;c<i;++c)(u=a[c])&&(l=t.call(u,u.__data__,c,a))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new Ne(n,this._parents)}function rM(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function nM(){return[]}function Sp(t){return t==null?nM:function(){return this.querySelectorAll(t)}}function oM(t){return function(){return rM(t.apply(this,arguments))}}function aM(t){typeof t=="function"?t=oM(t):t=Sp(t);for(var e=this._groups,r=e.length,n=[],o=[],a=0;a<r;++a)for(var i=e[a],s=i.length,u,l=0;l<s;++l)(u=i[l])&&(n.push(t.call(u,u.__data__,l,i)),o.push(u));return new Ne(n,o)}function Mp(t){return function(){return this.matches(t)}}function Ap(t){return function(e){return e.matches(t)}}var iM=Array.prototype.find;function sM(t){return function(){return iM.call(this.children,t)}}function uM(){return this.firstElementChild}function lM(t){return this.select(t==null?uM:sM(typeof t=="function"?t:Ap(t)))}var cM=Array.prototype.filter;function dM(){return Array.from(this.children)}function fM(t){return function(){return cM.call(this.children,t)}}function vM(t){return this.selectAll(t==null?dM:fM(typeof t=="function"?t:Ap(t)))}function hM(t){typeof t!="function"&&(t=Mp(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var a=e[o],i=a.length,s=n[o]=[],u,l=0;l<i;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new Ne(n,this._parents)}function Ip(t){return new Array(t.length)}function pM(){return new Ne(this._enter||this._groups.map(Ip),this._parents)}function An(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}An.prototype={constructor:An,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function mM(t){return function(){return t}}function gM(t,e,r,n,o,a){for(var i=0,s,u=e.length,l=a.length;i<l;++i)(s=e[i])?(s.__data__=a[i],n[i]=s):r[i]=new An(t,a[i]);for(;i<u;++i)(s=e[i])&&(o[i]=s)}function yM(t,e,r,n,o,a,i){var s,u,l=new Map,c=e.length,d=a.length,v=new Array(c),p;for(s=0;s<c;++s)(u=e[s])&&(v[s]=p=i.call(u,u.__data__,s,e)+"",l.has(p)?o[s]=u:l.set(p,u));for(s=0;s<d;++s)p=i.call(t,a[s],s,a)+"",(u=l.get(p))?(n[s]=u,u.__data__=a[s],l.delete(p)):r[s]=new An(t,a[s]);for(s=0;s<c;++s)(u=e[s])&&l.get(v[s])===u&&(o[s]=u)}function bM(t){return t.__data__}function xM(t,e){if(!arguments.length)return Array.from(this,bM);var r=e?yM:gM,n=this._parents,o=this._groups;typeof t!="function"&&(t=mM(t));for(var a=o.length,i=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=n[l],d=o[l],v=d.length,p=CM(t.call(c,c&&c.__data__,l,n)),h=p.length,m=s[l]=new Array(h),y=i[l]=new Array(h),b=u[l]=new Array(v);r(c,d,m,y,b,p,e);for(var g=0,w=0,x,M;g<h;++g)if(x=m[g]){for(g>=w&&(w=g+1);!(M=y[w])&&++w<h;);x._next=M||null}}return i=new Ne(i,n),i._enter=s,i._exit=u,i}function CM(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wM(){return new Ne(this._exit||this._groups.map(Ip),this._parents)}function SM(t,e,r){var n=this.enter(),o=this,a=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?a.remove():r(a),n&&o?n.merge(o).order():o}function MM(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,o=r.length,a=n.length,i=Math.min(o,a),s=new Array(o),u=0;u<i;++u)for(var l=r[u],c=n[u],d=l.length,v=s[u]=new Array(d),p,h=0;h<d;++h)(p=l[h]||c[h])&&(v[h]=p);for(;u<o;++u)s[u]=r[u];return new Ne(s,this._parents)}function AM(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],o=n.length-1,a=n[o],i;--o>=0;)(i=n[o])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function IM(t){t||(t=EM);function e(d,v){return d&&v?t(d.__data__,v.__data__):!d-!v}for(var r=this._groups,n=r.length,o=new Array(n),a=0;a<n;++a){for(var i=r[a],s=i.length,u=o[a]=new Array(s),l,c=0;c<s;++c)(l=i[c])&&(u[c]=l);u.sort(e)}return new Ne(o,this._parents).order()}function EM(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function PM(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function kM(){return Array.from(this)}function OM(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,a=n.length;o<a;++o){var i=n[o];if(i)return i}return null}function _M(){let t=0;for(const e of this)++t;return t}function TM(){return!this.node()}function NM(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var o=e[r],a=0,i=o.length,s;a<i;++a)(s=o[a])&&t.call(s,s.__data__,a,o);return this}function jM(t){return function(){this.removeAttribute(t)}}function RM(t){return function(){this.removeAttributeNS(t.space,t.local)}}function LM(t,e){return function(){this.setAttribute(t,e)}}function DM(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function FM(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function qM(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function BM(t,e){var r=Xn(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?RM:jM:typeof e=="function"?r.local?qM:FM:r.local?DM:LM)(r,e))}function Ep(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zM(t){return function(){this.style.removeProperty(t)}}function HM(t,e,r){return function(){this.style.setProperty(t,e,r)}}function $M(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function UM(t,e,r){return arguments.length>1?this.each((e==null?zM:typeof e=="function"?$M:HM)(t,e,r??"")):ar(this.node(),t)}function ar(t,e){return t.style.getPropertyValue(e)||Ep(t).getComputedStyle(t,null).getPropertyValue(e)}function GM(t){return function(){delete this[t]}}function WM(t,e){return function(){this[t]=e}}function KM(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function VM(t,e){return arguments.length>1?this.each((e==null?GM:typeof e=="function"?KM:WM)(t,e)):this.node()[t]}function Pp(t){return t.trim().split(/^|\s+/)}function xu(t){return t.classList||new kp(t)}function kp(t){this._node=t,this._names=Pp(t.getAttribute("class")||"")}kp.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Op(t,e){for(var r=xu(t),n=-1,o=e.length;++n<o;)r.add(e[n])}function _p(t,e){for(var r=xu(t),n=-1,o=e.length;++n<o;)r.remove(e[n])}function YM(t){return function(){Op(this,t)}}function ZM(t){return function(){_p(this,t)}}function QM(t,e){return function(){(e.apply(this,arguments)?Op:_p)(this,t)}}function XM(t,e){var r=Pp(t+"");if(arguments.length<2){for(var n=xu(this.node()),o=-1,a=r.length;++o<a;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?QM:e?YM:ZM)(r,e))}function JM(){this.textContent=""}function e5(t){return function(){this.textContent=t}}function t5(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function r5(t){return arguments.length?this.each(t==null?JM:(typeof t=="function"?t5:e5)(t)):this.node().textContent}function n5(){this.innerHTML=""}function o5(t){return function(){this.innerHTML=t}}function a5(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function i5(t){return arguments.length?this.each(t==null?n5:(typeof t=="function"?a5:o5)(t)):this.node().innerHTML}function s5(){this.nextSibling&&this.parentNode.appendChild(this)}function u5(){return this.each(s5)}function l5(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function c5(){return this.each(l5)}function d5(t){var e=typeof t=="function"?t:wp(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function f5(){return null}function v5(t,e){var r=typeof t=="function"?t:wp(t),n=e==null?f5:typeof e=="function"?e:bu(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function h5(){var t=this.parentNode;t&&t.removeChild(this)}function p5(){return this.each(h5)}function m5(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function g5(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function y5(t){return this.select(t?g5:m5)}function b5(t){return arguments.length?this.property("__data__",t):this.node().__data__}function x5(t){return function(e){t.call(this,e,this.__data__)}}function C5(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function w5(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,o=e.length,a;r<o;++r)a=e[r],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++n]=a;++n?e.length=n:delete this.__on}}}function S5(t,e,r){return function(){var n=this.__on,o,a=x5(e);if(n){for(var i=0,s=n.length;i<s;++i)if((o=n[i]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),o.value=e;return}}this.addEventListener(t.type,a,r),o={type:t.type,name:t.name,value:e,listener:a,options:r},n?n.push(o):this.__on=[o]}}function M5(t,e,r){var n=C5(t+""),o,a=n.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(o=0,c=s[u];o<a;++o)if((i=n[o]).type===c.type&&i.name===c.name)return c.value}return}for(s=e?S5:w5,o=0;o<a;++o)this.each(s(n[o],e,r));return this}function Tp(t,e,r){var n=Ep(t),o=n.CustomEvent;typeof o=="function"?o=new o(e,r):(o=n.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function A5(t,e){return function(){return Tp(this,t,e)}}function I5(t,e){return function(){return Tp(this,t,e.apply(this,arguments))}}function E5(t,e){return this.each((typeof e=="function"?I5:A5)(t,e))}function*P5(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,a=n.length,i;o<a;++o)(i=n[o])&&(yield i)}var Np=[null];function Ne(t,e){this._groups=t,this._parents=e}function Kr(){return new Ne([[document.documentElement]],Np)}function k5(){return this}Ne.prototype=Kr.prototype={constructor:Ne,select:tM,selectAll:aM,selectChild:lM,selectChildren:vM,filter:hM,data:xM,enter:pM,exit:wM,join:SM,merge:MM,selection:k5,order:AM,sort:IM,call:PM,nodes:kM,node:OM,size:_M,empty:TM,each:NM,attr:BM,style:UM,property:VM,classed:XM,text:r5,html:i5,raise:u5,lower:c5,append:d5,insert:v5,remove:p5,clone:y5,datum:b5,on:M5,dispatch:E5,[Symbol.iterator]:P5};function O5(t){return typeof t=="string"?new Ne([[document.querySelector(t)]],[document.documentElement]):new Ne([[t]],Np)}function Cu(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function jp(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Vr(){}var Fr=.7,In=1/Fr,Xt="\\s*([+-]?\\d+)\\s*",qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ge="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_5=/^#([0-9a-f]{3,8})$/,T5=new RegExp(`^rgb\\(${Xt},${Xt},${Xt}\\)$`),N5=new RegExp(`^rgb\\(${Ge},${Ge},${Ge}\\)$`),j5=new RegExp(`^rgba\\(${Xt},${Xt},${Xt},${qr}\\)$`),R5=new RegExp(`^rgba\\(${Ge},${Ge},${Ge},${qr}\\)$`),L5=new RegExp(`^hsl\\(${qr},${Ge},${Ge}\\)$`),D5=new RegExp(`^hsla\\(${qr},${Ge},${Ge},${qr}\\)$`),Sf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cu(Vr,Br,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Mf,formatHex:Mf,formatHex8:F5,formatHsl:q5,formatRgb:Af,toString:Af});function Mf(){return this.rgb().formatHex()}function F5(){return this.rgb().formatHex8()}function q5(){return Rp(this).formatHsl()}function Af(){return this.rgb().formatRgb()}function Br(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=_5.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?If(e):r===3?new Ee(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?rn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?rn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=T5.exec(t))?new Ee(e[1],e[2],e[3],1):(e=N5.exec(t))?new Ee(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=j5.exec(t))?rn(e[1],e[2],e[3],e[4]):(e=R5.exec(t))?rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=L5.exec(t))?kf(e[1],e[2]/100,e[3]/100,1):(e=D5.exec(t))?kf(e[1],e[2]/100,e[3]/100,e[4]):Sf.hasOwnProperty(t)?If(Sf[t]):t==="transparent"?new Ee(NaN,NaN,NaN,0):null}function If(t){return new Ee(t>>16&255,t>>8&255,t&255,1)}function rn(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ee(t,e,r,n)}function B5(t){return t instanceof Vr||(t=Br(t)),t?(t=t.rgb(),new Ee(t.r,t.g,t.b,t.opacity)):new Ee}function bs(t,e,r,n){return arguments.length===1?B5(t):new Ee(t,e,r,n??1)}function Ee(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Cu(Ee,bs,jp(Vr,{brighter(t){return t=t==null?In:Math.pow(In,t),new Ee(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fr:Math.pow(Fr,t),new Ee(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ee(Rt(this.r),Rt(this.g),Rt(this.b),En(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ef,formatHex:Ef,formatHex8:z5,formatRgb:Pf,toString:Pf}));function Ef(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function z5(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pf(){const t=En(this.opacity);return`${t===1?"rgb(":"rgba("}${Rt(this.r)}, ${Rt(this.g)}, ${Rt(this.b)}${t===1?")":`, ${t})`}`}function En(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Rt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nt(t){return t=Rt(t),(t<16?"0":"")+t.toString(16)}function kf(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Le(t,e,r,n)}function Rp(t){if(t instanceof Le)return new Le(t.h,t.s,t.l,t.opacity);if(t instanceof Vr||(t=Br(t)),!t)return new Le;if(t instanceof Le)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,o=Math.min(e,r,n),a=Math.max(e,r,n),i=NaN,s=a-o,u=(a+o)/2;return s?(e===a?i=(r-n)/s+(r<n)*6:r===a?i=(n-e)/s+2:i=(e-r)/s+4,s/=u<.5?a+o:2-a-o,i*=60):s=u>0&&u<1?0:i,new Le(i,s,u,t.opacity)}function H5(t,e,r,n){return arguments.length===1?Rp(t):new Le(t,e,r,n??1)}function Le(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Cu(Le,H5,jp(Vr,{brighter(t){return t=t==null?In:Math.pow(In,t),new Le(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fr:Math.pow(Fr,t),new Le(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,o=2*r-n;return new Ee(Ki(t>=240?t-240:t+120,o,n),Ki(t,o,n),Ki(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new Le(Of(this.h),nn(this.s),nn(this.l),En(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=En(this.opacity);return`${t===1?"hsl(":"hsla("}${Of(this.h)}, ${nn(this.s)*100}%, ${nn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Of(t){return t=(t||0)%360,t<0?t+360:t}function nn(t){return Math.max(0,Math.min(1,t||0))}function Ki(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}var Lp=t=>()=>t;function $5(t,e){return function(r){return t+r*e}}function U5(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function G5(t){return(t=+t)==1?Dp:function(e,r){return r-e?U5(e,r,t):Lp(isNaN(e)?r:e)}}function Dp(t,e){var r=e-t;return r?$5(t,r):Lp(isNaN(t)?e:t)}var _f=function t(e){var r=G5(e);function n(o,a){var i=r((o=bs(o)).r,(a=bs(a)).r),s=r(o.g,a.g),u=r(o.b,a.b),l=Dp(o.opacity,a.opacity);return function(c){return o.r=i(c),o.g=s(c),o.b=u(c),o.opacity=l(c),o+""}}return n.gamma=t,n}(1);function pt(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var xs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vi=new RegExp(xs.source,"g");function W5(t){return function(){return t}}function K5(t){return function(e){return t(e)+""}}function V5(t,e){var r=xs.lastIndex=Vi.lastIndex=0,n,o,a,i=-1,s=[],u=[];for(t=t+"",e=e+"";(n=xs.exec(t))&&(o=Vi.exec(e));)(a=o.index)>r&&(a=e.slice(r,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,u.push({i,x:pt(n,o)})),r=Vi.lastIndex;return r<e.length&&(a=e.slice(r),s[i]?s[i]+=a:s[++i]=a),s.length<2?u[0]?K5(u[0].x):W5(e):(e=u.length,function(l){for(var c=0,d;c<e;++c)s[(d=u[c]).i]=d.x(l);return s.join("")})}var Tf=180/Math.PI,Cs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fp(t,e,r,n,o,a){var i,s,u;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(u=t*r+e*n)&&(r-=t*u,n-=e*u),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,u/=s),t*n<e*r&&(t=-t,e=-e,u=-u,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*Tf,skewX:Math.atan(u)*Tf,scaleX:i,scaleY:s}}var on;function Y5(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Cs:Fp(e.a,e.b,e.c,e.d,e.e,e.f)}function Z5(t){return t==null||(on||(on=document.createElementNS("http://www.w3.org/2000/svg","g")),on.setAttribute("transform",t),!(t=on.transform.baseVal.consolidate()))?Cs:(t=t.matrix,Fp(t.a,t.b,t.c,t.d,t.e,t.f))}function qp(t,e,r,n){function o(l){return l.length?l.pop()+" ":""}function a(l,c,d,v,p,h){if(l!==d||c!==v){var m=p.push("translate(",null,e,null,r);h.push({i:m-4,x:pt(l,d)},{i:m-2,x:pt(c,v)})}else(d||v)&&p.push("translate("+d+e+v+r)}function i(l,c,d,v){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),v.push({i:d.push(o(d)+"rotate(",null,n)-2,x:pt(l,c)})):c&&d.push(o(d)+"rotate("+c+n)}function s(l,c,d,v){l!==c?v.push({i:d.push(o(d)+"skewX(",null,n)-2,x:pt(l,c)}):c&&d.push(o(d)+"skewX("+c+n)}function u(l,c,d,v,p,h){if(l!==d||c!==v){var m=p.push(o(p)+"scale(",null,",",null,")");h.push({i:m-4,x:pt(l,d)},{i:m-2,x:pt(c,v)})}else(d!==1||v!==1)&&p.push(o(p)+"scale("+d+","+v+")")}return function(l,c){var d=[],v=[];return l=t(l),c=t(c),a(l.translateX,l.translateY,c.translateX,c.translateY,d,v),i(l.rotate,c.rotate,d,v),s(l.skewX,c.skewX,d,v),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,v),l=c=null,function(p){for(var h=-1,m=v.length,y;++h<m;)d[(y=v[h]).i]=y.x(p);return d.join("")}}}var Q5=qp(Y5,"px, ","px)","deg)"),X5=qp(Z5,", ",")",")"),ir=0,Cr=0,pr=0,Bp=1e3,Pn,wr,kn=0,Dt=0,Jn=0,zr=typeof performance=="object"&&performance.now?performance:Date,zp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wu(){return Dt||(zp(J5),Dt=zr.now()+Jn)}function J5(){Dt=0}function On(){this._call=this._time=this._next=null}On.prototype=Hp.prototype={constructor:On,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?wu():+r)+(e==null?0:+e),!this._next&&wr!==this&&(wr?wr._next=this:Pn=this,wr=this),this._call=t,this._time=r,ws()},stop:function(){this._call&&(this._call=null,this._time=1/0,ws())}};function Hp(t,e,r){var n=new On;return n.restart(t,e,r),n}function eA(){wu(),++ir;for(var t=Pn,e;t;)(e=Dt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ir}function Nf(){Dt=(kn=zr.now())+Jn,ir=Cr=0;try{eA()}finally{ir=0,rA(),Dt=0}}function tA(){var t=zr.now(),e=t-kn;e>Bp&&(Jn-=e,kn=t)}function rA(){for(var t,e=Pn,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:Pn=r);wr=t,ws(n)}function ws(t){if(!ir){Cr&&(Cr=clearTimeout(Cr));var e=t-Dt;e>24?(t<1/0&&(Cr=setTimeout(Nf,t-zr.now()-Jn)),pr&&(pr=clearInterval(pr))):(pr||(kn=zr.now(),pr=setInterval(tA,Bp)),ir=1,zp(Nf))}}function jf(t,e,r){var n=new On;return e=e==null?0:+e,n.restart(o=>{n.stop(),t(o+e)},e,r),n}var nA=Cp("start","end","cancel","interrupt"),oA=[],$p=0,Rf=1,Ss=2,fn=3,Lf=4,Ms=5,vn=6;function eo(t,e,r,n,o,a){var i=t.__transition;if(!i)t.__transition={};else if(r in i)return;aA(t,r,{name:e,index:n,group:o,on:nA,tween:oA,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:$p})}function Su(t,e){var r=qe(t,e);if(r.state>$p)throw new Error("too late; already scheduled");return r}function Je(t,e){var r=qe(t,e);if(r.state>fn)throw new Error("too late; already running");return r}function qe(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function aA(t,e,r){var n=t.__transition,o;n[e]=r,r.timer=Hp(a,0,r.time);function a(l){r.state=Rf,r.timer.restart(i,r.delay,r.time),r.delay<=l&&i(l-r.delay)}function i(l){var c,d,v,p;if(r.state!==Rf)return u();for(c in n)if(p=n[c],p.name===r.name){if(p.state===fn)return jf(i);p.state===Lf?(p.state=vn,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete n[c]):+c<e&&(p.state=vn,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete n[c])}if(jf(function(){r.state===fn&&(r.state=Lf,r.timer.restart(s,r.delay,r.time),s(l))}),r.state=Ss,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Ss){for(r.state=fn,o=new Array(v=r.tween.length),c=0,d=-1;c<v;++c)(p=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(o[++d]=p);o.length=d+1}}function s(l){for(var c=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(u),r.state=Ms,1),d=-1,v=o.length;++d<v;)o[d].call(t,c);r.state===Ms&&(r.on.call("end",t,t.__data__,r.index,r.group),u())}function u(){r.state=vn,r.timer.stop(),delete n[e];for(var l in n)return;delete t.__transition}}function iA(t,e){var r=t.__transition,n,o,a=!0,i;if(r){e=e==null?null:e+"";for(i in r){if((n=r[i]).name!==e){a=!1;continue}o=n.state>Ss&&n.state<Ms,n.state=vn,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[i]}a&&delete t.__transition}}function sA(t){return this.each(function(){iA(this,t)})}function uA(t,e){var r,n;return function(){var o=Je(this,t),a=o.tween;if(a!==r){n=r=a;for(var i=0,s=n.length;i<s;++i)if(n[i].name===e){n=n.slice(),n.splice(i,1);break}}o.tween=n}}function lA(t,e,r){var n,o;if(typeof r!="function")throw new Error;return function(){var a=Je(this,t),i=a.tween;if(i!==n){o=(n=i).slice();for(var s={name:e,value:r},u=0,l=o.length;u<l;++u)if(o[u].name===e){o[u]=s;break}u===l&&o.push(s)}a.tween=o}}function cA(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=qe(this.node(),r).tween,o=0,a=n.length,i;o<a;++o)if((i=n[o]).name===t)return i.value;return null}return this.each((e==null?uA:lA)(r,t,e))}function Mu(t,e,r){var n=t._id;return t.each(function(){var o=Je(this,n);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return qe(o,n).value[e]}}function Up(t,e){var r;return(typeof e=="number"?pt:e instanceof Br?_f:(r=Br(e))?(e=r,_f):V5)(t,e)}function dA(t){return function(){this.removeAttribute(t)}}function fA(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vA(t,e,r){var n,o=r+"",a;return function(){var i=this.getAttribute(t);return i===o?null:i===n?a:a=e(n=i,r)}}function hA(t,e,r){var n,o=r+"",a;return function(){var i=this.getAttributeNS(t.space,t.local);return i===o?null:i===n?a:a=e(n=i,r)}}function pA(t,e,r){var n,o,a;return function(){var i,s=r(this),u;return s==null?void this.removeAttribute(t):(i=this.getAttribute(t),u=s+"",i===u?null:i===n&&u===o?a:(o=u,a=e(n=i,s)))}}function mA(t,e,r){var n,o,a;return function(){var i,s=r(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),u=s+"",i===u?null:i===n&&u===o?a:(o=u,a=e(n=i,s)))}}function gA(t,e){var r=Xn(t),n=r==="transform"?X5:Up;return this.attrTween(t,typeof e=="function"?(r.local?mA:pA)(r,n,Mu(this,"attr."+t,e)):e==null?(r.local?fA:dA)(r):(r.local?hA:vA)(r,n,e))}function yA(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function bA(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function xA(t,e){var r,n;function o(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&bA(t,a)),r}return o._value=e,o}function CA(t,e){var r,n;function o(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&yA(t,a)),r}return o._value=e,o}function wA(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=Xn(t);return this.tween(r,(n.local?xA:CA)(n,e))}function SA(t,e){return function(){Su(this,t).delay=+e.apply(this,arguments)}}function MA(t,e){return e=+e,function(){Su(this,t).delay=e}}function AA(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?SA:MA)(e,t)):qe(this.node(),e).delay}function IA(t,e){return function(){Je(this,t).duration=+e.apply(this,arguments)}}function EA(t,e){return e=+e,function(){Je(this,t).duration=e}}function PA(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?IA:EA)(e,t)):qe(this.node(),e).duration}function kA(t,e){if(typeof e!="function")throw new Error;return function(){Je(this,t).ease=e}}function OA(t){var e=this._id;return arguments.length?this.each(kA(e,t)):qe(this.node(),e).ease}function _A(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Je(this,t).ease=r}}function TA(t){if(typeof t!="function")throw new Error;return this.each(_A(this._id,t))}function NA(t){typeof t!="function"&&(t=Mp(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var a=e[o],i=a.length,s=n[o]=[],u,l=0;l<i;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new it(n,this._parents,this._name,this._id)}function jA(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,o=r.length,a=Math.min(n,o),i=new Array(n),s=0;s<a;++s)for(var u=e[s],l=r[s],c=u.length,d=i[s]=new Array(c),v,p=0;p<c;++p)(v=u[p]||l[p])&&(d[p]=v);for(;s<n;++s)i[s]=e[s];return new it(i,this._parents,this._name,this._id)}function RA(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function LA(t,e,r){var n,o,a=RA(e)?Su:Je;return function(){var i=a(this,t),s=i.on;s!==n&&(o=(n=s).copy()).on(e,r),i.on=o}}function DA(t,e){var r=this._id;return arguments.length<2?qe(this.node(),r).on.on(t):this.each(LA(r,t,e))}function FA(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function qA(){return this.on("end.remove",FA(this._id))}function BA(t){var e=this._name,r=this._id;typeof t!="function"&&(t=bu(t));for(var n=this._groups,o=n.length,a=new Array(o),i=0;i<o;++i)for(var s=n[i],u=s.length,l=a[i]=new Array(u),c,d,v=0;v<u;++v)(c=s[v])&&(d=t.call(c,c.__data__,v,s))&&("__data__"in c&&(d.__data__=c.__data__),l[v]=d,eo(l[v],e,r,v,l,qe(c,r)));return new it(a,this._parents,e,r)}function zA(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Sp(t));for(var n=this._groups,o=n.length,a=[],i=[],s=0;s<o;++s)for(var u=n[s],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var v=t.call(c,c.__data__,d,u),p,h=qe(c,r),m=0,y=v.length;m<y;++m)(p=v[m])&&eo(p,e,r,m,v,h);a.push(v),i.push(c)}return new it(a,i,e,r)}var HA=Kr.prototype.constructor;function $A(){return new HA(this._groups,this._parents)}function UA(t,e){var r,n,o;return function(){var a=ar(this,t),i=(this.style.removeProperty(t),ar(this,t));return a===i?null:a===r&&i===n?o:o=e(r=a,n=i)}}function Gp(t){return function(){this.style.removeProperty(t)}}function GA(t,e,r){var n,o=r+"",a;return function(){var i=ar(this,t);return i===o?null:i===n?a:a=e(n=i,r)}}function WA(t,e,r){var n,o,a;return function(){var i=ar(this,t),s=r(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),ar(this,t))),i===u?null:i===n&&u===o?a:(o=u,a=e(n=i,s))}}function KA(t,e){var r,n,o,a="style."+e,i="end."+a,s;return function(){var u=Je(this,t),l=u.on,c=u.value[a]==null?s||(s=Gp(e)):void 0;(l!==r||o!==c)&&(n=(r=l).copy()).on(i,o=c),u.on=n}}function VA(t,e,r){var n=(t+="")=="transform"?Q5:Up;return e==null?this.styleTween(t,UA(t,n)).on("end.style."+t,Gp(t)):typeof e=="function"?this.styleTween(t,WA(t,n,Mu(this,"style."+t,e))).each(KA(this._id,t)):this.styleTween(t,GA(t,n,e),r).on("end.style."+t,null)}function YA(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function ZA(t,e,r){var n,o;function a(){var i=e.apply(this,arguments);return i!==o&&(n=(o=i)&&YA(t,i,r)),n}return a._value=e,a}function QA(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,ZA(t,e,r??""))}function XA(t){return function(){this.textContent=t}}function JA(t){return function(){var e=t(this);this.textContent=e??""}}function e4(t){return this.tween("text",typeof t=="function"?JA(Mu(this,"text",t)):XA(t==null?"":t+""))}function t4(t){return function(e){this.textContent=t.call(this,e)}}function r4(t){var e,r;function n(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&t4(o)),e}return n._value=t,n}function n4(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,r4(t))}function o4(){for(var t=this._name,e=this._id,r=Wp(),n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,u,l=0;l<s;++l)if(u=i[l]){var c=qe(u,e);eo(u,t,r,l,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new it(n,this._parents,t,r)}function a4(){var t,e,r=this,n=r._id,o=r.size();return new Promise(function(a,i){var s={value:i},u={value:function(){--o===0&&a()}};r.each(function(){var l=Je(this,n),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e}),o===0&&a()})}var i4=0;function it(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function Wp(){return++i4}var et=Kr.prototype;it.prototype={constructor:it,select:BA,selectAll:zA,selectChild:et.selectChild,selectChildren:et.selectChildren,filter:NA,merge:jA,selection:$A,transition:o4,call:et.call,nodes:et.nodes,node:et.node,size:et.size,empty:et.empty,each:et.each,on:DA,attr:gA,attrTween:wA,style:VA,styleTween:QA,text:e4,textTween:n4,remove:qA,tween:cA,delay:AA,duration:PA,ease:OA,easeVarying:TA,end:a4,[Symbol.iterator]:et[Symbol.iterator]};function s4(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var u4={time:null,delay:0,duration:250,ease:s4};function l4(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function c4(t){var e,r;t instanceof it?(e=t._id,t=t._name):(e=Wp(),(r=u4).time=wu(),t=t==null?null:t+"");for(var n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,u,l=0;l<s;++l)(u=i[l])&&eo(u,t,e,l,i,r||l4(u,e));return new it(n,this._parents,t,e)}Kr.prototype.interrupt=sA;Kr.prototype.transition=c4;function Sr(t,e,r){this.k=t,this.x=e,this.y=r}Sr.prototype={constructor:Sr,scale:function(t){return t===1?this:new Sr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Sr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Sr.prototype;var d4=C("div",{target:"e1q9gayd0"})(function(t){var e=t.theme,r=t.expanded;return{display:"flex",border:"1.5px solid ".concat(e.ketcher.outline.color),borderRadius:"6px",padding:5,maxHeight:"100%",minHeight:"150px",height:r?"auto":"150px",width:r?"auto":"150px",alignSelf:"stretch","& svg":{maxWidth:"fit-content",margin:"auto"}}},""),f4=function(e){var r=e.monomer,n=e.expanded,o=e.selectedAttachmentPoint,a=e.connectedAttachmentPoints,i=e.usage,s=S.useRef(null);return S.useLayoutEffect(function(){var u=s.current;if(u){var l=O5(u);if(r instanceof Mt){var c=(u.width.baseVal.value-u.x.baseVal.value)/2,d=(u.height.baseVal.value-u.y.baseVal.value)/2,v=new ag(c,d),p=ig.canvasToModel(v),h=new Mt(r.variantMonomerItem,p),m=new sg(h);m.showExternal({canvas:l,usage:i,selectedAttachmentPoint:o,connectedAttachmentPoints:a})}}},[o,a]),f(d4,{expanded:n,children:f("svg",{ref:s})})},As=function(e){var r=e.monomer,n=e.attachmentPoints,o=e.connectedAttachmentPoints,a=e.selectedAttachmentPoint,i=e.usage,s=e.needCache,u=e.update,l=e.expanded,c=r instanceof Mt,d=r.monomerItem.props.unresolved;return I(te,{children:[c?f(f4,{monomer:r,expanded:l,selectedAttachmentPoint:a,connectedAttachmentPoints:o,usage:i}):d?f(xp,{}):f(WS,{struct:r.monomerItem.struct,options:{connectedMonomerAttachmentPoints:o,currentlySelectedMonomerAttachmentPoint:a??void 0,usageInMacromolecule:i,labelInMonomerConnectionsModal:!0,needCache:s??!1},update:u,isExpanded:l}),f(KS,{children:n})]})},Df=C("div",{target:"e14t14ao2"})(function(t){var e=t.theme,r=t.isExpanded;return{margin:0,padding:0,textAlign:"center",alignSelf:"flex-end",display:"block",font:e.ketcher.font.family.inter,fontSize:e.ketcher.font.size.regular,fontWeight:e.ketcher.font.weight.regular,flexBasis:"200px",lineHeight:"14px",maxWidth:r?void 0:"150px"}},""),v4=C("div",{target:"e14t14ao1"})(function(t){var e=t.theme;return{width:10,height:2,display:"block",color:e.ketcher.color.button.secondary.hover,backgroundColor:e.ketcher.color.button.secondary.hover,borderRadius:20,margin:"auto"}},""),h4=C("div",{target:"e14t14ao0"})(function(){return{display:"grid",gridAutoFlow:"column",gridTemplateRows:"auto auto auto",gridTemplateColumns:"1fr 10px 1fr",justifyContent:"center",alignItems:"flex-start",padding:"12px",paddingBottom:0,height:"100%",columnGap:"12px",rowGap:"8px"}},""),Ff=function(e){return e instanceof Mt?"Ambiguous ".concat(e.monomerClass):e.monomerItem.props.Name},Kp=function(e){var r=e.firstMonomer,n=e.secondMonomer,o=e.expanded,a=e.firstMonomerOverview,i=e.secondMonomerOverview,s=Ff(r),u=Ff(n);return I(h4,{children:[f(Df,{isExpanded:o,children:s}),a,f("span",{}),f(v4,{}),f("span",{}),f(Df,{isExpanded:o,children:u}),i]})};function qf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function p4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qf(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qf(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var m4=C(J,{target:"e1byht5d3"})({name:"1j7jcep",styles:"& .MuiPaper-root{background:#fff !important;}& .MuiDialogContent-root{overflow:hidden;}"}),g4=C(Te,{target:"e1byht5d2"})(function(){return{width:"97px !important"}},""),y4=C(Te,{target:"e1byht5d1"})(function(t){return{width:"97px !important",color:t.disabled?"rgba(51, 51, 51, 0.6)":"",background:t.disabled?"rgba(225, 229, 234, 1) !important":"",opacity:"1 !important",minHeight:"0"}},""),b4=C(Te,{target:"e1byht5d0"})(function(t){return{borderRadius:5,minWidth:"45px !important",padding:"4px",border:"1px solid ".concat(t.theme.ketcher.color.border.secondary),color:t.disabled?"rgba(51, 51, 51, 0.6) !important":"",background:t.disabled?"rgba(225, 229, 234)":"",borderColor:t.disabled?"rgba(225, 229, 234) !important":""}},""),x4=function(e){var r=e.onClose,n=e.isModalOpen,o=e.firstMonomer,a=e.secondMonomer,i=e.polymerBond,s=e.isReconnectionDialog,u=T(ue),l=S.useRef(i==null?void 0:i.firstMonomerAttachmentPoint),c=S.useRef(i==null?void 0:i.secondMonomerAttachmentPoint),d=S.useRef((o==null?void 0:o.hasFreeAttachmentPoint)||(a==null?void 0:a.hasFreeAttachmentPoint));if(!o||!a)throw new Error("Monomers must exist!");var v=S.useState(l.current||zf(o)),p=j(v,2),h=p[0],m=p[1],y=S.useState(c.current||zf(a)),b=j(y,2),g=b[0],w=b[1],x=S.useState(!1),M=j(x,2),A=M[0],P=M[1],O=function(){if(s){var E;i==null||i.firstMonomer.setBond(l.current,i),i==null||(E=i.secondMonomer)===null||E===void 0||E.setBond(c.current,i),r()}else u.events.cancelBondCreationViaModal.dispatch(a),r()},k=function(){if(!h||!g)throw new Error("Attachment points cannot be falsy");if(h===l.current&&g===c.current){O();return}u.events.createBondViaModal.dispatch({firstMonomer:o,secondMonomer:a,firstSelectedAttachmentPoint:h,secondSelectedAttachmentPoint:g,polymerBond:i,isReconnection:s,initialFirstMonomerAttachmentPoint:l.current,initialSecondMonomerAttachmentPoint:c.current}),r()};return I(m4,{title:s?"Edit Connection Points":"Select connection points",isOpen:n,onClose:O,showExpandButton:!0,modalWidth:"358px",expanded:A,setExpanded:P,children:[f(J.Content,{children:f(GS,{children:f(Kp,{firstMonomer:o,secondMonomer:a,expanded:A,firstMonomerOverview:f(Bf,{monomer:o,selectedAttachmentPoint:h,onSelectAttachmentPoint:m,expanded:A}),secondMonomerOverview:f(Bf,{monomer:a,selectedAttachmentPoint:g,onSelectAttachmentPoint:w,expanded:A})})})}),I(J.Footer,{children:[f(g4,{label:"Cancel",styleType:"secondary",clickHandler:O}),f(y4,{label:s?"Reconnect":"Connect",disabled:!h||!g||!d.current,clickHandler:k})]})]})};function Bf(t){var e=t.monomer,r=t.selectedAttachmentPoint,n=t.onSelectAttachmentPoint,o=t.expanded,a=o===void 0?!1:o,i=S.useState(e.attachmentPointsToBonds),s=j(i,2),u=s[0],l=s[1],c=S.useState(function(){return zi(u)}),d=j(c,2),v=d[0],p=d[1];S.useEffect(function(){l(e.attachmentPointsToBonds)},[r]),S.useEffect(function(){var y=zi(u);p(y)},[u]);var h=function(b){var g=e.monomerCaps,w=e instanceof Mt;if(!g)return w?null:"H";var x=g[b];return bp(x)},m=function(b){var g=p4({},e.attachmentPointsToBonds),w=r?g[r]:null;r&&w&&e.removeBond(w);var x=e.getPotentialBond(b);g[b]=x,l(g),n(b);var M=zi(g);p(M)};return f(As,{monomer:e,connectedAttachmentPoints:v,selectedAttachmentPoint:r,usage:yn.MonomerConnectionsModal,update:a,expanded:a,attachmentPoints:e.listOfAttachmentPoints.map(function(y){var b=!!(v.includes(y)&&y!==r);return I($S,{children:[f(b4,{label:y,styleType:y===r?"primary":"secondary",clickHandler:function(){return m(y)},disabled:b}),f(US,{"data-testid":"leaving-group-value",disabled:b,children:h(y)})]},y)})})}function zf(t){if(t.chosenFirstAttachmentPointForBond)return t.chosenFirstAttachmentPointForBond;if(t.chosenSecondAttachmentPointForBond)return t.chosenSecondAttachmentPointForBond;var e=Object.entries(t.attachmentPointsToBonds).filter(function(o){var a=j(o,2);a[0];var i=a[1];return i==null});if(e.length===1){var r=j(e[0],1),n=r[0];return n}return null}var C4=C("p",{target:"e1e4h5hm0"})({name:"1fayh9l",styles:"padding:12px;font-size:12px;color:#000"}),w4=function(e){var r=e.title,n=e.confirmationText,o=e.onConfirm,a=e.isModalOpen,i=e.onClose,s=function(){o(),i()};return I(J,{isOpen:a,title:r||"Confirm your action",onClose:i,children:[f(J.Content,{children:f(C4,{children:n})}),I(J.Footer,{children:[f(Te,{label:"Cancel",clickHandler:i}),f(Te,{label:"Yes",clickHandler:s,styleType:"secondary"})]})]})},Vp={open:PS,save:FS,delete:BS,updateSequenceInRNABuilder:HS,monomerConnection:x4,confirmationDialog:w4};function Hf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function S4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hf(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hf(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var M4=function(){var e=T(Hx),r=T(zx),n=T($x),o=ce(),a=S.useCallback(function(){o(Fx())},[o]);if(!r)return null;var i=Vp[r];if(!i)throw new Error("There is no modal window named ".concat(r));return n?f(i,S4({onClose:a,isModalOpen:e},n)):f(i,{onClose:a,isModalOpen:e})},A4=C("div",{target:"e15avtnm2"})({name:"1bweptz",styles:"background-color:#333333;max-height:40px;display:flex;align-items:stretch"}),I4=C("div",{target:"e15avtnm1"})({name:"1my6l07",styles:"max-width:356px;padding:4px 10px 4px 10px;color:white;display:flex"}),E4=C(jn,{target:"e15avtnm0"})({name:"1c8hqv0",styles:"color:white;width:24px;height:auto;display:flex;align-items:center;justify-content:center;&:hover{background-color:#585858;color:white;}svg{width:16px;height:16px;}"}),P4=function(){return I(te,{children:[f("symbol",{id:"chem",viewBox:"0 0 59 59",width:"59",height:"59",children:f("rect",{className:"monomer-body",width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"0.75",fill:"#F5F6F7"})}),f("symbol",{id:"chem-selection",viewBox:"0 0 59 59",width:"59",height:"59",children:f("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"0.75",stroke:"#0097A8",fill:"none",strokeWidth:"1.5"})})]})},k4=function(){return I(te,{children:[f("symbol",{id:"peptide",viewBox:"0 0 70 61",width:"70",height:"61",children:f("path",{className:"monomer-body",transform:"scale(0.5)","data-actual-width":"35","data-actual-height":"30.5",d:"M16.9236 1.00466C17.2801 0.383231 17.9418 6.10888e-07 18.6583 5.98224e-07L51.3417 2.04752e-08C52.0582 7.81036e-09 52.7199 0.383234 53.0764 1.00466L69.4289 29.5047C69.7826 30.1211 69.7826 30.8789 69.4289 31.4953L53.0764 59.9953C52.7199 60.6168 52.0582 61 51.3417 61H18.6583C17.9418 61 17.2801 60.6168 16.9236 59.9953L0.571095 31.4953C0.217407 30.8789 0.217408 30.1211 0.571096 29.5047L16.9236 1.00466Z"})}),I("symbol",{id:"peptide-hover",viewBox:"0 0 70 61",width:"70",height:"61",children:[f("path",{d:"M18.2246 1.75116C18.3137 1.59581 18.4792 1.5 18.6583 1.5L51.3417 1.5C51.5208 1.5 51.6863 1.59581 51.7754 1.75116L53.06 1.01408L51.7754 1.75117L68.1279 30.2512C68.2163 30.4053 68.2163 30.5947 68.1279 30.7488L51.7754 59.2488C51.6863 59.4042 51.5208 59.5 51.3417 59.5H18.6583C18.4792 59.5 18.3137 59.4042 18.2246 59.2488L1.87215 30.7488C1.78372 30.5947 1.78372 30.4053 1.87215 30.2512L18.2246 1.75116Z",fill:"none",transform:"scale(0.5)",stroke:"#0097A8",strokeWidth:"3"})," "]}),f("symbol",{id:"peptide-selection",viewBox:"0 0 70 61",width:"70",height:"61",children:f("path",{xmlns:"http://www.w3.org/2000/svg",d:"M17.3572 1.25349C17.6247 0.787424 18.1209 0.500001 18.6583 0.500001L51.3417 0.5C51.8791 0.5 52.3753 0.787425 52.6428 1.2535L53.0665 1.01035L52.6428 1.2535L68.9952 29.7535C69.2605 30.2158 69.2605 30.7842 68.9952 31.2465L52.6428 59.7465C52.3753 60.2126 51.8791 60.5 51.3417 60.5H18.6583C18.1209 60.5 17.6247 60.2126 17.3572 59.7465L1.00478 31.2465C0.739513 30.7842 0.739513 30.2158 1.00478 29.7535L17.3572 1.25349Z",fill:"none",transform:"scale(0.5)",stroke:"#0097A8"})}),f("symbol",{id:"modified-background",viewBox:"0 0 60 20",width:"30",height:"20",x:"2.5",y:"5",children:f("path",{xmlns:"http://www.w3.org/2000/svg",d:`M6.52702 20C5.81057 20 5.14885 19.6168 4.79229 18.9953L0.570974 11.6382C0.217285 11.0218 
           0.217285 10.2639 0.570974 9.64751L5.52999 1.00466C5.88654 0.383235 6.54827 0 7.26472 0H52.735C53.4515
           0 54.1132 0.383234 54.4698 1.00466L59.4288 9.64751C59.7825 10.2639 59.7825 11.0218 59.4288 11.6382
           L55.2075 18.9953C54.8509 19.6168 54.1892 20 53.4727 20H6.52702Z`,fillOpacity:"0.6"})})]})},O4=function(){return I(te,{children:[f("symbol",{id:"sugar",viewBox:"0 0 70 70",width:"70",height:"70",children:f("rect",{className:"monomer-body",width:"28.5",height:"28.5","data-actual-width":"28.5","data-actual-height":"28.5",rx:"5"})}),f("symbol",{id:"sugar-selection",viewBox:"-1 -1 100 100",width:"70",height:"70",children:f("rect",{width:"39",height:"39",rx:"5",fill:"none",stroke:"#0097A8",strokeWidth:"2.5"})}),f("symbol",{id:"sugar-variant",viewBox:"0 0 72 72",width:"70",height:"70",children:f("rect",{className:"monomer-body",width:"28.5",height:"28.5","data-actual-width":"28.5","data-actual-height":"28.5",x:"0.5",y:"0.5",rx:"5",stroke:"#585858",strokeWidth:"0.5"})}),f("symbol",{id:"sugar-modified-background",viewBox:"0 0 28 10",width:"27",height:"10",x:"0.7",y:"10",children:f("path",{d:"M1.5 10C0.947715 10 0.5 9.55229 0.5 9V1C0.5 0.447715 0.947715 0 1.5 0H26.5C27.0523 0 27.5 0.447715 27.5 1V9C27.5 9.55228 27.0523 10 26.5 10H1.5Z",fill:"white",fillOpacity:"0.6"})})]})},_4=function(){return I(te,{children:[f("symbol",{id:"phosphate",viewBox:"0 0 70 70",width:"70",height:"70",children:f("rect",{className:"monomer-body",width:"28",height:"28","data-actual-width":"28","data-actual-height":"28",rx:"15"})}),f("symbol",{id:"phosphate-selection",viewBox:"-1 -1 75 75",width:"70",height:"70",children:f("rect",{width:"28",height:"28",rx:"15",fill:"none",stroke:"#0097A8",strokeWidth:"1.5"})}),f("symbol",{id:"phosphate-variant",viewBox:"0 0 70 70",width:"70",height:"70",children:f("rect",{className:"monomer-body",width:"27",height:"27","data-actual-width":"27","data-actual-height":"27",stroke:"#585858",strokeWidth:"0.5",x:"0.5",y:"0.5",rx:"15"})}),f("symbol",{id:"phosphate-modified-background",viewBox:"0 0 28 10",width:"26",height:"10",x:"1",y:"9.5",children:f("path",{d:"M2.13388 0C1.72465 0 1.35333 0.248229 1.22109 0.635509C0.753639 2.00455 0.5 3.47265 0.5 5C0.5 6.52735 0.753639 7.99545 1.22109 9.36449C1.35333 9.75177 1.72465 10 2.13389 10H25.8661C26.2753 10 26.6467 9.75177 26.7789 9.36449C27.2464 7.99545 27.5 6.52735 27.5 5C27.5 3.47265 27.2464 2.00455 26.7789 0.635509C26.6467 0.248229 26.2753 0 25.8661 0H2.13388Z",fill:"#333333",fillOpacity:"0.6"})})]})},T4=function(){return I(te,{children:[f("symbol",{id:"rna-base",viewBox:"-16 0 65 65",width:"65",height:"95",children:f("rect",{width:"22.5",height:"22.5","data-actual-width":"31.82","data-actual-height":"31.82",rx:"1",x:"-11.25",y:"-11.25",transform:"rotate(45)",className:"monomer-body"})}),f("symbol",{id:"rna-base-selection",viewBox:"-15.75 -0.25 65 65",width:"65",height:"95",children:f("rect",{width:"21",height:"21",rx:"1",x:"-10.5",y:"-10.5",transform:"rotate(45)",stroke:"#0097A8",strokeWidth:"1.5",fill:"none"})}),f("symbol",{id:"rna-base-variant",viewBox:"-16 0 65 65",width:"65",height:"94",children:f("rect",{width:"21.5",height:"21.5","data-actual-width":"30","data-actual-height":"30",stroke:"#585858",strokeWidth:"0.5",rx:"1",x:"-10.25",y:"-10.25",transform:"rotate(45)",className:"monomer-body"})}),f("symbol",{id:"rna-base-modified-background",viewBox:"0 0 32 10",width:"30",height:"9",x:"0.8",y:"10.8",children:f("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.30156 10C6.03634 10 5.78199 9.89464 5.59445 9.70711L1.1508 5.26346C0.760279 4.87293 0.760279 4.23977 1.1508 3.84924L4.70715 0.292893C4.89469 0.105357 5.14904 0 5.41426 0H26.5858C26.851 0 27.1054 0.105357 27.2929 0.292893L30.8493 3.84924C31.2398 4.23977 31.2398 4.87293 30.8493 5.26346L26.4056 9.70711C26.2181 9.89464 25.9637 10 25.6985 10H6.30156Z",fill:"#333333",fillOpacity:"0.6"})})]})},N4=function(){return I(te,{children:[I("symbol",{id:"unresolved-monomer",viewBox:"0 0 59 59",width:"59",height:"59",children:[f("rect",{className:"monomer-body",width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"1.5",stroke:"#333333"}),f("rect",{width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"#585858"})]}),f("symbol",{id:"unresolved-monomer-selection",children:f("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"none",stroke:"#0097A8"})}),f("symbol",{id:"unresolved-monomer-hover",children:f("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"none",stroke:"#0097A8",strokeWidth:"1.5"})})]})},j4=function(){return I(te,{children:[f("symbol",{id:"nucleotide",viewBox:"0 0 84 84",width:"42",height:"42",children:f("path",{className:"monomer-body","data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)"})}),f("symbol",{id:"nucleotide-selection",viewBox:"0 0 84 84",width:"42",height:"42",children:f("path",{"data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)",fill:"none",stroke:"#0097A8"})}),f("symbol",{id:"nucleotide-hover",viewBox:"0 0 84 84",width:"42",height:"42",children:f("path",{"data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)",fill:"none",stroke:"#0097A8",strokeWidth:"3"})})]})},R4=function(){return I(te,{children:[f("path",{strokeLinecap:"round",d:"M5,0 0,2.5 5,5z",id:"arrow-marker-content"}),f("marker",{id:"arrow-marker",markerHeight:"3",markerWidth:"5",orient:"auto",refX:"2.5",refY:"1.5",children:f("use",{href:"#arrow-marker-content",transform:"rotate(180 2.5 1.5) scale(1,0.6)",strokeWidth:"1.2500",fill:"black",stroke:"none"})}),f("marker",{id:"arrow-marker-arc",markerWidth:"5",markerHeight:"5",viewBox:"0 0 5 5",refX:"5",refY:"2.5",orient:"auto",children:f("use",{href:"#arrow-marker-content",transform:"rotate(180, 2.5, 2.5)",fill:"#365CFF",stroke:"none"})})]})},L4=function(){return f(te,{children:f("symbol",{id:"sequence-start-arrow",viewBox:"0 0 65 65",width:"65",height:"95",children:f("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f("path",{d:"M10.2802 5.09664C10.9756 5.49813 10.9756 6.50187 10.2802 6.90336L2.56467 11.3579C1.86926 11.7594 1 11.2576 1 10.4546V1.54541C1 0.742426 1.86926 0.240558 2.56467 0.642053L10.2802 5.09664Z",stroke:"#7C7C7F"})})})})},D4=C("div",{target:"e1phidy70"})({name:"1fayh9l",styles:"padding:12px;font-size:12px;color:#000"}),F4=function(){var e=ce(),r=T(Gx),n=T(Wx)||"Error message",o=r!=="",a=function(){e(Bx())};return I(J,{isOpen:o,title:n,onClose:a,children:[f(J.Content,{children:f(D4,{children:r})}),f(J.Footer,{children:f(Te,{label:"Close",clickHandler:a})})]})},q4=C("div",{target:"embh3ih3"})(function(){return{height:"100%"}},""),B4=C("div",{target:"embh3ih2"})(function(){return{display:"flex",alignItems:"center"}},""),z4=C("div",{target:"embh3ih1"})(function(){return{background:"","&.toggler-component-wrapper--disabled":{opacity:.4,pointerEvents:"none",cursor:"default"}}},""),H4=C("svg",{target:"embh3ih0"})(function(){return{"&.handCursor":{cursor:`
      url('data:image/svg+xml;base64,PHN2ZwogICAgICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgICAgICB3aWR0aD0iMjQiCiAgICAgICAgaGVpZ2h0PSIyNCIKICAgICAgICBmaWxsPSJub25lIgogICAgICAgIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aAogICAgICAgICAgICBmaWxsPSIjMDAwIgogICAgICAgICAgICBkPSJNMjAuNDM0IDcuNjczYy0uMS0uNi0uNzEzLTEuNzMxLTIuMzItMS43MzEtLjEyNiAwLS4yNTIuMDA3LS4zNzcuMDIzdi0uNzlhMS4wMSAxLjAxIDAgMCAwLS4wNDUtLjNjLS4xNzctLjU2NC0uODc2LTEuNjMxLTIuMjYyLTEuNjMxYTIuNTk5IDIuNTk5IDAgMCAwLS42NzYuMDg2IDIuMzk0IDIuMzk0IDAgMCAwLS4xNDYtLjIzYy0uNDUzLS42NDUtMS4xODYtMS0yLjA2My0xLS44NzcgMC0xLjU4NC4zNi0yLjAyNSAxLjAxN2EyLjQ2MSAyLjQ2MSAwIDAgMC0uMzYxLjg1IDIuNjYzIDIuNjYzIDAgMCAwLS40MDgtLjAzYy0xLjQ3NCAwLTIuMTI0IDEuMTUtMi4yNjIgMS43NTdhMS4wMzQgMS4wMzQgMCAwIDAtLjAyNC4yMjJWMTEuMWwtLjEzLS4xYy0uNTg4LS41LTIuMDM0LTEuMTIxLTMuMzkxLjAyOS0xLjM1NyAxLjE1LTEuMDE1IDIuNjY0LS40MzEgMy40NTIuNDUzLjc3MyA0LjUxMiA3LjQyNSAxMC4yMjMgNy40MjUgMy4yNSAwIDQuOTEtMS41MTIgNS43MjktMi43ODFhNi4yOTEgNi4yOTEgMCAwIDAgLjk4LTIuOFY3LjgzOGMuMDAxLS4wNTYtLjAwMy0uMTEtLjAxMS0uMTY1WiIKICAgIC8+CiAgICA8cGF0aAogICAgICAgICAgICBmaWxsPSIjZmZmIgogICAgICAgICAgICBzdHJva2U9IiNmZmYiCiAgICAgICAgICAgIGQ9Ik0xOC40NDggMTYuMjE1YTQuNDc0IDQuNDc0IDAgMCAxLS43IDEuODg3Yy0uODA1IDEuMi0yLjE1MyAxLjgtNC4wMDggMS44LTQuNzY4IDAtOC40ODQtNi40MTItOC41Mi02LjQ3NmEuNjY5LjY2OSAwIDAgMC0uMDktLjEyNmMtLjI5NC0uNDA4IDAtLjY1NS4xMDctLjc0OC4yNjctLjIyNy41NC0uMjM3LjgxLS4wMzFsMS43NyAxLjQ1MmExIDEgMCAwIDAgMS42NDQtLjc2M1Y2LjA4YS4yODcuMjg3IDAgMCAxIC4yOS0uMTQ4LjQ0LjQ0IDAgMCAxIC4zNzIuMTZ2NC43YTEgMSAwIDEgMCAyIDB2LTYuNDVjLjA2OC0uMjQ4LjMtLjI0OC40MjItLjI0OC4yIDAgLjQxNC4wMzIuNDgyLjI1NXY2LjQ0YTEgMSAwIDEgMCAyIDB2LTUuMmEuNzUuNzUgMCAwIDEgLjA3NC0uMTljLjA0OS0uMDgxLjEwOC0uMTUuMzI1LS4xNWEuMzUuMzUgMCAwIDEgLjMwNy4xNXY1LjM5YTEgMSAwIDEgMCAyIDBWOC4wNDdhLjU4My41ODMgMCAwIDEgLjM3Ny0uMWMuMDY1IDAgLjI1OC4wMDYuMzM0LjA3OGwuMDA0IDguMTlaIgogICAgLz4KPC9zdmc+Cg=='),
      auto
    `},"&.handCursorGrabbing":{cursor:`
      url('data:image/svg+xml;base64,PHN2ZwogICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICAgd2lkdGg9IjI0IgogICAgaGVpZ2h0PSIyNCIKICAgIGZpbGw9Im5vbmUiCiAgICB2aWV3Qm94PSIwIDAgMzAgMzAiCiAgPgogICAgPHBhdGgKICAgICAgZmlsbD0iI2ZmZiIKICAgICAgZD0iTTEwLjc0NCAzQzguODkgMyA3LjM4NCA0LjUyNSA3LjM4NCA2LjR2LjIyaC0uMDEyYy0xLjk5NyAwLTMuNjIyIDEuNjAyLTMuNjIyIDMuNTY4bC4wMDEgNy4wMmMwIDEuNzcgMS41MTIgMy41MTUgMy4xMTIgNS4zNjEuNzIuODMgMS45MTkgMi4yMTYgMi4wMzQgMi43MzF2MS41MjJoMTMuNDQydi0xLjU1NGMwLS41OS42MTgtMS43NyAxLjE2My0yLjgxLjkzOC0xLjc4OSAxLjk5OC0zLjgxNSAxLjk5OC01Ljk5MSAwLTMuMjU4LS4wMS02LjI0OC0uMDEtNi4yNDggMC0xLjY5Ni0xLjM5LTMuMDgtMy4xLTMuMDgtLjIwMyAwLS40LjAyLS41OTIuMDU3YTMuNjUgMy42NSAwIDAgMC0zLjAzMy0xLjYwN2MtLjM2NyAwLS43Mi4wNTMtMS4wNTUuMTUzYTMuNjM2IDMuNjM2IDAgMCAwLTMuMDktMS43MDVjLS40NDQgMC0uODcuMDgtMS4yNjQuMjI1QTMuMzQ1IDMuMzQ1IDAgMCAwIDEwLjc0NCAzWiIKICAgIC8+CiAgICA8cGF0aAogICAgICBmaWxsPSIjMDAwIgogICAgICBkPSJNMTAuNzQ0IDQuNTU0YzEgMCAxLjgwOC44MjYgMS44MDggMS44NDV2MS4xOTdjMC0xLjEwOS45MjctMi4wMDggMi4wNjgtMi4wMDggMS4xNDMgMCAyLjA2OC45IDIuMDY4IDIuMDA4djEuNTUyYzAtMS4xMS45My0yLjAwOCAyLjA3Ny0yLjAwOCAxLjE0NyAwIDIuMDc2Ljg5OSAyLjA3NiAyLjAwOHYxLjA2OEExLjU0IDEuNTQgMCAwIDEgMjIuMzkgOC42OWMuODU2IDAgMS41NDguNjg0IDEuNTQ4IDEuNTMgMCAwIC4wMSAyLjk4OC4wMSA2LjI0NCAwIDMuMjU3LTMuMTYxIDYuNjM2LTMuMTYxIDguODAySDEwLjQ1YzAtMS45NC01LjE0Ni01Ljc3My01LjE0Ni04LjA2MXYtNy4wMmMwLTEuMTEyLjkyNi0yLjAxNCAyLjA3LTIuMDE1djQuMDUxYzAgLjM0Mi4zNS42Mi43ODEuNjIuNDMyIDAgLjc4Mi0uMjc4Ljc4Mi0uNjJWNi40YzAtMS4wMi44MDktMS44NDUgMS44MDctMS44NDVabTAtMS41NTRDOC44OSAzIDcuMzg0IDQuNTI1IDcuMzg0IDYuNHYuMjJoLS4wMTJjLTEuOTk3IDAtMy42MjIgMS42MDItMy42MjIgMy41NjhsLjAwMSA3LjAyYzAgMS43NyAxLjUxMiAzLjUxNSAzLjExMiA1LjM2MS43Mi44MyAxLjkxOSAyLjIxNiAyLjAzNCAyLjczMXYxLjUyMmgxMy40NDJ2LTEuNTU0YzAtLjU5LjYxOC0xLjc3IDEuMTYzLTIuODEuOTM4LTEuNzg5IDEuOTk4LTMuODE1IDEuOTk4LTUuOTkxIDAtMy4yNTgtLjAxLTYuMjQ4LS4wMS02LjI0OCAwLTEuNjk2LTEuMzktMy4wOC0zLjEtMy4wOC0uMjAzIDAtLjQuMDItLjU5Mi4wNTdhMy42NSAzLjY1IDAgMCAwLTMuMDMzLTEuNjA3Yy0uMzY3IDAtLjcyLjA1My0xLjA1NS4xNTNhMy42MzYgMy42MzYgMCAwIDAtMy4wOS0xLjcwNWMtLjQ0NCAwLS44Ny4wOC0xLjI2NC4yMjVBMy4zNDUgMy4zNDUgMCAwIDAgMTAuNzQ0IDNaIgogICAgLz4KICA8L3N2Zz4='),
      auto
    `}}},"");function $4(){var t=iv.getKetcher(),e=S.useState(!1),r=j(e,2),n=r[0],o=r[1],a=S.useCallback(function(){return o(!0)},[o]),i=S.useCallback(function(){return o(!1)},[o]);return S.useEffect(function(){return t.eventBus.addListener(Gt.LOADING,a),t.eventBus.addListener(Gt.SUCCESS,i),t.eventBus.addListener(Gt.FAILURE,i),function(){t.eventBus.removeListener(Gt.LOADING,a),t.eventBus.removeListener(Gt.SUCCESS,i),t.eventBus.removeListener(Gt.FAILURE,i)}},[t.eventBus,i,a]),n}function $f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Uf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$f(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$f(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U4(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=G4(t))||e){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,i=!1,s;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){i=!0,s=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}}}function G4(t,e){if(t){if(typeof t=="string")return Gf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gf(t,e)}}function Gf(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W4(){var t=ce(),e=T(ue);S.useEffect(function(){if(e){var r=e.monomersLibrary,n=e.defaultRnaPresetsLibraryItems,o=ye(Wd(r,n,!0)),a=or(),i=[],s=o.map(function(p){return p.name});if(a){var u=U4(a),l;try{for(u.s();!(l=u.n()).done;){for(var c=l.value,d=0,v=c.name;s.includes(v);)d++,v="".concat(c.name).concat("_Copy".repeat(d));v!==c.name&&Dh(Uf(Uf({},c),{},{name:v}))}}catch(p){u.e(p)}finally{u.f()}a=or(),i=Wd(r,a)}return t(cs(r)),t(Nx(null)),t(cC(o)),a&&t(dC(i)),t(hC()),function(){t(cs([])),t(pC())}}},[e])}var K4=C("div",{target:"ex562360"})({name:"1vtgpt7",styles:"position:absolute;top:0;left:0;height:100%;width:100%;display:flex;justify-content:center;align-items:center"}),V4=function(){return f(K4,{children:f(Qn,{})})},Y4=function(e){e.requestFullscreen&&e.requestFullscreen()||e.msRequestFullscreen&&e.msRequestFullscreen()||e.mozRequestFullScreen&&e.mozRequestFullScreen()||e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},Z4=function(){document.exitFullscreen&&document.exitFullscreen()||document.msExitFullscreen&&document.msExitFullscreen()||document.mozCancelFullScreen&&document.mozCancelFullScreen()||document.webkitExitFullscreen&&document.webkitExitFullscreen()},Q4=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},X4=C("div",{target:"e1yct69a0"})({name:"14ocoqf",styles:"display:flex;& svg:first-of-type{display:flex;justify-content:center;align-items:center;width:24px;height:24px;padding:2px;border-radius:4px;}"}),J4=function(e){var r=S.useState(Q4()),n=j(r,2),o=n[0],a=n[1],i=function(){var u=document.querySelector(Ft)||document.documentElement;o?Z4():Y4(u),a(!o)};return f(X4,{className:e.className,children:f(jn,{onClick:i,iconName:o?"fullscreen-exit":"fullscreen-enter"})})},Au=St.createContext({}),Yp=function(){return St.useContext(Au)},e2=C(jn,{target:"e1erwxoo0"})({name:"1y95nj0",styles:"margin:2px;outline:none"});function Zp(){var t;(t=document.activeElement)===null||t===void 0||t.blur()}var _n=function(e){var r=e.itemId,n=e.title,o=n===void 0?"":n,a=e.disabled,i=e.testId,s=e.onClick,u=Yp(),l=u.isActive,c=u.activate,d=S.useCallback(function(){c(r),Zp(),s&&s()},[c,r]),v=l(r),p=v?" active":"";return f(e2,{title:o,className:r+p,isActive:v,onClick:d,iconName:r,testId:i,disabled:a})},t2=C(be,{shouldForwardProp:function(e){return e!=="isActive"},target:"e13kdqxv4"})("position:absolute;height:7px;width:7px;right:2px;bottom:2px;cursor:pointer;path{fill:",function(t){var e=t.isActive;return e?"white":void 0},";}"),r2=C("div",{target:"e13kdqxv3"})({name:"k5saax",styles:"display:flex;position:relative;align-items:center;&:active{.dropdown{fill:white;}}"}),n2=C("div",{target:"e13kdqxv2"})("display:flex;position:absolute;left:",function(t){var e=t.isVertical;return e?"-34px":"5px"},";top:",function(t){var e=t.isVertical,r=t.islayoutModeButton;return e&&r?"24px":e?"38px":"0px"},";border-radius:4px;flex-direction:",function(t){var e=t.isVertical;return e?"column":"row"},";z-index:1;background-color:white;padding:2px;"),o2=C(tg,{target:"e13kdqxv1"})({name:"bjn8wh",styles:"position:relative"}),a2=C("div",{target:"e13kdqxv0"})({name:"a1qh1t",styles:"display:flex;align-items:center;position:relative;width:32px;height:32px;padding:0;justify-content:center;border-radius:2px"}),Qp=function(e){var r=e.children,n=e.vertical,o=n===void 0?!1:n,a=e.disabled,i=a===void 0?!1:a,s=e.needOpenByMenuItemClick,u=s===void 0?!1:s,l=e.testId,c=e.layoutModeButton,d=c===void 0?!1:c,v=S.useState(!1),p=j(v,2),h=p[0],m=p[1],y=Yp(),b=y.isActive,g=function(){i||m(function(L){return!L})},w=function(){h&&m(!1)},x=St.Children.map(r,function(E){return E.type===_n?E:null}),M=x.map(function(E){return E.props.itemId}).filter(function(E){return E}),A=M.filter(function(E){return b(E)}),P=A.length?A[0]:M[0],O=x.find(function(E){return E.props.itemId===P}),k=O==null?void 0:O.props.testId,_=O==null?void 0:O.props.title;return I(r2,{"data-testid":l,children:[I(a2,{children:[f(_n,{disabled:i,itemId:P,title:_,testId:k,onClick:u?g:yt}),h||f(t2,{className:"dropdown",name:"dropdown",onClick:g,isActive:b(P)})]}),f(o2,{in:h,timeout:"auto",unmountOnExit:!0,onClick:w,children:f(nv,{onClickAway:w,children:f(n2,{isVertical:o,islayoutModeButton:d,children:x.map(function(E){return E})})})})]})},i2=C("div",{target:"e1fh0ozy3"})(function(t){var e=t.theme,r=t.isHorizontal;return{backgroundColor:e.ketcher.color.background.primary,borderRadius:"4px",display:"flex",flexDirection:r?"row":"column"}},""),s2=C("hr",{target:"e1fh0ozy2"})("width:18px;margin:6px 0;align-self:center;border-width:thin 0px 0px 0px;border-style:solid;border-color:",function(t){var e=t.theme;return e.ketcher.color.divider},";"),Xp=C("hr",{target:"e1fh0ozy1"})("height:18px;margin:0px 6px;align-self:center;border-width:0px thin 0px 0px;border-style:solid;border-color:",function(t){var e=t.theme;return e.ketcher.color.divider},";"),u2=C("div",{target:"e1fh0ozy0"})(function(t){var e=t.theme,r=t.isHorizontal;return{display:"flex",flexDirection:r?"row":"column",flexWrap:"nowrap",alignItems:"center",backgroundColor:e.ketcher.color.background.primary,borderRadius:"2px",width:r?void 0:"32px",marginBottom:r?void 0:"8px","> :last-child":r?void 0:{marginBottom:0}}},""),Jp=function(e){var r=e.children,n=e.divider,o=n===void 0?!1:n,a=e.isHorizontal,i=St.Children.map(r,function(s){return s.type===_n||s.type===Qp?s:null});return I(te,{children:[f(u2,{isHorizontal:a,children:i.map(function(s){return s})}),o&&(a?f(Xp,{}):f(s2,{}))]})},oe=function(e){var r=e.children,n=e.onItemClick,o=e.activeMenuItems,a=e.testId,i=e.isHorizontal,s=St.useMemo(function(){return{isActive:function(c){return o?o.includes(c):!1},activate:function(c){n(c)}}},[o,n]),u=St.Children.map(r,function(l){return l.type===Jp?l:null});return f(Au.Provider,{value:s,children:f(i2,{"data-testid":a,isHorizontal:i,children:u.map(function(l){return l})})})};oe.Group=Jp;oe.Item=_n;oe.Submenu=Qp;var l2=function(){var e=T(ue),r=dr(),n=S.useState(r),o=j(n,2),a=o[0],i=o[1],s=T(Xe),u={isActive:function(c){return a===c},activate:function(c){c!==a&&(i(c),e.events.selectMode.dispatch(c),e.events.layoutModeChange.dispatch(c))}};return S.useEffect(function(){i(r)},[r]),f(Au.Provider,{value:u,children:I(oe.Submenu,{disabled:s,testId:"layout-mode",vertical:!0,needOpenByMenuItemClick:!0,layoutModeButton:!0,children:[f(oe.Item,{itemId:"sequence-layout-mode",testId:"sequence-layout-mode",title:"Switch to sequence layout mode"}),f(oe.Item,{itemId:"snake-layout-mode",testId:"snake-layout-mode",title:"Switch to snake layout mode"}),f(oe.Item,{itemId:"flex-layout-mode",testId:"flex-layout-mode",title:"Switch to flex layout mode"})]})})};function c2(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=d2(t))||e){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,i=!1,s;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){i=!0,s=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}}}function d2(t,e){if(t){if(typeof t=="string")return Wf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wf(t,e)}}function Wf(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f2=function(e){var r=[],n=c2(e),o;try{for(n.s();!(o=n.n()).done;){var a=o.value,i=a.node,s=a.nodeIndexOverall,u=a.isNucleosideConnectedAndSelectedWithPhosphate,l=a.hasR1Connection,c=a.twoStrandedNode,d=!!(c!=null&&c.antisenseNode);if(i instanceof kr){var v,p,h;r.push({type:nt.Nucleotide,baseLabel:i==null||(v=i.rnaBase)===null||v===void 0?void 0:v.label,sugarLabel:i==null||(p=i.sugar)===null||p===void 0?void 0:p.label,phosphateLabel:i==null||(h=i.phosphate)===null||h===void 0?void 0:h.label,hasR1Connection:l,nodeIndexOverall:s,hasAntisense:d})}else if(i instanceof Or){var m,y;r.push({type:nt.Nucleoside,baseLabel:i==null||(m=i.rnaBase)===null||m===void 0?void 0:m.label,sugarLabel:i==null||(y=i.sugar)===null||y===void 0?void 0:y.label,isNucleosideConnectedAndSelectedWithPhosphate:u,hasR1Connection:l,nodeIndexOverall:s,hasAntisense:d})}else if((i==null?void 0:i.monomer)instanceof mv){var b;r.push({type:nt.Phosphate,phosphateLabel:i==null||(b=i.monomer)===null||b===void 0?void 0:b.label,nodeIndexOverall:s,hasAntisense:d})}}}catch(g){n.e(g)}finally{n.f()}return r};function v2(t){var e=t.node;return e instanceof kr||e instanceof Or||(e==null?void 0:e.monomer)instanceof mv}var h2=function(e){for(var r="",n=e.length===1?e[0]:wt.merge.apply(void 0,[{}].concat(ye(e))),o=0,a=["sugarLabel","baseLabel","phosphateLabel"];o<a.length;o++){var i=a[o],s=wt.get(n,i,"");i==="baseLabel"?r+="(".concat(s,")"):r+=s}return r},p2=function(e){if(e!=null&&e.length){for(var r=wt.flatten(e),n=r.length,o=Mn(r),a,i=!1,s=!0,u=!1,l=!0,c=f2(r),d=0;d<c.length;d++){var v=c[d],p=c[d-1],h=v.type===nt.Nucleotide||v.type===nt.Nucleoside,m=p==null?void 0:p.isNucleosideConnectedAndSelectedWithPhosphate;h&&(i=!0),h||m?v.hasR1Connection&&(l=!1):(l=!1,s=!1),v.hasAntisense&&(u=!0)}return n>o&&(r.every(v2)||(s=!1)),n===1||o===1&&s?a=h2(c):a=s?"".concat(o," nucleotides"):"".concat(n," elements"),{title:a,selectedSequenceLabeledNodes:c,isSelectedOnlyNucleoelements:s,isSelectedAtLeastOneNucleoelement:i,isSequenceFirstsOnlyNucleoelementsSelected:l,hasAntisense:u}}};function m2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.every(function(e){return e.every(function(r){return uv(r.twoStrandedNode)})})}function Kf(t){return t==null?void 0:t.monomers.some(function(e){return e.hydrogenBonds.length!==0})}var g2=function(e){return e.map(function(r){return r.monomerItem.props.MonomerNaturalAnalogCode}).sort().join("")},Vf=function(e){var r=e.monomerItem,n=r.props.MonomerNaturalAnalogCode==="A"||r.props.MonomerNaturalAnalogCode==="C"||r.props.MonomerNaturalAnalogCode==="G"||r.props.MonomerNaturalAnalogCode==="T"||r.props.MonomerNaturalAnalogCode==="U";if(n)return!0;if(!e.monomerItem.isAmbiguous||e.subtype===Wm.MIXTURE)return!1;var o="ACGT",a="ACGU",i="CGT",s="CGU",u="AGT",l="AGU",c="ACT",d="ACU",v="GT",p="GU",h="AT",m="AU",y="CT",b="CU",g="AC",w="AG",x="CG",M="ACG",A=[o,a,i,s,u,l,c,d,v,p,h,m,y,b,g,w,x,M],P=g2(e.monomers);return A.some(function(O){return O===P})},Tn=function(e){return e==null?void 0:e.some(function(r){var n=r instanceof _r&&hn(r);return r instanceof pn&&(r.hydrogenBonds.length>0||r.covalentBonds.length>1)||zm(r)&&!Vf(r)||n&&(n.hydrogenBonds.length>0||!Vf(n))})},ve;(function(t){t.title="sequence_menu_title",t.createRnaAntisenseStrand="create_rna_antisense_strand",t.createDnaAntisenseStrand="create_dna_antisense_strand",t.modifyInRnaBuilder="modify_in_rna_builder",t.establishHydrogenBond="establish_hydrogen_bond",t.deleteHydrogenBond="delete_hydrogen_bond",t.editSequence="edit_sequence",t.startNewSequence="start_new_sequence"})(ve||(ve={}));var y2=function(e){var r,n=e.selections,o=T(ue),a=ce(),i=p2(n),s=(n==null||(r=n[0])===null||r===void 0?void 0:r.flatMap(function(h){var m=h.node;return m?[m.sugar,m.rnaBase,m.phosphate,m.monomer]:[]}).filter(function(h){return h!==void 0}))||[],u=T(Xe),l=dr()===er.sequence,c=function(m){var y=m.props;return!(y!=null&&y.sequenceItemRenderer)||!(s!=null&&s.some(function(b){return b instanceof pn&&Ji(b)||b instanceof _r&&hn(b)}))},d=[{name:ve.title,title:i==null?void 0:i.title,isMenuTitle:!0,disabled:!0,hidden:function(m){var y=m.props;return!(y!=null&&y.sequenceItemRenderer)||!(i!=null&&i.isSelectedAtLeastOneNucleoelement)}},{name:ve.createRnaAntisenseStrand,title:"Create RNA antisense strand",disabled:Tn(s),hidden:c},{name:ve.createDnaAntisenseStrand,title:"Create DNA antisense strand",disabled:Tn(s),hidden:c},{name:ve.modifyInRnaBuilder,title:"Modify in RNA Builder...",disabled:!(i!=null&&i.isSelectedOnlyNucleoelements)||i.hasAntisense,hidden:function(m){var y=m.props;return!(y!=null&&y.sequenceItemRenderer)||!(i!=null&&i.isSelectedAtLeastOneNucleoelement)}},{name:ve.editSequence,title:"Edit sequence",disabled:!1,hidden:function(m){var y=m.props;return!(y!=null&&y.sequenceItemRenderer)}},{name:ve.startNewSequence,title:"Start new sequence",disabled:!1},{name:ve.establishHydrogenBond,title:"Establish Hydrogen Bonds",disabled:function(m){var y,b=m.props;return(n==null?void 0:n.length)===0?uv(b==null||(y=b.sequenceItemRenderer)===null||y===void 0?void 0:y.twoStrandedNode):m2(n)},hidden:function(m){var y=m.props;return!(y!=null&&y.sequenceItemRenderer)}},{name:ve.deleteHydrogenBond,title:"Delete Hydrogen Bonds",disabled:function(m){var y,b=m.props;return(n==null?void 0:n.length)===0?!Kf(b==null||(y=b.sequenceItemRenderer)===null||y===void 0?void 0:y.node):!(n!=null&&n.some(function(g){return g.some(function(w){return Kf(w.node)})}))},hidden:function(m){var y=m.props;return!(y!=null&&y.sequenceItemRenderer)}}],v=function(m){var y,b=m.id,g=m.props;switch(b){case ve.modifyInRnaBuilder:o.events.turnOnSequenceEditInRNABuilderMode.dispatch(),a(Rr(jr.RNA)),a(at(!0)),a(Dr({})),a(Qt(null)),i!=null&&(y=i.selectedSequenceLabeledNodes)!==null&&y!==void 0&&y.length&&i!==null&&i!==void 0&&i.title&&(a(Gh(i==null?void 0:i.title)),a(hu(i==null?void 0:i.selectedSequenceLabeledNodes)),a(sC(i==null?void 0:i.isSequenceFirstsOnlyNucleoelementsSelected)));break;case ve.startNewSequence:o.events.startNewSequence.dispatch(g.sequenceItemRenderer);break;case ve.editSequence:o.events.editSequence.dispatch(g.sequenceItemRenderer);break;case ve.createRnaAntisenseStrand:o.events.createAntisenseChain.dispatch(!1);break;case ve.createDnaAntisenseStrand:o.events.createAntisenseChain.dispatch(!0);break;case ve.establishHydrogenBond:o.events.establishHydrogenBond.dispatch(g.sequenceItemRenderer);break;case ve.deleteHydrogenBond:{var w,x=Hm.sequenceViewModel,M=x.chainsCollection.monomerToChain,A=new Map,P=n!=null&&n.length?n.reduce(function(k,_){return[].concat(ye(k),ye(_))},[]).map(function(k){return k.twoStrandedNode}):[(w=g.sequenceItemRenderer)===null||w===void 0?void 0:w.twoStrandedNode];P.forEach(function(k){if(k.antisenseChain&&k.antisenseNode&&!(k.antisenseNode instanceof $m||k.antisenseNode instanceof sv)){A.has(k.antisenseChain)||A.set(k.antisenseChain,new Set);var _=A.get(k.antisenseChain);if(!_)return;_.add(k)}});var O=!1;A.forEach(function(k,_){var E=ye(k.values())[0],L=E.chain,H=new Set(ye(k.values()).map(function(D){return D.antisenseNode})),R=_.nodes.some(function(D){return!H.has(D)&&D.monomers.some(function(q){return q.hydrogenBonds.some(function($){var N=$.getAnotherMonomer(q),G=N&&M.get(N);return G===L})})});R||(O=!0)}),O?o.events.openConfirmationDialog.dispatch({title:"Deletion of all Hydrogen Bonds",confirmationText:"Deleting all hydrogen bonds will cause the separation of two chains. Do you wish to proceed?",onConfirm:function(){o.events.deleteHydrogenBond.dispatch(g.sequenceItemRenderer)}}):o.events.deleteHydrogenBond.dispatch(g.sequenceItemRenderer);break}}},p=document.querySelector(Ft);return p&&l&&!u?Rn.createPortal(f(Zn,{id:Ue.FOR_SEQUENCE,handleMenuChange:v,menuItems:d}),p):null},b2=C("div",{target:"e1amohl43"})("display:flex;flex-direction:column;align-items:start;gap:8px;background:",function(t){return t.theme.ketcher.color.background.primary},";border:",function(t){return t.theme.ketcher.border.regular},";border-radius:",function(t){return t.theme.ketcher.border.radius.regular},";box-shadow:",function(t){return t.theme.ketcher.shadow.regular},";"),x2=C("p",{target:"e1amohl42"})("width:calc(100% - 16px);padding:8px;color:",function(t){return t.theme.ketcher.color.text.primary},";background-color:#cceaee;font-size:",function(t){return t.theme.ketcher.font.size.regular},";font-weight:700;word-break:break-all;text-align:left;margin:0;"),C2=C(xv,{target:"e1amohl41"})({name:"156nqlv",styles:"height:100%;width:100%;padding:0 8px"}),w2=C("div",{target:"e1amohl40"})({name:"10sp49k",styles:"width:100%;display:flex;gap:8px;padding:0 8px 4px"}),Is=function(e){var r=e.monomerCaps,n=e.attachmentPointsToBonds;return S.useMemo(function(){var o=[],a=[];return r?(Object.entries(r).forEach(function(i){var s=j(i,2),u=s[0],l=s[1],c=!!(n!=null&&n[u]);c&&a.push(u);var d={id:u,label:bp(l),connected:c};o.push(d)}),{preparedAttachmentPointsData:o,connectedAttachmentPoints:a}):{preparedAttachmentPointsData:o,connectedAttachmentPoints:a}},[r,n])},S2=function(e){var r=e.idtAliases,n=e.attachmentPointsToBonds,o=e.monomerClass;return S.useMemo(function(){if(!r)return null;var a=r.base,i=r.modifications;if(n){if(!i)return a;var s=i.endpoint5,u=i.internal,l=i.endpoint3,c=n.R1,d=n.R2;if(o===rt.Phosphate&&c&&!(c instanceof Jm)&&c.firstMonomer instanceof _r)return null;if(c!==null&&d===null)return l??u;if(c===null&&d!==null)return s??u;if(c!==null&&d!==null){var v;return(v=u??s)!==null&&v!==void 0?v:l}else{var p;return(p=s??u)!==null&&p!==void 0?p:l}}if(!i)return a;var h=Object.values(i).every(function(y){return y.includes(a)});if(h)return a;var m={};return Object.values(i).forEach(function(y){var b=[y.charAt(0),y.slice(1)],g=b[0],w=b[1];m[w]=m[w]?[].concat(ye(m[w]),[g]):[g]}),Object.entries(m).map(function(y){var b=j(y,2),g=b[0],w=b[1];return"(".concat(w.join(", "),")").concat(g)}).join(", ")},[r,n,o])},M2=C("div",{target:"e112ss7f3"})({name:"1m2mukt",styles:"flex:1;display:flex;align-items:center;flex-wrap:wrap;gap:8px;font-size:12px;line-height:14px"}),A2=C("div",{target:"e112ss7f2"})("display:flex;align-items:center;gap:2px;border-radius:4px;background-color:",function(t){var e=t.connected;return e?"#E1E5EA":"transparent"},";padding:",function(t){var e=t.connected;return e?"4px":"0"},";color:",function(t){var e=t.connected;return e?"#8A8B8E":"inherit"},";"),I2=C("span",{target:"e112ss7f1"})({name:"f3vz0n",styles:"font-weight:500"}),E2=C("span",{target:"e112ss7f0"})({name:"16ceglb",styles:"font-weight:600"}),P2=S.memo(function(t){var e=t.preparedAttachmentPointsData;return e.length?f(M2,{children:e.map(function(r){var n=r.id,o=r.connected,a=r.label;return I(A2,{connected:o,children:[I(I2,{children:[n,!o&&":"]}),!o&&f(E2,{children:a})]},n)})}):null}),k2=C("span",{target:"e1v1msbx3"})("max-width:",function(t){var e=t.preset;return e?"100%":"50%"},";display:flex;align-items:center;font-size:",function(t){return t.theme.ketcher.font.size.regular},";font-weight:500;line-height:normal;color:",function(t){return t.theme.ketcher.color.text.lightgrey},";padding-left:",function(t){var e=t.preset;return e?"0":"8px"},";border-left:",function(t){var e=t.preset;return e?"none":"1px solid #D9DCEA"},";"),O2=C("p",{target:"e1v1msbx2"})({name:"ti75j2",styles:"margin:0"}),_2=C("span",{target:"e1v1msbx1"})({name:"1b7n4tc",styles:"color:#7c7c7c"}),T2=C("span",{target:"e1v1msbx0"})({name:"dtvj5",styles:"color:#585858;text-wrap:wrap"}),em=S.memo(function(t){var e=t.idtAliasesText,r=t.preset;return f(k2,{preset:r,children:I(O2,{children:[f(_2,{children:"IDT: "}),f(T2,{children:e})]})})}),N2=function(e){var r,n=e.className,o=T(Wr),a=o.monomer,i=o.attachmentPointsToBonds,s=a==null?void 0:a.props.idtAliases,u=Is({monomerCaps:a==null?void 0:a.props.MonomerCaps,attachmentPointsToBonds:i}),l=u.preparedAttachmentPointsData,c=u.connectedAttachmentPoints,d=S2({idtAliases:s,attachmentPointsToBonds:i,monomerClass:a==null?void 0:a.props.MonomerClass});if(!a)return null;var v=a.props.unresolved,p=v?a.label:(r=a.struct)===null||r===void 0?void 0:r.name;return(a.struct||v)&&I(b2,{className:n,"data-testid":"polymer-library-preview",children:[p&&f(x2,{children:p}),v?f(xp,{}):f(C2,{struct:a.struct,options:{connectedMonomerAttachmentPoints:c,usageInMacromolecule:yn.MonomerPreview,labelInPreview:!0,needCache:!1}}),I(w2,{children:[f(P2,{preparedAttachmentPointsData:l}),d&&f(em,{idtAliasesText:d})]})]})},j2=C(N2,{target:"e86yc5p0"})("width:",mn.width+"px",";height:",mn.height+"px",";"),R2=C("div",{target:"ec5fs975"})("display:flex;flex-direction:column;align-items:center;gap:8px;padding:8px;background:",function(t){return t.theme.ketcher.color.background.primary},";border:",function(t){return t.theme.ketcher.border.regular},";border-radius:",function(t){return t.theme.ketcher.border.radius.regular},";box-shadow:",function(t){return t.theme.ketcher.shadow.regular},";"),L2=C("div",{target:"ec5fs974"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),D2=C("div",{target:"ec5fs973"})("font-size:",function(t){return t.theme.ketcher.font.size.regular},";line-height:",function(t){return t.theme.ketcher.font.size.regular},";font-weight:600;padding-right:2px;"),F2=C("div",{target:"ec5fs972"})("color:",function(t){return t.theme.ketcher.color.text.lightgrey},";font-size:",function(t){return t.theme.ketcher.font.size.regular},";font-weight:400;white-space:nowrap;"),q2=C("p",{target:"ec5fs971"})("color:",function(t){return t.theme.ketcher.color.text.primary},";font-size:",function(t){return t.theme.ketcher.font.size.regular},";font-weight:700;word-break:break-all;text-align:center;margin-top:0;margin-bottom:8px;"),B2=C(be,{target:"ec5fs970"})("color:",function(t){return t.theme.ketcher.color.icon.grey},";padding-right:",function(t){return t.name==="sugar"?"4px":t.name==="phosphate"?"1px":0},";padding-left:",function(t){return t.name==="base"?"2px":t.name==="phosphate"?"1px":0},";stroke:",function(t){return t.theme.ketcher.color.icon.grey},";height:",function(t){return t.name==="sugar"?"12px":"14px"},";width:",function(t){return t.name==="sugar"?"12px":"14px"},";"),z2=function(e){var r=e.presetName,n=e.position,o=e.idtAliases;return S.useMemo(function(){if(!r||!o)return null;if(r.includes("MOE")){var a,i,s,u=o.base,l=o.modifications,c=(a=l==null?void 0:l.endpoint5)!==null&&a!==void 0?a:"5".concat(u),d=(i=l==null?void 0:l.internal)!==null&&i!==void 0?i:"i".concat(u),v=(s=l==null?void 0:l.endpoint3)!==null&&s!==void 0?s:"3".concat(u);switch(n){case He.Library:return"".concat(c,", ").concat(d);case He.ChainStart:return c;case He.ChainMiddle:return d;case He.ChainEnd:return v}}return o.base},[r,n,o])},H2=["sugar","base","phosphate"],$2=function(e){var r=e.className,n=T(Wr),o=n.monomers,a=n.name,i=n.position,s=n.idtAliases,u=j(o,2),l=u[1],c=a??(l==null?void 0:l.props.Name),d=z2({presetName:c,position:i,idtAliases:s});return I(R2,{className:r,style:{alignItems:"flex-start"},"data-testid":"polymer-library-preview",children:[f(q2,{children:c}),o.map(function(v,p){return v&&I(L2,{children:[f(B2,{name:H2[p]}),f(D2,{children:v.label}),I(F2,{children:["(",v.props.Name,")"]})]},p)}),d&&f(em,{idtAliasesText:d,preset:!0})]})},U2=C($2,{target:"e1wupxfd0"})(""),Yf=C("div",{target:"envzkt90"})("display:flex;flex-direction:column;align-items:start;gap:8px;background:",function(t){return t.theme.ketcher.color.background.primary},";border:",function(t){return t.theme.ketcher.border.regular},";border-radius:",function(t){return t.theme.ketcher.border.radius.regular},";box-shadow:",function(t){return t.theme.ketcher.shadow.regular},";"),G2=C("div",{target:"e1m0yzrp2"})(function(t){var e=t.connected,r=t.inBond,n=t.theme;return{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",color:r||!e?n.ketcher.color.text.primary:"#B4B9D6"}},""),W2=C("p",{target:"e1m0yzrp1"})(function(t){var e=t.theme;return{margin:0,fontSize:e.ketcher.font.size.small,lineHeight:"12px"}},""),K2=C("p",{target:"e1m0yzrp0"})(function(t){var e=t.inBond,r=t.theme;return{margin:0,padding:"4px",fontWeight:r.ketcher.font.weight.bold,lineHeight:"14px",borderRadius:"4px",backgroundColor:e?"#CDF1FC":"transparent"}},""),Zf=function(e){var r=e.attachmentPoints,n=e.attachmentPointInBond;return f(te,{children:r.map(function(o){return I(G2,{connected:o.connected,inBond:o.id===n,children:[f(W2,{children:o.id}),f(K2,{inBond:o.id===n,children:o.label})]},o.id)})})},V2=function(e){var r=e.className,n=T(Wr),o=n.polymerBond,a=n.style,i=S.useMemo(function(){return a?C(Yf,{target:"e18hk05c1"})("top:",(a==null?void 0:a.top)||"",";left:",(a==null?void 0:a.left)||"",";right:",(a==null?void 0:a.right)||"",";"):C(Yf,{target:"e18hk05c2"})("")},[a]),s=o.firstMonomer,u=o.secondMonomer,l=o.firstMonomerAttachmentPoint,c=o.secondMonomerAttachmentPoint,d=Is({monomerCaps:s.monomerCaps,attachmentPointsToBonds:s.attachmentPointsToBonds}),v=d.preparedAttachmentPointsData,p=d.connectedAttachmentPoints,h=Is({monomerCaps:u==null?void 0:u.monomerCaps,attachmentPointsToBonds:u==null?void 0:u.attachmentPointsToBonds}),m=h.preparedAttachmentPointsData,y=h.connectedAttachmentPoints;return!s||!u?null:f(i,{className:r,"data-testid":"polymer-library-preview",children:f(Kp,{firstMonomer:s,secondMonomer:u,firstMonomerOverview:f(As,{monomer:s,usage:yn.BondPreview,connectedAttachmentPoints:p,selectedAttachmentPoint:l,attachmentPoints:f(Zf,{attachmentPoints:v,attachmentPointInBond:l})}),secondMonomerOverview:f(As,{monomer:u,usage:yn.BondPreview,connectedAttachmentPoints:y,selectedAttachmentPoint:c,attachmentPoints:f(Zf,{attachmentPoints:m,attachmentPointInBond:c})})})})},Y2=C(V2,{target:"e18hk05c0"})("width:",mn.widthForBond,"px;height:",mn.heightForBond,"px;");function Qf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Z2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qf(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qf(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Q2=C("div",{target:"e88xzqx0"})(function(){return{display:"inline-block",position:"absolute",background:"white"}},""),X2=function(){var e=T(Wr),r=S.useRef(null),n=S.useState(!1),o=j(n,2),a=o[0],i=o[1];return S.useEffect(function(){if(!(!r.current||e.style))if(e&&e.type){var s,u,l;r.current.setAttribute("style",""),i(!0);var c=5,d=(s=r.current)===null||s===void 0?void 0:s.getBoundingClientRect(),v=(d==null?void 0:d.height)||0,p=(d==null?void 0:d.width)||0,h=(u=ge.instance)===null||u===void 0||(u=u.canvasWrapper.node())===null||u===void 0?void 0:u.getBoundingClientRect(),m=(h==null?void 0:h.bottom)||0,y=(h==null?void 0:h.left)||0,b=(h==null?void 0:h.right)||0,g=(l=e.target)===null||l===void 0?void 0:l.getBoundingClientRect(),w=(g==null?void 0:g.top)||0,x=(g==null?void 0:g.bottom)||0,M=(g==null?void 0:g.left)||0,A=(g==null?void 0:g.width)||0,P=M-A/2,O=w-v-c,k=x+c,_=M+A/2-p/2;if(w>v+c||x+v>m&&x>m/2?r.current.style.top="".concat(O,"px"):r.current.style.top="".concat(k,"px"),P>p/2&&P+p/2<b)r.current.style.left="".concat(_,"px");else if(P<p/2)r.current.style.left="".concat(y,"px");else{var E=10;r.current.style.left="".concat(b-p-E,"px")}}else a&&(i(!1),r.current.setAttribute("style",""))},[e]),e?I(Q2,{ref:r,style:Z2({},e==null?void 0:e.style),children:[e.type===pe.Monomer&&f(j2,{}),e.type===pe.Preset&&f(U2,{}),e.type===pe.Bond&&f(Y2,{}),e.type===pe.AmbiguousMonomer&&f(Nm,{preview:e})]}):null},Yi=C(_s,{target:"e1brfei30"})(function(t){var e=t.theme,r=t.variant;return{color:r==="outlined"?e.ketcher.color.text.primary:e.ketcher.color.button.text.primary,boxShadow:"none",transition:"none",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"4px 8px",border:r==="outlined"?e.ketcher.outline.small:"none",background:r==="outlined"?e.ketcher.color.background.primary:e.ketcher.color.button.group.active,borderRadius:e.ketcher.border.radius.regular,textTransform:"none",fontSize:e.ketcher.font.size.regular,fontWeight:e.ketcher.font.weight.regular,":hover":{color:r==="outlined"?e.ketcher.color.text.dark:e.ketcher.color.button.text.primary,background:r==="outlined"?e.ketcher.color.background.primary:e.ketcher.color.button.group.hover,boxShadow:"none"},":disabled":{cursor:"auto",background:"#e1e5ea",outline:"none"}}},""),J2=function(){var e=T(ue),r=S.useState(e==null?void 0:e.events.changeSequenceTypeEnterMode),n=j(r,2),o=n[0],a=n[1],i=S.useState(!1),s=j(i,2),u=s[0],l=s[1],c=T(Xe),d=dr(),v=!!c,p=ce(),h=function(b){var g=Dm(b)==="object"?b.mode:b;l(g==="sequence-layout-mode")};S.useEffect(function(){return e==null||e.events.selectMode.add(h),e==null||e.events.changeSequenceTypeEnterMode.add(function(y){p(Rr(y===Er.PEPTIDE?jr.PEPTIDES:jr.RNA)),a(y)}),e==null||e.events.changeSequenceTypeEnterMode.dispatch(Be.RNA),function(){e==null||e.events.selectMode.remove(h)}},[e]),S.useEffect(function(){h(d)},[d]);var m=function(b){e.events.changeSequenceTypeEnterMode.dispatch(b)};return u?f(te,{children:f(Sv,{sx:{mr:1,ml:1},children:I(Ng,{disabled:v,children:[f(Yi,{"data-testid":"".concat(Be.RNA,"Btn"),title:"RNA (Ctrl+Alt+R)",variant:o===Be.RNA?"contained":"outlined",onClick:function(){return m(Be.RNA)},children:"RNA"}),f(Yi,{"data-testid":"".concat(Be.DNA,"Btn"),title:"DNA (Ctrl+Alt+D)",variant:o===Be.DNA?"contained":"outlined",onClick:function(){return m(Be.DNA)},children:"DNA"}),f(Yi,{"data-testid":"".concat(Be.PEPTIDE,"Btn"),title:"Peptides (Ctrl+Alt+P)",variant:o===Be.PEPTIDE?"contained":"outlined",onClick:function(){return m(Be.PEPTIDE)},children:"PEP"})]})})}):null},Zi=ks(Os);function e3(){var t=ce(),e=T(Kn),r=T(ue),n=T(Xe),o=[e],a=n,i=function(u){Vp[u]?t(Zt(u)):u==="undo"||u==="redo"?r.events.selectHistory.dispatch(u):u==="clear"&&(r.events.selectTool.dispatch([u]),t(ht("select-rectangle")),r.events.selectTool.dispatch(["select-rectangle"]),n&&Sn(t,r))};return I(oe,{onItemClick:i,activeMenuItems:o,isHorizontal:!0,children:[I(oe.Group,{isHorizontal:!0,divider:!0,children:[f(oe.Item,{itemId:"clear",title:"Clear Canvas (".concat(Zi.clear,")"),testId:"clear-canvas"}),f(oe.Item,{itemId:"open",title:"Open...",disabled:a,testId:"open-button"}),f(oe.Item,{itemId:"save",title:"Save as...",testId:"save-button"})]}),I(oe.Group,{isHorizontal:!0,children:[f(oe.Item,{itemId:"undo",title:"Undo (".concat(Zi.undo,")"),disabled:a,testId:"undo"}),f(oe.Item,{itemId:"redo",title:"Redo (".concat(Zi.redo,")"),disabled:a,testId:"redo"})]})]})}var t3=ks(Os);function r3(){var t=T(Kn),e=T(ue),r=dr()===er.sequence,n=[t],o=function(i){e.events.selectTool.dispatch([i,{toolName:i}])};return I(oe,{testId:"left-toolbar",onItemClick:o,activeMenuItems:n,children:[I(oe.Group,{divider:!0,children:[f(oe.Item,{itemId:"hand",title:"Hand Tool",testId:"hand-tool"}),f(oe.Item,{itemId:"select-rectangle",title:"Select Rectangle",testId:"select-rectangle"}),f(oe.Item,{itemId:"erase",title:"Erase (".concat(t3.erase,")"),testId:"erase",disabled:r})]}),f(oe.Group,{children:I(oe.Submenu,{disabled:r,testId:"bond-tool-submenu",needOpenByMenuItemClick:!1,children:[f(oe.Item,{itemId:"bond-single",title:"Single Bond (1)",testId:"single-bond",disabled:r}),f(oe.Item,{itemId:"bond-hydrogen",title:"Hydrogen Bond (2)",testId:"hydrogen-bond",disabled:r})]})})]})}var n3=C("div",{target:"e1aw4j3q7"})({name:"bjn8wh",styles:"position:relative"}),o3=C(_s,{target:"e1aw4j3q6"})("display:flex;color:",function(t){var e=t.theme;return e.ketcher.color.dropdown.primary},";padding-right:0;padding-left:0;& svg{margin-left:2px;width:1rem;height:1rem;}"),a3=C("span",{target:"e1aw4j3q5"})({name:"td41hq",styles:"width:35px"}),i3=C(Fm,{target:"e1aw4j3q4"})("& .MuiPopover-paper{padding:8px;width:175px;border:none;border-radius:0px 0px 4px 4px;box-shadow:",function(t){var e=t.theme;return e.ketcher.shadow.regular},";box-sizing:border-box;}"),s3=C("div",{target:"e1aw4j3q3"})({name:"5s1n17",styles:"display:flex;flex-direction:column;white-space:nowrap;word-break:keep-all;background:white"}),Qi=C(_s,{target:"e1aw4j3q2"})("display:flex;justify-content:space-between;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.regular},";line-height:14px;padding:7px 8px;text-transform:none;color:",function(t){var e=t.theme;return e.ketcher.color.dropdown.primary},";"),Xi=C("span",{target:"e1aw4j3q1"})({name:"btyqtq",styles:"color:#cad3dd"}),u3=C("input",{target:"e1aw4j3q0"})("border:1px solid #cad3dd;border-radius:4px;padding:3px 8px;color:",function(t){var e=t.theme;return e.ketcher.color.text.light},";font-size:",function(t){var e=t.theme;return e.ketcher.font.size.medium},";line-height:16px;margin-bottom:8px;&:hover{border-color:",function(t){var e=t.theme;return e.ketcher.color.input.border.hover},";}&:active,&:focus{border-color:",function(t){var e=t.theme;return e.ketcher.outline.selected.color},";outline:none;}&::after,&::before{display:none;}"),Jt=ks(Os),l3=function(e){var r=parseInt(e||"");return isNaN(r)?0:r},c3=function(e,r){if(e===0)return r;var n=ge.instance.MINZOOMSCALE*100,o=ge.instance.MAXZOOMSCALE*100;return e<n?n:e>o?o:e},Es=function(e,r){r&&(r.value="".concat(Math.round(e),"%"))},d3=function(e){var r=e.onZoomSubmit,n=e.currentZoom,o=e.inputRef,a=S.useCallback(function(s){var u=o.current;if(u){var l=[Jt["zoom-out"],Jt["zoom-in"]];l.includes(s.key)||s.nativeEvent.stopImmediatePropagation(),s.key==="Enter"&&(r(),u.select())}},[r,o,Jt]),i=function(u){var l=u.target;l.select()};return S.useEffect(function(){var s=o.current;Es(n,s),document.activeElement===s&&(s==null||s.select())},[n,o]),S.useEffect(function(){var s=o.current;s==null||s.focus(),s==null||s.select()},[o]),f(u3,{ref:o,"data-testid":"zoom-value",onFocus:i,onKeyDown:a})},f3=function(){var e=S.useState(!1),r=j(e,2),n=r[0],o=r[1],a=S.useState(100),i=j(a,2),s=i[0],u=i[1],l=S.useRef(null),c=S.useRef(null);S.useEffect(function(){var b;ge===null||ge===void 0||(b=ge.instance)===null||b===void 0||b.subscribeOnZoomEvent(function(){var g;u(Math.round((ge===null||ge===void 0||(g=ge.instance)===null||g===void 0?void 0:g.getZoomLevel())*100))})},[ge===null||ge===void 0?void 0:ge.instance]);var d=S.useCallback(function(){var b=c.current;if(b){var g=l3(b.value);if(g&&g!==s){var w=c3(g,s);Es(w,b),ge.instance.zoomTo(w/100)}else Es(s,b)}},[s]),v=function(){o(!1)},p=function(){o(!0)},h=function(){ge.instance.zoomIn()},m=function(){ge.instance.zoomOut()},y=function(){ge.instance.resetZoom()};return I(n3,{ref:l,children:[I(o3,{onClick:p,"data-testid":"zoom-selector",children:[I(a3,{"data-testid":"zoom-input",children:[s,"%"]}),f(be,{name:"chevron"})]}),f(i3,{open:n,onClose:v,anchorEl:l.current,container:document.querySelector(Ft),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:I(s3,{children:[f(d3,{onZoomSubmit:d,inputRef:c,currentZoom:s}),I(Qi,{"data-testid":"zoom-out-button",title:"Zoom Out",onClick:m,children:[f("span",{children:"Zoom out"}),f(Xi,{children:Jt["zoom-minus"]})]}),I(Qi,{"data-testid":"zoom-in-button",title:"Zoom In",onClick:h,children:[f("span",{children:"Zoom in"}),f(Xi,{children:Jt["zoom-plus"]})]}),I(Qi,{"data-testid":"reset-zoom-button",title:"Zoom 100%",onClick:y,children:[f("span",{children:"Zoom 100%"}),f(Xi,{children:Jt["zoom-reset"]})]})]})})]})},v3=function(){var e=T(ue),r=[{name:"edit_connection_points",title:"Edit Connection Points...",disabled:!1,hidden:function(i){var s=i.props;return!(s!=null&&s.polymerBondRenderer)}}],n=function(i){var s=i.id,u=i.props;switch(s){case"edit_connection_points":{var l=u.polymerBondRenderer.polymerBond;e.events.openMonomerConnectionModal.dispatch({firstMonomer:l.firstMonomer,secondMonomer:l.secondMonomer,polymerBond:l,isReconnectionDialog:!0}),e.events.startNewSequence.dispatch(u.sequenceItemRenderer);break}}},o=document.querySelector(Ft);return o?Rn.createPortal(f(Zn,{id:Ue.FOR_POLYMER_BOND,handleMenuChange:n,menuItems:r}),o):null};function Xf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function h3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xf(Object(r),!0).forEach(function(n){W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xf(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var p3=[Ru.bondSingle,Ru.selectRectangle],m3=function(){var e=T(ue),r=T(Kn),n=ce(),o=T(Yn),a=T(Eh),i=S.useCallback(function(){n(cs(e==null?void 0:e.monomersLibrary))},[e]);S.useEffect(function(){return e==null||e.events.updateMonomersLibrary.add(i),function(){e==null||e.events.updateMonomersLibrary.remove(i)}},[e]),S.useEffect(function(){var v=function(h){var m=j(h,1),y=m[0];y!==r&&n(ht(y))};return e&&(e.events.error.add(function(p){n(Dd(p))}),e.events.openErrorModal.add(function(p){n(Lr(p))}),n(ht("select-rectangle")),e.events.selectTool.dispatch(["select-rectangle"]),e.events.openMonomerConnectionModal.add(function(p){return n(Zt({name:"monomerConnection",additionalProps:p}))}),e.events.openConfirmationDialog.add(function(p){return n(Zt({name:"confirmationDialog",additionalProps:p}))}),e.events.selectTool.add(v)),function(){n(ht(null)),e==null||e.events.selectTool.remove(v)}},[e]);var s=S.useCallback(function(v){return n(rr(v))},[n]),u=S.useCallback(wt.debounce(function(v){return s(v)},500),[s]);S.useEffect(function(){var v=function(h){var m=j(h,1),y=m[0];y!==r&&n(ht(y))};return e&&(e.events.error.add(function(p){n(Dd(p))}),e.events.openErrorModal.add(function(p){n(Lr(p))}),n(ht("select-rectangle")),e.events.selectTool.dispatch(["select-rectangle"]),e.events.openMonomerConnectionModal.add(function(p){return n(Zt({name:"monomerConnection",additionalProps:p}))}),e.events.selectTool.add(v)),function(){n(ht(null)),e==null||e.events.selectTool.remove(v)}},[e]);var l=S.useCallback(function(v,p){var h={type:pe.Bond,polymerBond:v,style:p};u(h)},[u]),c=S.useCallback(function(v){var p,h,m,y=(p=v.target.__data__)===null||p===void 0?void 0:p.polymerBond;if(!(y&&!y.finished||y instanceof _m)){if(y){var b=Tm(y,v.target.getBoundingClientRect());l(y,b);return}var g=(h=v.target.__data__)===null||h===void 0?void 0:h.node,w=((m=v.target.__data__)===null||m===void 0?void 0:m.monomer)||(g==null?void 0:g.monomer);if(!(g&&g instanceof sv)){if(w instanceof Mt){var x={type:pe.AmbiguousMonomer,monomer:w.variantMonomerItem,target:v.target};u(x);return}var M=w.monomerItem,A=h3({},w.attachmentPointsToBonds),P=g instanceof kr||g instanceof Or;if(P){var O,k=g instanceof kr?[g.sugar.monomerItem,g.rnaBase.monomerItem,(O=g.phosphate)===null||O===void 0?void 0:O.monomerItem]:[g.sugar.monomerItem,g.rnaBase.monomerItem];if(g.rnaBase instanceof Mt){var _={type:pe.AmbiguousMonomer,monomer:g.rnaBase.variantMonomerItem,presetMonomers:k,target:v.target};u(_);return}var E=o.find(function(D){var q=[D.sugar,D.base,D.phosphate];return k.every(function($,N){var G;return($==null?void 0:$.props.Name)===((G=q[N])===null||G===void 0?void 0:G.props.Name)})}),L;g instanceof Or?L=He.ChainEnd:g.firstMonomerInNode.R1AttachmentPoint!==void 0?L=He.ChainStart:L=He.ChainMiddle;var H={type:pe.Preset,monomers:k,name:E==null?void 0:E.name,idtAliases:E==null?void 0:E.idtAliases,position:L,target:v.target};u(H);return}var R={type:pe.Monomer,monomer:M,attachmentPointsToBonds:A,target:v.target};u(R)}}},[l,u,o]),d=S.useCallback(function(){u.cancel(),n(rr(void 0))},[u,n]);return S.useEffect(function(){e==null||e.events.mouseOverMonomer.add(c),e==null||e.events.mouseLeaveMonomer.add(d),e==null||e.events.mouseOverSequenceItem.add(c),e==null||e.events.mouseLeaveSequenceItem.add(d),e==null||e.events.mouseOverPolymerBond.add(c),e==null||e.events.mouseLeavePolymerBond.add(d);var v=function(h){d();var m=h.buttons===1;(!m||!p3.includes(r))&&c(h)};return e==null||e.events.mouseOnMoveMonomer.add(v),e==null||e.events.mouseOnMoveSequenceItem.add(v),e==null||e.events.mouseOnMovePolymerBond.add(v),function(){e==null||e.events.mouseOverMonomer.remove(c),e==null||e.events.mouseLeaveMonomer.remove(d),e==null||e.events.mouseOnMoveMonomer.remove(v),e==null||e.events.mouseOnMoveSequenceItem.remove(v),e==null||e.events.mouseOnMovePolymerBond.remove(v),e==null||e.events.mouseOverSequenceItem.remove(c),e==null||e.events.mouseLeaveSequenceItem.remove(d),e==null||e.events.mouseOverPolymerBond.remove(c),e==null||e.events.mouseLeavePolymerBond.remove(d)}},[e,r,c,d]),S.useEffect(function(){a||e==null||e.events.resetSequenceEditMode.dispatch()},[a]),f(te,{})},g3=function(e){var r=e.selectedMonomers,n=T(ue),o=[{name:"copy",title:"Copy"},{name:"create_antisense_rna_chain",title:"Create Antisense RNA Strand",separator:!1,disabled:Tn(r),hidden:function(u){var l,c=u.props;return!(c!=null&&(l=c.selectedMonomers)!==null&&l!==void 0&&l.some(function(d){return d instanceof pn&&Ji(d)||d instanceof _r&&hn(d)}))}},{name:"create_antisense_dna_chain",title:"Create Antisense DNA Strand",separator:!0,disabled:Tn(r),hidden:function(u){var l,c=u.props;return!(c!=null&&(l=c.selectedMonomers)!==null&&l!==void 0&&l.some(function(d){return d instanceof pn&&Ji(d)||d instanceof _r&&hn(d)}))}},{name:"delete",title:"Delete"}],a=function(u){var l=u.id;switch(l){case"copy":n.events.copySelectedStructure.dispatch();break;case"create_antisense_rna_chain":n.events.createAntisenseChain.dispatch(!1);break;case"create_antisense_dna_chain":n.events.createAntisenseChain.dispatch(!0);break;case"delete":n.events.deleteSelectedStructure.dispatch();break}},i=document.querySelector(Ft);return i&&Rn.createPortal(f(Zn,{id:Ue.FOR_SELECTED_MONOMERS,handleMenuChange:a,menuItems:o}),i)},y3=C(Ln,{target:"e1846tr80"})(function(t){var e=t.theme,r=t.isActive;return{width:"40px",height:"31px",backgroundColor:r?e.ketcher.color.button.group.active:"white",marginRight:"8px",border:r?e.ketcher.outline.selected.color:e.ketcher.outline.small,borderRadius:"4px",outline:"none",":hover":{backgroundColor:r?e.ketcher.color.button.group.hover:"white"},":hover svg":{fill:r?"white":e.ketcher.color.button.group.active}}},""),b3=function(){var e=T(ue),r=S.useState(!0),n=j(r,2),o=n[0],a=n[1],i=dr(),s=i===er.sequence,u=T(Eh),l=function(){var d=!o;a(d),e.events.toggleIsSequenceSyncEditMode.dispatch(d),Zp()};return S.useEffect(function(){s&&u&&e.events.toggleIsSequenceSyncEditMode.dispatch(o)},[s,u]),s&&u?f(te,{children:f(y3,{isActive:o,onClick:l,children:I("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:o?"white":"#333333",children:[f("rect",{x:"1",y:"1.5",width:"22",height:"2",rx:"1"}),f("rect",{x:"2.5",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 2.5 1.5)"}),f("rect",{x:"9.33333",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 9.33333 1.5)"}),f("rect",{x:"16.1667",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 16.1667 1.5)"}),f("rect",{x:"23",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 23 1.5)"}),f("path",{d:"M2.16873 14.2715C2.08963 14.3652 2.02518 14.4253 1.97537 14.4517C1.9285 14.478 1.8699 14.4912 1.79959 14.4912C1.66189 14.4912 1.55057 14.4458 1.46561 14.355C1.38357 14.2612 1.34256 14.1074 1.34256 13.8936V13.2871C1.34256 13.0703 1.38357 12.9165 1.46561 12.8257C1.55057 12.7319 1.66189 12.6851 1.79959 12.6851C1.90506 12.6851 1.99295 12.7129 2.06326 12.7686C2.1365 12.8242 2.19217 12.918 2.23025 13.0498C2.26834 13.1787 2.30789 13.2666 2.34891 13.3135C2.43387 13.4043 2.58475 13.4966 2.80154 13.5903C3.01834 13.6841 3.25564 13.731 3.51346 13.731C3.91482 13.731 4.24441 13.6372 4.50223 13.4497C4.66629 13.3354 4.74832 13.1948 4.74832 13.0278C4.74832 12.9165 4.70877 12.8125 4.62967 12.7158C4.55057 12.6162 4.42166 12.5342 4.24295 12.4697C4.12576 12.4258 3.86355 12.3657 3.45633 12.2896C2.96414 12.1987 2.59207 12.0889 2.34012 11.96C2.08816 11.8311 1.88895 11.6494 1.74246 11.415C1.59598 11.1807 1.52273 10.9272 1.52273 10.6548C1.52273 10.2241 1.70291 9.84766 2.06326 9.52539C2.42361 9.2002 2.89236 9.0376 3.46951 9.0376C3.70096 9.0376 3.91482 9.06396 4.11111 9.1167C4.31033 9.1665 4.49051 9.24414 4.65164 9.34961C4.76883 9.23535 4.88602 9.17822 5.0032 9.17822C5.13504 9.17822 5.24197 9.2251 5.324 9.31885C5.40897 9.40967 5.45145 9.56201 5.45145 9.77588V10.4526C5.45145 10.6694 5.40897 10.8247 5.324 10.9185C5.24197 11.0093 5.13504 11.0547 5.0032 11.0547C4.89188 11.0547 4.7952 11.021 4.71316 10.9536C4.64871 10.9038 4.60037 10.8042 4.56814 10.6548C4.53592 10.5054 4.4949 10.3984 4.4451 10.334C4.36014 10.2227 4.2327 10.1289 4.06277 10.0527C3.89285 9.97656 3.69656 9.93848 3.47391 9.93848C3.14871 9.93848 2.8909 10.0146 2.70047 10.167C2.51297 10.3164 2.41922 10.4731 2.41922 10.6372C2.41922 10.7485 2.4573 10.8569 2.53348 10.9624C2.61258 11.0649 2.72684 11.1455 2.87625 11.2041C2.97586 11.2451 3.25564 11.311 3.71561 11.4019C4.1785 11.4927 4.53299 11.5923 4.77908 11.7007C5.02811 11.8091 5.23465 11.979 5.39871 12.2104C5.56277 12.4419 5.6448 12.7173 5.6448 13.0366C5.6448 13.4819 5.48807 13.8379 5.17459 14.1045C4.75857 14.4561 4.2283 14.6318 3.58377 14.6318C3.33475 14.6318 3.09158 14.6011 2.85428 14.5396C2.6199 14.481 2.39139 14.3916 2.16873 14.2715ZM9.615 12.2632V13.5991H10.2214C10.4382 13.5991 10.5921 13.6416 10.6829 13.7266C10.7766 13.8086 10.8235 13.917 10.8235 14.0518C10.8235 14.1836 10.7766 14.292 10.6829 14.377C10.5921 14.459 10.4382 14.5 10.2214 14.5H8.10768C7.89381 14.5 7.74 14.459 7.64625 14.377C7.55543 14.292 7.51002 14.1821 7.51002 14.0474C7.51002 13.9155 7.55543 13.8086 7.64625 13.7266C7.74 13.6416 7.89381 13.5991 8.10768 13.5991H8.71412V12.2632L7.22438 10.0747C7.02516 10.0747 6.87867 10.0322 6.78492 9.94727C6.6941 9.8623 6.64869 9.75391 6.64869 9.62207C6.64869 9.4873 6.6941 9.37891 6.78492 9.29688C6.87867 9.21191 7.03395 9.16943 7.25074 9.16943L8.06813 9.17383C8.28492 9.17383 8.43873 9.21484 8.52955 9.29688C8.6233 9.37891 8.67018 9.4873 8.67018 9.62207C8.67018 9.82422 8.55152 9.9751 8.31422 10.0747L9.16676 11.3315L10.0017 10.0747C9.86988 10.0249 9.77613 9.96191 9.72047 9.88574C9.6648 9.80957 9.63697 9.72168 9.63697 9.62207C9.63697 9.4873 9.68238 9.37891 9.7732 9.29688C9.86695 9.21484 10.0222 9.17236 10.239 9.16943L11.0872 9.17383C11.304 9.17383 11.4578 9.21484 11.5486 9.29688C11.6423 9.37891 11.6892 9.4873 11.6892 9.62207C11.6892 9.75684 11.6423 9.8667 11.5486 9.95166C11.4548 10.0337 11.3025 10.0747 11.0916 10.0747L9.615 12.2632ZM13.7082 10.8745V13.5991H14.0334C14.2502 13.5991 14.404 13.6416 14.4949 13.7266C14.5886 13.8086 14.6355 13.917 14.6355 14.0518C14.6355 14.1836 14.5886 14.292 14.4949 14.377C14.404 14.459 14.2502 14.5 14.0334 14.5H12.8513C12.6345 14.5 12.4792 14.459 12.3855 14.377C12.2947 14.292 12.2493 14.1821 12.2493 14.0474C12.2493 13.9185 12.2947 13.8115 12.3855 13.7266C12.4763 13.6416 12.6169 13.5991 12.8074 13.5991V10.0747H12.6667C12.4499 10.0747 12.2947 10.0337 12.2009 9.95166C12.1101 9.8667 12.0647 9.75684 12.0647 9.62207C12.0647 9.4873 12.1101 9.37891 12.2009 9.29688C12.2947 9.21191 12.4499 9.16943 12.6667 9.16943L13.7082 9.17383L16.011 12.7861V10.0747H15.6858C15.469 10.0747 15.3137 10.0337 15.22 9.95166C15.1291 9.8667 15.0837 9.75684 15.0837 9.62207C15.0837 9.4873 15.1291 9.37891 15.22 9.29688C15.3137 9.21191 15.469 9.16943 15.6858 9.16943L16.8679 9.17383C17.0847 9.17383 17.2385 9.21484 17.3293 9.29688C17.4231 9.37891 17.47 9.4873 17.47 9.62207C17.47 9.75391 17.4246 9.8623 17.3337 9.94727C17.2429 10.0322 17.1038 10.0747 16.9163 10.0747V14.5H16.0242L13.7082 10.8745ZM21.9236 9.40234C21.9792 9.32617 22.0393 9.26904 22.1037 9.23096C22.1711 9.19287 22.2429 9.17383 22.3191 9.17383C22.4509 9.17383 22.5578 9.21924 22.6399 9.31006C22.7248 9.40088 22.7673 9.55469 22.7673 9.77148V10.5361C22.7673 10.7529 22.7248 10.9082 22.6399 11.002C22.5578 11.0928 22.4509 11.1382 22.3191 11.1382C22.1989 11.1382 22.1023 11.1045 22.029 11.0371C21.9558 10.9697 21.9016 10.8438 21.8664 10.6592C21.8459 10.5361 21.8049 10.4409 21.7434 10.3735C21.6233 10.2417 21.4548 10.1362 21.238 10.0571C21.0241 9.97803 20.8088 9.93848 20.592 9.93848C20.3225 9.93848 20.0749 9.99707 19.8493 10.1143C19.6237 10.2314 19.4245 10.4219 19.2517 10.6855C19.0788 10.9492 18.9924 11.2627 18.9924 11.626V12.2104C18.9924 12.644 19.1491 13.0059 19.4626 13.2959C19.779 13.5859 20.217 13.731 20.7766 13.731C21.1106 13.731 21.3933 13.6855 21.6247 13.5947C21.7595 13.542 21.903 13.438 22.0554 13.2827C22.1491 13.189 22.2224 13.1289 22.2751 13.1025C22.3279 13.0732 22.3879 13.0586 22.4553 13.0586C22.5754 13.0586 22.6809 13.104 22.7717 13.1948C22.8625 13.2856 22.9079 13.3926 22.9079 13.5156C22.9079 13.6387 22.8464 13.7705 22.7234 13.9111C22.5446 14.1162 22.3147 14.2773 22.0334 14.3945C21.6555 14.5527 21.238 14.6318 20.781 14.6318C20.2478 14.6318 19.7673 14.522 19.3396 14.3022C18.9939 14.1265 18.6994 13.8496 18.4563 13.4717C18.2131 13.0908 18.0915 12.6763 18.0915 12.228V11.6172C18.0915 11.1484 18.1999 10.7119 18.4167 10.3076C18.6364 9.90039 18.9397 9.58691 19.3264 9.36719C19.7131 9.14746 20.1233 9.0376 20.5569 9.0376C20.8176 9.0376 21.0608 9.06836 21.2863 9.12988C21.5149 9.18848 21.7273 9.2793 21.9236 9.40234Z"}),f("rect",{x:"23",y:"22.5",width:"22",height:"2",rx:"1",transform:"rotate(-180 23 22.5)"}),f("rect",{x:"21.5",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 21.5 22.5)"}),f("rect",{x:"14.6667",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 14.6667 22.5)"}),f("rect",{x:"7.83333",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 7.83333 22.5)"}),f("rect",{x:"1",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 1 22.5)"})]})})}):null},x3=ev(bC);function M3(t){var e=t.onInit,r=t.theme,n=t.togglerComponent,o=t.monomersLibraryUpdate,a=S.useRef(null),i=r?wt.merge(zd,r):zd,s=wt.merge(x3,{ketcher:i});return S.useEffect(function(){e==null||e()},[e]),f(Om,{store:yC,children:I(km,{theme:s,children:[f(Em,{styles:xC}),f(q4,{ref:a,className:Pm,children:f(C3,{theme:i,togglerComponent:n,monomersLibraryUpdate:o})})]})})}function C3(t){var e=t.theme,r=t.togglerComponent,n=t.monomersLibraryUpdate,o=ce(),a=S.useRef(null),i=T(Ux),s=T(ue),u=T(yx),l=$4(),c=S.useState(!1),d=j(c,2),v=d[0],p=d[1],h=kC(),m=S.useState(),y=j(m,2),b=y[0],g=y[1],w=S.useState([]),x=j(w,2),M=x[0],A=x[1],P=an({id:Ue.FOR_SEQUENCE}),O=P.show,k=an({id:Ue.FOR_POLYMER_BOND}),_=k.show,E=an({id:Ue.FOR_SELECTED_MONOMERS}),L=E.show;S.useEffect(function(){return o(hx({theme:e,canvas:a.current,monomersLibraryUpdate:n})),function(){o(px(null))}},[o]),W4(),S.useEffect(function(){s==null||s.events.rightClickSequence.add(function(R){var D=j(R,2),q=D[0],$=D[1];g($),O({event:q,props:{sequenceItemRenderer:q.target.__data__}})}),s==null||s.events.rightClickPolymerBond.add(function(R){var D=j(R,2),q=D[0],$=D[1];_({event:q,props:{polymerBondRenderer:$}})}),s==null||s.events.rightClickSelectedMonomers.add(function(R){var D=j(R,2),q=D[0],$=D[1];A($),L({event:q,props:{selectedMonomers:$}})}),s==null||s.events.rightClickCanvas.add(function(R){O({event:R,props:{}})})},[s]),S.useEffect(function(){return s==null||s.zoomTool.observeCanvasResize(),function(){s==null||s.zoomTool.destroy()}},[s]);var H=function(){o(qx())};return I(te,{children:[I(je,{children:[I(je.Top,{shortened:v,"data-testid":"top-toolbar",children:[f(e3,{}),I(B4,{children:[f(b3,{}),f(l2,{}),f(J2,{}),f(z4,{className:h?"toggler-component-wrapper--disabled":"",children:r}),f(J4,{}),f(Xp,{}),f(f3,{})]})]}),f(je.Left,{children:f(r3,{})}),I(je.Main,{children:[f(m3,{}),I(H4,{id:"polymer-editor-canvas","data-testid":"ketcher-canvas",preserveAspectRatio:"xMidYMid meet",ref:a,width:"100%",height:"100%",style:{overflow:"hidden",overflowClipMargin:"content-box"},children:[I("defs",{children:[f(k4,{}),f(P4,{}),f(O4,{}),f(_4,{}),f(T4,{}),f(N4,{}),f(j4,{}),f(L4,{}),f(R4,{})]}),f("g",{className:"drawn-structures"}),u&&f("rect",{x:0,y:0,width:"100%",height:"100%",fill:"transparent",pointerEvents:"all"})]}),l&&f(V4,{})]}),f(je.Right,{hide:v,children:f(Rw,{})}),f(je.InsideRoot,{children:f(Dw,{isHidden:v,onClick:function(){return p(function(D){return!D})}})})]}),f(X2,{}),f(y2,{selections:b}),f(v3,{}),f(g3,{selectedMonomers:M}),f(M4,{}),f(F4,{}),f(A0,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!i,onClose:H,autoHideDuration:6e3,children:I(A4,{id:"error-tooltip",children:[f(I4,{"data-testid":"error-tooltip",children:i}),f(E4,{iconName:"close",onClick:H})]})})]})}export{M3 as default};
